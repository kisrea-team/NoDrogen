"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "node_modules_react-notion-x_build_third-party_collection_js";
exports.ids = ["node_modules_react-notion-x_build_third-party_collection_js"];
exports.modules = {

/***/ "./node_modules/react-notion-x/build/third-party/collection.js":
/*!*********************************************************************!*\
  !*** ./node_modules/react-notion-x/build/third-party/collection.js ***!
  \*********************************************************************/
/***/ ((__webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(__webpack_module__, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Collection\": () => (/* binding */ Collection),\n/* harmony export */   \"Property\": () => (/* binding */ PropertyImplMemo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var notion_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! notion-utils */ \"notion-utils\");\n/* harmony import */ var react_use__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-use */ \"react-use\");\n/* harmony import */ var react_image__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-image */ \"react-image\");\n/* harmony import */ var react_lazy_images__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! react-lazy-images */ \"react-lazy-images\");\n/* harmony import */ var react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react-hotkeys-hook */ \"react-hotkeys-hook\");\n/* harmony import */ var react_fast_compare__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-fast-compare */ \"react-fast-compare\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([notion_utils__WEBPACK_IMPORTED_MODULE_1__]);\nnotion_utils__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\nvar __create = Object.create;\nvar __defProp = Object.defineProperty;\nvar __defProps = Object.defineProperties;\nvar __getOwnPropDesc = Object.getOwnPropertyDescriptor;\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\nvar __getOwnPropNames = Object.getOwnPropertyNames;\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\nvar __getProtoOf = Object.getPrototypeOf;\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\nvar __spreadValues = (a, b) => {\n  for (var prop in b || (b = {}))\n    if (__hasOwnProp.call(b, prop))\n      __defNormalProp(a, prop, b[prop]);\n  if (__getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(b)) {\n      if (__propIsEnum.call(b, prop))\n        __defNormalProp(a, prop, b[prop]);\n    }\n  return a;\n};\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\nvar __objRest = (source, exclude) => {\n  var target = {};\n  for (var prop in source)\n    if (__hasOwnProp.call(source, prop) && exclude.indexOf(prop) < 0)\n      target[prop] = source[prop];\n  if (source != null && __getOwnPropSymbols)\n    for (var prop of __getOwnPropSymbols(source)) {\n      if (exclude.indexOf(prop) < 0 && __propIsEnum.call(source, prop))\n        target[prop] = source[prop];\n    }\n  return target;\n};\nvar __commonJS = (cb, mod) => function __require() {\n  return mod || (0, cb[__getOwnPropNames(cb)[0]])((mod = { exports: {} }).exports, mod), mod.exports;\n};\nvar __copyProps = (to, from, except, desc) => {\n  if (from && typeof from === \"object\" || typeof from === \"function\") {\n    for (let key of __getOwnPropNames(from))\n      if (!__hasOwnProp.call(to, key) && key !== except)\n        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\n  }\n  return to;\n};\nvar __toESM = (mod, isNodeMode, target) => (target = mod != null ? __create(__getProtoOf(mod)) : {}, __copyProps(\n  isNodeMode || !mod || !mod.__esModule ? __defProp(target, \"default\", { value: mod, enumerable: true }) : target,\n  mod\n));\nvar __async = (__this, __arguments, generator) => {\n  return new Promise((resolve, reject) => {\n    var fulfilled = (value) => {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var rejected = (value) => {\n      try {\n        step(generator.throw(value));\n      } catch (e) {\n        reject(e);\n      }\n    };\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\n    step((generator = generator.apply(__this, __arguments)).next());\n  });\n};\n\n// ../../node_modules/lodash.throttle/index.js\nvar require_lodash = __commonJS({\n  \"../../node_modules/lodash.throttle/index.js\"(exports, module) {\n    var FUNC_ERROR_TEXT = \"Expected a function\";\n    var NAN = 0 / 0;\n    var symbolTag = \"[object Symbol]\";\n    var reTrim = /^\\s+|\\s+$/g;\n    var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n    var reIsBinary = /^0b[01]+$/i;\n    var reIsOctal = /^0o[0-7]+$/i;\n    var freeParseInt = parseInt;\n    var freeGlobal = typeof global == \"object\" && global && global.Object === Object && global;\n    var freeSelf = typeof self == \"object\" && self && self.Object === Object && self;\n    var root = freeGlobal || freeSelf || Function(\"return this\")();\n    var objectProto = Object.prototype;\n    var objectToString = objectProto.toString;\n    var nativeMax = Math.max;\n    var nativeMin = Math.min;\n    var now = function() {\n      return root.Date.now();\n    };\n    function debounce(func, wait, options) {\n      var lastArgs, lastThis, maxWait, result, timerId, lastCallTime, lastInvokeTime = 0, leading = false, maxing = false, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      wait = toNumber(wait) || 0;\n      if (isObject(options)) {\n        leading = !!options.leading;\n        maxing = \"maxWait\" in options;\n        maxWait = maxing ? nativeMax(toNumber(options.maxWait) || 0, wait) : maxWait;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      function invokeFunc(time) {\n        var args = lastArgs, thisArg = lastThis;\n        lastArgs = lastThis = void 0;\n        lastInvokeTime = time;\n        result = func.apply(thisArg, args);\n        return result;\n      }\n      function leadingEdge(time) {\n        lastInvokeTime = time;\n        timerId = setTimeout(timerExpired, wait);\n        return leading ? invokeFunc(time) : result;\n      }\n      function remainingWait(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime, result2 = wait - timeSinceLastCall;\n        return maxing ? nativeMin(result2, maxWait - timeSinceLastInvoke) : result2;\n      }\n      function shouldInvoke(time) {\n        var timeSinceLastCall = time - lastCallTime, timeSinceLastInvoke = time - lastInvokeTime;\n        return lastCallTime === void 0 || timeSinceLastCall >= wait || timeSinceLastCall < 0 || maxing && timeSinceLastInvoke >= maxWait;\n      }\n      function timerExpired() {\n        var time = now();\n        if (shouldInvoke(time)) {\n          return trailingEdge(time);\n        }\n        timerId = setTimeout(timerExpired, remainingWait(time));\n      }\n      function trailingEdge(time) {\n        timerId = void 0;\n        if (trailing && lastArgs) {\n          return invokeFunc(time);\n        }\n        lastArgs = lastThis = void 0;\n        return result;\n      }\n      function cancel() {\n        if (timerId !== void 0) {\n          clearTimeout(timerId);\n        }\n        lastInvokeTime = 0;\n        lastArgs = lastCallTime = lastThis = timerId = void 0;\n      }\n      function flush() {\n        return timerId === void 0 ? result : trailingEdge(now());\n      }\n      function debounced() {\n        var time = now(), isInvoking = shouldInvoke(time);\n        lastArgs = arguments;\n        lastThis = this;\n        lastCallTime = time;\n        if (isInvoking) {\n          if (timerId === void 0) {\n            return leadingEdge(lastCallTime);\n          }\n          if (maxing) {\n            timerId = setTimeout(timerExpired, wait);\n            return invokeFunc(lastCallTime);\n          }\n        }\n        if (timerId === void 0) {\n          timerId = setTimeout(timerExpired, wait);\n        }\n        return result;\n      }\n      debounced.cancel = cancel;\n      debounced.flush = flush;\n      return debounced;\n    }\n    function throttle2(func, wait, options) {\n      var leading = true, trailing = true;\n      if (typeof func != \"function\") {\n        throw new TypeError(FUNC_ERROR_TEXT);\n      }\n      if (isObject(options)) {\n        leading = \"leading\" in options ? !!options.leading : leading;\n        trailing = \"trailing\" in options ? !!options.trailing : trailing;\n      }\n      return debounce(func, wait, {\n        \"leading\": leading,\n        \"maxWait\": wait,\n        \"trailing\": trailing\n      });\n    }\n    function isObject(value) {\n      var type = typeof value;\n      return !!value && (type == \"object\" || type == \"function\");\n    }\n    function isObjectLike(value) {\n      return !!value && typeof value == \"object\";\n    }\n    function isSymbol(value) {\n      return typeof value == \"symbol\" || isObjectLike(value) && objectToString.call(value) == symbolTag;\n    }\n    function toNumber(value) {\n      if (typeof value == \"number\") {\n        return value;\n      }\n      if (isSymbol(value)) {\n        return NAN;\n      }\n      if (isObject(value)) {\n        var other = typeof value.valueOf == \"function\" ? value.valueOf() : value;\n        value = isObject(other) ? other + \"\" : other;\n      }\n      if (typeof value != \"string\") {\n        return value === 0 ? value : +value;\n      }\n      value = value.replace(reTrim, \"\");\n      var isBinary = reIsBinary.test(value);\n      return isBinary || reIsOctal.test(value) ? freeParseInt(value.slice(2), isBinary ? 2 : 8) : reIsBadHex.test(value) ? NAN : +value;\n    }\n    module.exports = throttle2;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/requiredArgs/index.js\nvar require_requiredArgs = __commonJS({\n  \"../../node_modules/date-fns/_lib/requiredArgs/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = requiredArgs;\n    function requiredArgs(required, args) {\n      if (args.length < required) {\n        throw new TypeError(required + \" argument\" + (required > 1 ? \"s\" : \"\") + \" required, but only \" + args.length + \" present\");\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/isDate/index.js\nvar require_isDate = __commonJS({\n  \"../../node_modules/date-fns/isDate/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = isDate;\n    var _index = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function isDate(value) {\n      (0, _index.default)(1, arguments);\n      return value instanceof Date || typeof value === \"object\" && Object.prototype.toString.call(value) === \"[object Date]\";\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/toDate/index.js\nvar require_toDate = __commonJS({\n  \"../../node_modules/date-fns/toDate/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = toDate;\n    var _index = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function toDate(argument) {\n      (0, _index.default)(1, arguments);\n      var argStr = Object.prototype.toString.call(argument);\n      if (argument instanceof Date || typeof argument === \"object\" && argStr === \"[object Date]\") {\n        return new Date(argument.getTime());\n      } else if (typeof argument === \"number\" || argStr === \"[object Number]\") {\n        return new Date(argument);\n      } else {\n        if ((typeof argument === \"string\" || argStr === \"[object String]\") && typeof console !== \"undefined\") {\n          console.warn(\"Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule\");\n          console.warn(new Error().stack);\n        }\n        return new Date(NaN);\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/isValid/index.js\nvar require_isValid = __commonJS({\n  \"../../node_modules/date-fns/isValid/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = isValid;\n    var _index = _interopRequireDefault(require_isDate());\n    var _index2 = _interopRequireDefault(require_toDate());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function isValid(dirtyDate) {\n      (0, _index3.default)(1, arguments);\n      if (!(0, _index.default)(dirtyDate) && typeof dirtyDate !== \"number\") {\n        return false;\n      }\n      var date = (0, _index2.default)(dirtyDate);\n      return !isNaN(Number(date));\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/formatDistance/index.js\nvar require_formatDistance = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/formatDistance/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var formatDistanceLocale = {\n      lessThanXSeconds: {\n        one: \"less than a second\",\n        other: \"less than {{count}} seconds\"\n      },\n      xSeconds: {\n        one: \"1 second\",\n        other: \"{{count}} seconds\"\n      },\n      halfAMinute: \"half a minute\",\n      lessThanXMinutes: {\n        one: \"less than a minute\",\n        other: \"less than {{count}} minutes\"\n      },\n      xMinutes: {\n        one: \"1 minute\",\n        other: \"{{count}} minutes\"\n      },\n      aboutXHours: {\n        one: \"about 1 hour\",\n        other: \"about {{count}} hours\"\n      },\n      xHours: {\n        one: \"1 hour\",\n        other: \"{{count}} hours\"\n      },\n      xDays: {\n        one: \"1 day\",\n        other: \"{{count}} days\"\n      },\n      aboutXWeeks: {\n        one: \"about 1 week\",\n        other: \"about {{count}} weeks\"\n      },\n      xWeeks: {\n        one: \"1 week\",\n        other: \"{{count}} weeks\"\n      },\n      aboutXMonths: {\n        one: \"about 1 month\",\n        other: \"about {{count}} months\"\n      },\n      xMonths: {\n        one: \"1 month\",\n        other: \"{{count}} months\"\n      },\n      aboutXYears: {\n        one: \"about 1 year\",\n        other: \"about {{count}} years\"\n      },\n      xYears: {\n        one: \"1 year\",\n        other: \"{{count}} years\"\n      },\n      overXYears: {\n        one: \"over 1 year\",\n        other: \"over {{count}} years\"\n      },\n      almostXYears: {\n        one: \"almost 1 year\",\n        other: \"almost {{count}} years\"\n      }\n    };\n    var formatDistance = function(token, count, options) {\n      var result;\n      var tokenValue = formatDistanceLocale[token];\n      if (typeof tokenValue === \"string\") {\n        result = tokenValue;\n      } else if (count === 1) {\n        result = tokenValue.one;\n      } else {\n        result = tokenValue.other.replace(\"{{count}}\", count.toString());\n      }\n      if (options !== null && options !== void 0 && options.addSuffix) {\n        if (options.comparison && options.comparison > 0) {\n          return \"in \" + result;\n        } else {\n          return result + \" ago\";\n        }\n      }\n      return result;\n    };\n    var _default = formatDistance;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/_lib/buildFormatLongFn/index.js\nvar require_buildFormatLongFn = __commonJS({\n  \"../../node_modules/date-fns/locale/_lib/buildFormatLongFn/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = buildFormatLongFn;\n    function buildFormatLongFn(args) {\n      return function() {\n        var options = arguments.length > 0 && arguments[0] !== void 0 ? arguments[0] : {};\n        var width = options.width ? String(options.width) : args.defaultWidth;\n        var format4 = args.formats[width] || args.formats[args.defaultWidth];\n        return format4;\n      };\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/formatLong/index.js\nvar require_formatLong = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/formatLong/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_buildFormatLongFn());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var dateFormats = {\n      full: \"EEEE, MMMM do, y\",\n      long: \"MMMM do, y\",\n      medium: \"MMM d, y\",\n      short: \"MM/dd/yyyy\"\n    };\n    var timeFormats = {\n      full: \"h:mm:ss a zzzz\",\n      long: \"h:mm:ss a z\",\n      medium: \"h:mm:ss a\",\n      short: \"h:mm a\"\n    };\n    var dateTimeFormats = {\n      full: \"{{date}} 'at' {{time}}\",\n      long: \"{{date}} 'at' {{time}}\",\n      medium: \"{{date}}, {{time}}\",\n      short: \"{{date}}, {{time}}\"\n    };\n    var formatLong = {\n      date: (0, _index.default)({\n        formats: dateFormats,\n        defaultWidth: \"full\"\n      }),\n      time: (0, _index.default)({\n        formats: timeFormats,\n        defaultWidth: \"full\"\n      }),\n      dateTime: (0, _index.default)({\n        formats: dateTimeFormats,\n        defaultWidth: \"full\"\n      })\n    };\n    var _default = formatLong;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/formatRelative/index.js\nvar require_formatRelative = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/formatRelative/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var formatRelativeLocale = {\n      lastWeek: \"'last' eeee 'at' p\",\n      yesterday: \"'yesterday at' p\",\n      today: \"'today at' p\",\n      tomorrow: \"'tomorrow at' p\",\n      nextWeek: \"eeee 'at' p\",\n      other: \"P\"\n    };\n    var formatRelative = function(token, _date, _baseDate, _options) {\n      return formatRelativeLocale[token];\n    };\n    var _default = formatRelative;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/_lib/buildLocalizeFn/index.js\nvar require_buildLocalizeFn = __commonJS({\n  \"../../node_modules/date-fns/locale/_lib/buildLocalizeFn/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = buildLocalizeFn;\n    function buildLocalizeFn(args) {\n      return function(dirtyIndex, dirtyOptions) {\n        var options = dirtyOptions || {};\n        var context = options.context ? String(options.context) : \"standalone\";\n        var valuesArray;\n        if (context === \"formatting\" && args.formattingValues) {\n          var defaultWidth = args.defaultFormattingWidth || args.defaultWidth;\n          var width = options.width ? String(options.width) : defaultWidth;\n          valuesArray = args.formattingValues[width] || args.formattingValues[defaultWidth];\n        } else {\n          var _defaultWidth = args.defaultWidth;\n          var _width = options.width ? String(options.width) : args.defaultWidth;\n          valuesArray = args.values[_width] || args.values[_defaultWidth];\n        }\n        var index = args.argumentCallback ? args.argumentCallback(dirtyIndex) : dirtyIndex;\n        return valuesArray[index];\n      };\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/localize/index.js\nvar require_localize = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/localize/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_buildLocalizeFn());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var eraValues = {\n      narrow: [\"B\", \"A\"],\n      abbreviated: [\"BC\", \"AD\"],\n      wide: [\"Before Christ\", \"Anno Domini\"]\n    };\n    var quarterValues = {\n      narrow: [\"1\", \"2\", \"3\", \"4\"],\n      abbreviated: [\"Q1\", \"Q2\", \"Q3\", \"Q4\"],\n      wide: [\"1st quarter\", \"2nd quarter\", \"3rd quarter\", \"4th quarter\"]\n    };\n    var monthValues = {\n      narrow: [\"J\", \"F\", \"M\", \"A\", \"M\", \"J\", \"J\", \"A\", \"S\", \"O\", \"N\", \"D\"],\n      abbreviated: [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"],\n      wide: [\"January\", \"February\", \"March\", \"April\", \"May\", \"June\", \"July\", \"August\", \"September\", \"October\", \"November\", \"December\"]\n    };\n    var dayValues = {\n      narrow: [\"S\", \"M\", \"T\", \"W\", \"T\", \"F\", \"S\"],\n      short: [\"Su\", \"Mo\", \"Tu\", \"We\", \"Th\", \"Fr\", \"Sa\"],\n      abbreviated: [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"],\n      wide: [\"Sunday\", \"Monday\", \"Tuesday\", \"Wednesday\", \"Thursday\", \"Friday\", \"Saturday\"]\n    };\n    var dayPeriodValues = {\n      narrow: {\n        am: \"a\",\n        pm: \"p\",\n        midnight: \"mi\",\n        noon: \"n\",\n        morning: \"morning\",\n        afternoon: \"afternoon\",\n        evening: \"evening\",\n        night: \"night\"\n      },\n      abbreviated: {\n        am: \"AM\",\n        pm: \"PM\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"morning\",\n        afternoon: \"afternoon\",\n        evening: \"evening\",\n        night: \"night\"\n      },\n      wide: {\n        am: \"a.m.\",\n        pm: \"p.m.\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"morning\",\n        afternoon: \"afternoon\",\n        evening: \"evening\",\n        night: \"night\"\n      }\n    };\n    var formattingDayPeriodValues = {\n      narrow: {\n        am: \"a\",\n        pm: \"p\",\n        midnight: \"mi\",\n        noon: \"n\",\n        morning: \"in the morning\",\n        afternoon: \"in the afternoon\",\n        evening: \"in the evening\",\n        night: \"at night\"\n      },\n      abbreviated: {\n        am: \"AM\",\n        pm: \"PM\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"in the morning\",\n        afternoon: \"in the afternoon\",\n        evening: \"in the evening\",\n        night: \"at night\"\n      },\n      wide: {\n        am: \"a.m.\",\n        pm: \"p.m.\",\n        midnight: \"midnight\",\n        noon: \"noon\",\n        morning: \"in the morning\",\n        afternoon: \"in the afternoon\",\n        evening: \"in the evening\",\n        night: \"at night\"\n      }\n    };\n    var ordinalNumber = function(dirtyNumber, _options) {\n      var number = Number(dirtyNumber);\n      var rem100 = number % 100;\n      if (rem100 > 20 || rem100 < 10) {\n        switch (rem100 % 10) {\n          case 1:\n            return number + \"st\";\n          case 2:\n            return number + \"nd\";\n          case 3:\n            return number + \"rd\";\n        }\n      }\n      return number + \"th\";\n    };\n    var localize = {\n      ordinalNumber,\n      era: (0, _index.default)({\n        values: eraValues,\n        defaultWidth: \"wide\"\n      }),\n      quarter: (0, _index.default)({\n        values: quarterValues,\n        defaultWidth: \"wide\",\n        argumentCallback: function(quarter) {\n          return quarter - 1;\n        }\n      }),\n      month: (0, _index.default)({\n        values: monthValues,\n        defaultWidth: \"wide\"\n      }),\n      day: (0, _index.default)({\n        values: dayValues,\n        defaultWidth: \"wide\"\n      }),\n      dayPeriod: (0, _index.default)({\n        values: dayPeriodValues,\n        defaultWidth: \"wide\",\n        formattingValues: formattingDayPeriodValues,\n        defaultFormattingWidth: \"wide\"\n      })\n    };\n    var _default = localize;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/_lib/buildMatchFn/index.js\nvar require_buildMatchFn = __commonJS({\n  \"../../node_modules/date-fns/locale/_lib/buildMatchFn/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = buildMatchFn;\n    function buildMatchFn(args) {\n      return function(string) {\n        var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        var width = options.width;\n        var matchPattern = width && args.matchPatterns[width] || args.matchPatterns[args.defaultMatchWidth];\n        var matchResult = string.match(matchPattern);\n        if (!matchResult) {\n          return null;\n        }\n        var matchedString = matchResult[0];\n        var parsePatterns = width && args.parsePatterns[width] || args.parsePatterns[args.defaultParseWidth];\n        var key = Array.isArray(parsePatterns) ? findIndex(parsePatterns, function(pattern) {\n          return pattern.test(matchedString);\n        }) : findKey(parsePatterns, function(pattern) {\n          return pattern.test(matchedString);\n        });\n        var value;\n        value = args.valueCallback ? args.valueCallback(key) : key;\n        value = options.valueCallback ? options.valueCallback(value) : value;\n        var rest = string.slice(matchedString.length);\n        return {\n          value,\n          rest\n        };\n      };\n    }\n    function findKey(object, predicate) {\n      for (var key in object) {\n        if (object.hasOwnProperty(key) && predicate(object[key])) {\n          return key;\n        }\n      }\n      return void 0;\n    }\n    function findIndex(array, predicate) {\n      for (var key = 0; key < array.length; key++) {\n        if (predicate(array[key])) {\n          return key;\n        }\n      }\n      return void 0;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/_lib/buildMatchPatternFn/index.js\nvar require_buildMatchPatternFn = __commonJS({\n  \"../../node_modules/date-fns/locale/_lib/buildMatchPatternFn/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = buildMatchPatternFn;\n    function buildMatchPatternFn(args) {\n      return function(string) {\n        var options = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : {};\n        var matchResult = string.match(args.matchPattern);\n        if (!matchResult)\n          return null;\n        var matchedString = matchResult[0];\n        var parseResult = string.match(args.parsePattern);\n        if (!parseResult)\n          return null;\n        var value = args.valueCallback ? args.valueCallback(parseResult[0]) : parseResult[0];\n        value = options.valueCallback ? options.valueCallback(value) : value;\n        var rest = string.slice(matchedString.length);\n        return {\n          value,\n          rest\n        };\n      };\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/_lib/match/index.js\nvar require_match = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/_lib/match/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_buildMatchFn());\n    var _index2 = _interopRequireDefault(require_buildMatchPatternFn());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var matchOrdinalNumberPattern = /^(\\d+)(th|st|nd|rd)?/i;\n    var parseOrdinalNumberPattern = /\\d+/i;\n    var matchEraPatterns = {\n      narrow: /^(b|a)/i,\n      abbreviated: /^(b\\.?\\s?c\\.?|b\\.?\\s?c\\.?\\s?e\\.?|a\\.?\\s?d\\.?|c\\.?\\s?e\\.?)/i,\n      wide: /^(before christ|before common era|anno domini|common era)/i\n    };\n    var parseEraPatterns = {\n      any: [/^b/i, /^(a|c)/i]\n    };\n    var matchQuarterPatterns = {\n      narrow: /^[1234]/i,\n      abbreviated: /^q[1234]/i,\n      wide: /^[1234](th|st|nd|rd)? quarter/i\n    };\n    var parseQuarterPatterns = {\n      any: [/1/i, /2/i, /3/i, /4/i]\n    };\n    var matchMonthPatterns = {\n      narrow: /^[jfmasond]/i,\n      abbreviated: /^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,\n      wide: /^(january|february|march|april|may|june|july|august|september|october|november|december)/i\n    };\n    var parseMonthPatterns = {\n      narrow: [/^j/i, /^f/i, /^m/i, /^a/i, /^m/i, /^j/i, /^j/i, /^a/i, /^s/i, /^o/i, /^n/i, /^d/i],\n      any: [/^ja/i, /^f/i, /^mar/i, /^ap/i, /^may/i, /^jun/i, /^jul/i, /^au/i, /^s/i, /^o/i, /^n/i, /^d/i]\n    };\n    var matchDayPatterns = {\n      narrow: /^[smtwf]/i,\n      short: /^(su|mo|tu|we|th|fr|sa)/i,\n      abbreviated: /^(sun|mon|tue|wed|thu|fri|sat)/i,\n      wide: /^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i\n    };\n    var parseDayPatterns = {\n      narrow: [/^s/i, /^m/i, /^t/i, /^w/i, /^t/i, /^f/i, /^s/i],\n      any: [/^su/i, /^m/i, /^tu/i, /^w/i, /^th/i, /^f/i, /^sa/i]\n    };\n    var matchDayPeriodPatterns = {\n      narrow: /^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,\n      any: /^([ap]\\.?\\s?m\\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i\n    };\n    var parseDayPeriodPatterns = {\n      any: {\n        am: /^a/i,\n        pm: /^p/i,\n        midnight: /^mi/i,\n        noon: /^no/i,\n        morning: /morning/i,\n        afternoon: /afternoon/i,\n        evening: /evening/i,\n        night: /night/i\n      }\n    };\n    var match = {\n      ordinalNumber: (0, _index2.default)({\n        matchPattern: matchOrdinalNumberPattern,\n        parsePattern: parseOrdinalNumberPattern,\n        valueCallback: function(value) {\n          return parseInt(value, 10);\n        }\n      }),\n      era: (0, _index.default)({\n        matchPatterns: matchEraPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: parseEraPatterns,\n        defaultParseWidth: \"any\"\n      }),\n      quarter: (0, _index.default)({\n        matchPatterns: matchQuarterPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: parseQuarterPatterns,\n        defaultParseWidth: \"any\",\n        valueCallback: function(index) {\n          return index + 1;\n        }\n      }),\n      month: (0, _index.default)({\n        matchPatterns: matchMonthPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: parseMonthPatterns,\n        defaultParseWidth: \"any\"\n      }),\n      day: (0, _index.default)({\n        matchPatterns: matchDayPatterns,\n        defaultMatchWidth: \"wide\",\n        parsePatterns: parseDayPatterns,\n        defaultParseWidth: \"any\"\n      }),\n      dayPeriod: (0, _index.default)({\n        matchPatterns: matchDayPeriodPatterns,\n        defaultMatchWidth: \"any\",\n        parsePatterns: parseDayPeriodPatterns,\n        defaultParseWidth: \"any\"\n      })\n    };\n    var _default = match;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/locale/en-US/index.js\nvar require_en_US = __commonJS({\n  \"../../node_modules/date-fns/locale/en-US/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_formatDistance());\n    var _index2 = _interopRequireDefault(require_formatLong());\n    var _index3 = _interopRequireDefault(require_formatRelative());\n    var _index4 = _interopRequireDefault(require_localize());\n    var _index5 = _interopRequireDefault(require_match());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var locale = {\n      code: \"en-US\",\n      formatDistance: _index.default,\n      formatLong: _index2.default,\n      formatRelative: _index3.default,\n      localize: _index4.default,\n      match: _index5.default,\n      options: {\n        weekStartsOn: 0,\n        firstWeekContainsDate: 1\n      }\n    };\n    var _default = locale;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/toInteger/index.js\nvar require_toInteger = __commonJS({\n  \"../../node_modules/date-fns/_lib/toInteger/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = toInteger;\n    function toInteger(dirtyNumber) {\n      if (dirtyNumber === null || dirtyNumber === true || dirtyNumber === false) {\n        return NaN;\n      }\n      var number = Number(dirtyNumber);\n      if (isNaN(number)) {\n        return number;\n      }\n      return number < 0 ? Math.ceil(number) : Math.floor(number);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/addMilliseconds/index.js\nvar require_addMilliseconds = __commonJS({\n  \"../../node_modules/date-fns/addMilliseconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = addMilliseconds;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_toDate());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function addMilliseconds(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var timestamp = (0, _index2.default)(dirtyDate).getTime();\n      var amount = (0, _index.default)(dirtyAmount);\n      return new Date(timestamp + amount);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/subMilliseconds/index.js\nvar require_subMilliseconds = __commonJS({\n  \"../../node_modules/date-fns/subMilliseconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = subMilliseconds;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_addMilliseconds());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function subMilliseconds(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var amount = (0, _index.default)(dirtyAmount);\n      return (0, _index2.default)(dirtyDate, -amount);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCDayOfYear/index.js\nvar require_getUTCDayOfYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCDayOfYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCDayOfYear;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var MILLISECONDS_IN_DAY = 864e5;\n    function getUTCDayOfYear(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var timestamp = date.getTime();\n      date.setUTCMonth(0, 1);\n      date.setUTCHours(0, 0, 0, 0);\n      var startOfYearTimestamp = date.getTime();\n      var difference = timestamp - startOfYearTimestamp;\n      return Math.floor(difference / MILLISECONDS_IN_DAY) + 1;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/startOfUTCISOWeek/index.js\nvar require_startOfUTCISOWeek = __commonJS({\n  \"../../node_modules/date-fns/_lib/startOfUTCISOWeek/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfUTCISOWeek;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfUTCISOWeek(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var weekStartsOn = 1;\n      var date = (0, _index.default)(dirtyDate);\n      var day = date.getUTCDay();\n      var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n      date.setUTCDate(date.getUTCDate() - diff);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCISOWeekYear/index.js\nvar require_getUTCISOWeekYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCISOWeekYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCISOWeekYear;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = _interopRequireDefault(require_startOfUTCISOWeek());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getUTCISOWeekYear(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var year = date.getUTCFullYear();\n      var fourthOfJanuaryOfNextYear = new Date(0);\n      fourthOfJanuaryOfNextYear.setUTCFullYear(year + 1, 0, 4);\n      fourthOfJanuaryOfNextYear.setUTCHours(0, 0, 0, 0);\n      var startOfNextYear = (0, _index3.default)(fourthOfJanuaryOfNextYear);\n      var fourthOfJanuaryOfThisYear = new Date(0);\n      fourthOfJanuaryOfThisYear.setUTCFullYear(year, 0, 4);\n      fourthOfJanuaryOfThisYear.setUTCHours(0, 0, 0, 0);\n      var startOfThisYear = (0, _index3.default)(fourthOfJanuaryOfThisYear);\n      if (date.getTime() >= startOfNextYear.getTime()) {\n        return year + 1;\n      } else if (date.getTime() >= startOfThisYear.getTime()) {\n        return year;\n      } else {\n        return year - 1;\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/startOfUTCISOWeekYear/index.js\nvar require_startOfUTCISOWeekYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/startOfUTCISOWeekYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfUTCISOWeekYear;\n    var _index = _interopRequireDefault(require_getUTCISOWeekYear());\n    var _index2 = _interopRequireDefault(require_startOfUTCISOWeek());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfUTCISOWeekYear(dirtyDate) {\n      (0, _index3.default)(1, arguments);\n      var year = (0, _index.default)(dirtyDate);\n      var fourthOfJanuary = new Date(0);\n      fourthOfJanuary.setUTCFullYear(year, 0, 4);\n      fourthOfJanuary.setUTCHours(0, 0, 0, 0);\n      var date = (0, _index2.default)(fourthOfJanuary);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCISOWeek/index.js\nvar require_getUTCISOWeek = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCISOWeek/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCISOWeek;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_startOfUTCISOWeek());\n    var _index3 = _interopRequireDefault(require_startOfUTCISOWeekYear());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var MILLISECONDS_IN_WEEK = 6048e5;\n    function getUTCISOWeek(dirtyDate) {\n      (0, _index4.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var diff = (0, _index2.default)(date).getTime() - (0, _index3.default)(date).getTime();\n      return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/startOfUTCWeek/index.js\nvar require_startOfUTCWeek = __commonJS({\n  \"../../node_modules/date-fns/_lib/startOfUTCWeek/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfUTCWeek;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfUTCWeek(dirtyDate, dirtyOptions) {\n      (0, _index2.default)(1, arguments);\n      var options = dirtyOptions || {};\n      var locale = options.locale;\n      var localeWeekStartsOn = locale && locale.options && locale.options.weekStartsOn;\n      var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : (0, _index3.default)(localeWeekStartsOn);\n      var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : (0, _index3.default)(options.weekStartsOn);\n      if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n        throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");\n      }\n      var date = (0, _index.default)(dirtyDate);\n      var day = date.getUTCDay();\n      var diff = (day < weekStartsOn ? 7 : 0) + day - weekStartsOn;\n      date.setUTCDate(date.getUTCDate() - diff);\n      date.setUTCHours(0, 0, 0, 0);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCWeekYear/index.js\nvar require_getUTCWeekYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCWeekYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCWeekYear;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = _interopRequireDefault(require_startOfUTCWeek());\n    var _index4 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getUTCWeekYear(dirtyDate, dirtyOptions) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var year = date.getUTCFullYear();\n      var options = dirtyOptions || {};\n      var locale = options.locale;\n      var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n      var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : (0, _index4.default)(localeFirstWeekContainsDate);\n      var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : (0, _index4.default)(options.firstWeekContainsDate);\n      if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n        throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");\n      }\n      var firstWeekOfNextYear = new Date(0);\n      firstWeekOfNextYear.setUTCFullYear(year + 1, 0, firstWeekContainsDate);\n      firstWeekOfNextYear.setUTCHours(0, 0, 0, 0);\n      var startOfNextYear = (0, _index3.default)(firstWeekOfNextYear, dirtyOptions);\n      var firstWeekOfThisYear = new Date(0);\n      firstWeekOfThisYear.setUTCFullYear(year, 0, firstWeekContainsDate);\n      firstWeekOfThisYear.setUTCHours(0, 0, 0, 0);\n      var startOfThisYear = (0, _index3.default)(firstWeekOfThisYear, dirtyOptions);\n      if (date.getTime() >= startOfNextYear.getTime()) {\n        return year + 1;\n      } else if (date.getTime() >= startOfThisYear.getTime()) {\n        return year;\n      } else {\n        return year - 1;\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/startOfUTCWeekYear/index.js\nvar require_startOfUTCWeekYear = __commonJS({\n  \"../../node_modules/date-fns/_lib/startOfUTCWeekYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfUTCWeekYear;\n    var _index = _interopRequireDefault(require_getUTCWeekYear());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = _interopRequireDefault(require_startOfUTCWeek());\n    var _index4 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfUTCWeekYear(dirtyDate, dirtyOptions) {\n      (0, _index2.default)(1, arguments);\n      var options = dirtyOptions || {};\n      var locale = options.locale;\n      var localeFirstWeekContainsDate = locale && locale.options && locale.options.firstWeekContainsDate;\n      var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : (0, _index4.default)(localeFirstWeekContainsDate);\n      var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : (0, _index4.default)(options.firstWeekContainsDate);\n      var year = (0, _index.default)(dirtyDate, dirtyOptions);\n      var firstWeek = new Date(0);\n      firstWeek.setUTCFullYear(year, 0, firstWeekContainsDate);\n      firstWeek.setUTCHours(0, 0, 0, 0);\n      var date = (0, _index3.default)(firstWeek, dirtyOptions);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getUTCWeek/index.js\nvar require_getUTCWeek = __commonJS({\n  \"../../node_modules/date-fns/_lib/getUTCWeek/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getUTCWeek;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_startOfUTCWeek());\n    var _index3 = _interopRequireDefault(require_startOfUTCWeekYear());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var MILLISECONDS_IN_WEEK = 6048e5;\n    function getUTCWeek(dirtyDate, options) {\n      (0, _index4.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var diff = (0, _index2.default)(date, options).getTime() - (0, _index3.default)(date, options).getTime();\n      return Math.round(diff / MILLISECONDS_IN_WEEK) + 1;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/addLeadingZeros/index.js\nvar require_addLeadingZeros = __commonJS({\n  \"../../node_modules/date-fns/_lib/addLeadingZeros/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = addLeadingZeros;\n    function addLeadingZeros(number, targetLength) {\n      var sign = number < 0 ? \"-\" : \"\";\n      var output = Math.abs(number).toString();\n      while (output.length < targetLength) {\n        output = \"0\" + output;\n      }\n      return sign + output;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/format/lightFormatters/index.js\nvar require_lightFormatters = __commonJS({\n  \"../../node_modules/date-fns/_lib/format/lightFormatters/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_addLeadingZeros());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var formatters = {\n      y: function(date, token) {\n        var signedYear = date.getUTCFullYear();\n        var year = signedYear > 0 ? signedYear : 1 - signedYear;\n        return (0, _index.default)(token === \"yy\" ? year % 100 : year, token.length);\n      },\n      M: function(date, token) {\n        var month = date.getUTCMonth();\n        return token === \"M\" ? String(month + 1) : (0, _index.default)(month + 1, 2);\n      },\n      d: function(date, token) {\n        return (0, _index.default)(date.getUTCDate(), token.length);\n      },\n      a: function(date, token) {\n        var dayPeriodEnumValue = date.getUTCHours() / 12 >= 1 ? \"pm\" : \"am\";\n        switch (token) {\n          case \"a\":\n          case \"aa\":\n            return dayPeriodEnumValue.toUpperCase();\n          case \"aaa\":\n            return dayPeriodEnumValue;\n          case \"aaaaa\":\n            return dayPeriodEnumValue[0];\n          case \"aaaa\":\n          default:\n            return dayPeriodEnumValue === \"am\" ? \"a.m.\" : \"p.m.\";\n        }\n      },\n      h: function(date, token) {\n        return (0, _index.default)(date.getUTCHours() % 12 || 12, token.length);\n      },\n      H: function(date, token) {\n        return (0, _index.default)(date.getUTCHours(), token.length);\n      },\n      m: function(date, token) {\n        return (0, _index.default)(date.getUTCMinutes(), token.length);\n      },\n      s: function(date, token) {\n        return (0, _index.default)(date.getUTCSeconds(), token.length);\n      },\n      S: function(date, token) {\n        var numberOfDigits = token.length;\n        var milliseconds = date.getUTCMilliseconds();\n        var fractionalSeconds = Math.floor(milliseconds * Math.pow(10, numberOfDigits - 3));\n        return (0, _index.default)(fractionalSeconds, token.length);\n      }\n    };\n    var _default = formatters;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/format/formatters/index.js\nvar require_formatters = __commonJS({\n  \"../../node_modules/date-fns/_lib/format/formatters/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    var _index = _interopRequireDefault(require_getUTCDayOfYear());\n    var _index2 = _interopRequireDefault(require_getUTCISOWeek());\n    var _index3 = _interopRequireDefault(require_getUTCISOWeekYear());\n    var _index4 = _interopRequireDefault(require_getUTCWeek());\n    var _index5 = _interopRequireDefault(require_getUTCWeekYear());\n    var _index6 = _interopRequireDefault(require_addLeadingZeros());\n    var _index7 = _interopRequireDefault(require_lightFormatters());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var dayPeriodEnum = {\n      am: \"am\",\n      pm: \"pm\",\n      midnight: \"midnight\",\n      noon: \"noon\",\n      morning: \"morning\",\n      afternoon: \"afternoon\",\n      evening: \"evening\",\n      night: \"night\"\n    };\n    var formatters = {\n      G: function(date, token, localize) {\n        var era = date.getUTCFullYear() > 0 ? 1 : 0;\n        switch (token) {\n          case \"G\":\n          case \"GG\":\n          case \"GGG\":\n            return localize.era(era, {\n              width: \"abbreviated\"\n            });\n          case \"GGGGG\":\n            return localize.era(era, {\n              width: \"narrow\"\n            });\n          case \"GGGG\":\n          default:\n            return localize.era(era, {\n              width: \"wide\"\n            });\n        }\n      },\n      y: function(date, token, localize) {\n        if (token === \"yo\") {\n          var signedYear = date.getUTCFullYear();\n          var year = signedYear > 0 ? signedYear : 1 - signedYear;\n          return localize.ordinalNumber(year, {\n            unit: \"year\"\n          });\n        }\n        return _index7.default.y(date, token);\n      },\n      Y: function(date, token, localize, options) {\n        var signedWeekYear = (0, _index5.default)(date, options);\n        var weekYear = signedWeekYear > 0 ? signedWeekYear : 1 - signedWeekYear;\n        if (token === \"YY\") {\n          var twoDigitYear = weekYear % 100;\n          return (0, _index6.default)(twoDigitYear, 2);\n        }\n        if (token === \"Yo\") {\n          return localize.ordinalNumber(weekYear, {\n            unit: \"year\"\n          });\n        }\n        return (0, _index6.default)(weekYear, token.length);\n      },\n      R: function(date, token) {\n        var isoWeekYear = (0, _index3.default)(date);\n        return (0, _index6.default)(isoWeekYear, token.length);\n      },\n      u: function(date, token) {\n        var year = date.getUTCFullYear();\n        return (0, _index6.default)(year, token.length);\n      },\n      Q: function(date, token, localize) {\n        var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n        switch (token) {\n          case \"Q\":\n            return String(quarter);\n          case \"QQ\":\n            return (0, _index6.default)(quarter, 2);\n          case \"Qo\":\n            return localize.ordinalNumber(quarter, {\n              unit: \"quarter\"\n            });\n          case \"QQQ\":\n            return localize.quarter(quarter, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"QQQQQ\":\n            return localize.quarter(quarter, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"QQQQ\":\n          default:\n            return localize.quarter(quarter, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      q: function(date, token, localize) {\n        var quarter = Math.ceil((date.getUTCMonth() + 1) / 3);\n        switch (token) {\n          case \"q\":\n            return String(quarter);\n          case \"qq\":\n            return (0, _index6.default)(quarter, 2);\n          case \"qo\":\n            return localize.ordinalNumber(quarter, {\n              unit: \"quarter\"\n            });\n          case \"qqq\":\n            return localize.quarter(quarter, {\n              width: \"abbreviated\",\n              context: \"standalone\"\n            });\n          case \"qqqqq\":\n            return localize.quarter(quarter, {\n              width: \"narrow\",\n              context: \"standalone\"\n            });\n          case \"qqqq\":\n          default:\n            return localize.quarter(quarter, {\n              width: \"wide\",\n              context: \"standalone\"\n            });\n        }\n      },\n      M: function(date, token, localize) {\n        var month = date.getUTCMonth();\n        switch (token) {\n          case \"M\":\n          case \"MM\":\n            return _index7.default.M(date, token);\n          case \"Mo\":\n            return localize.ordinalNumber(month + 1, {\n              unit: \"month\"\n            });\n          case \"MMM\":\n            return localize.month(month, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"MMMMM\":\n            return localize.month(month, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"MMMM\":\n          default:\n            return localize.month(month, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      L: function(date, token, localize) {\n        var month = date.getUTCMonth();\n        switch (token) {\n          case \"L\":\n            return String(month + 1);\n          case \"LL\":\n            return (0, _index6.default)(month + 1, 2);\n          case \"Lo\":\n            return localize.ordinalNumber(month + 1, {\n              unit: \"month\"\n            });\n          case \"LLL\":\n            return localize.month(month, {\n              width: \"abbreviated\",\n              context: \"standalone\"\n            });\n          case \"LLLLL\":\n            return localize.month(month, {\n              width: \"narrow\",\n              context: \"standalone\"\n            });\n          case \"LLLL\":\n          default:\n            return localize.month(month, {\n              width: \"wide\",\n              context: \"standalone\"\n            });\n        }\n      },\n      w: function(date, token, localize, options) {\n        var week = (0, _index4.default)(date, options);\n        if (token === \"wo\") {\n          return localize.ordinalNumber(week, {\n            unit: \"week\"\n          });\n        }\n        return (0, _index6.default)(week, token.length);\n      },\n      I: function(date, token, localize) {\n        var isoWeek = (0, _index2.default)(date);\n        if (token === \"Io\") {\n          return localize.ordinalNumber(isoWeek, {\n            unit: \"week\"\n          });\n        }\n        return (0, _index6.default)(isoWeek, token.length);\n      },\n      d: function(date, token, localize) {\n        if (token === \"do\") {\n          return localize.ordinalNumber(date.getUTCDate(), {\n            unit: \"date\"\n          });\n        }\n        return _index7.default.d(date, token);\n      },\n      D: function(date, token, localize) {\n        var dayOfYear = (0, _index.default)(date);\n        if (token === \"Do\") {\n          return localize.ordinalNumber(dayOfYear, {\n            unit: \"dayOfYear\"\n          });\n        }\n        return (0, _index6.default)(dayOfYear, token.length);\n      },\n      E: function(date, token, localize) {\n        var dayOfWeek = date.getUTCDay();\n        switch (token) {\n          case \"E\":\n          case \"EE\":\n          case \"EEE\":\n            return localize.day(dayOfWeek, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"EEEEE\":\n            return localize.day(dayOfWeek, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"EEEEEE\":\n            return localize.day(dayOfWeek, {\n              width: \"short\",\n              context: \"formatting\"\n            });\n          case \"EEEE\":\n          default:\n            return localize.day(dayOfWeek, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      e: function(date, token, localize, options) {\n        var dayOfWeek = date.getUTCDay();\n        var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n        switch (token) {\n          case \"e\":\n            return String(localDayOfWeek);\n          case \"ee\":\n            return (0, _index6.default)(localDayOfWeek, 2);\n          case \"eo\":\n            return localize.ordinalNumber(localDayOfWeek, {\n              unit: \"day\"\n            });\n          case \"eee\":\n            return localize.day(dayOfWeek, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"eeeee\":\n            return localize.day(dayOfWeek, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"eeeeee\":\n            return localize.day(dayOfWeek, {\n              width: \"short\",\n              context: \"formatting\"\n            });\n          case \"eeee\":\n          default:\n            return localize.day(dayOfWeek, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      c: function(date, token, localize, options) {\n        var dayOfWeek = date.getUTCDay();\n        var localDayOfWeek = (dayOfWeek - options.weekStartsOn + 8) % 7 || 7;\n        switch (token) {\n          case \"c\":\n            return String(localDayOfWeek);\n          case \"cc\":\n            return (0, _index6.default)(localDayOfWeek, token.length);\n          case \"co\":\n            return localize.ordinalNumber(localDayOfWeek, {\n              unit: \"day\"\n            });\n          case \"ccc\":\n            return localize.day(dayOfWeek, {\n              width: \"abbreviated\",\n              context: \"standalone\"\n            });\n          case \"ccccc\":\n            return localize.day(dayOfWeek, {\n              width: \"narrow\",\n              context: \"standalone\"\n            });\n          case \"cccccc\":\n            return localize.day(dayOfWeek, {\n              width: \"short\",\n              context: \"standalone\"\n            });\n          case \"cccc\":\n          default:\n            return localize.day(dayOfWeek, {\n              width: \"wide\",\n              context: \"standalone\"\n            });\n        }\n      },\n      i: function(date, token, localize) {\n        var dayOfWeek = date.getUTCDay();\n        var isoDayOfWeek = dayOfWeek === 0 ? 7 : dayOfWeek;\n        switch (token) {\n          case \"i\":\n            return String(isoDayOfWeek);\n          case \"ii\":\n            return (0, _index6.default)(isoDayOfWeek, token.length);\n          case \"io\":\n            return localize.ordinalNumber(isoDayOfWeek, {\n              unit: \"day\"\n            });\n          case \"iii\":\n            return localize.day(dayOfWeek, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"iiiii\":\n            return localize.day(dayOfWeek, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"iiiiii\":\n            return localize.day(dayOfWeek, {\n              width: \"short\",\n              context: \"formatting\"\n            });\n          case \"iiii\":\n          default:\n            return localize.day(dayOfWeek, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      a: function(date, token, localize) {\n        var hours = date.getUTCHours();\n        var dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n        switch (token) {\n          case \"a\":\n          case \"aa\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"aaa\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            }).toLowerCase();\n          case \"aaaaa\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"aaaa\":\n          default:\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      b: function(date, token, localize) {\n        var hours = date.getUTCHours();\n        var dayPeriodEnumValue;\n        if (hours === 12) {\n          dayPeriodEnumValue = dayPeriodEnum.noon;\n        } else if (hours === 0) {\n          dayPeriodEnumValue = dayPeriodEnum.midnight;\n        } else {\n          dayPeriodEnumValue = hours / 12 >= 1 ? \"pm\" : \"am\";\n        }\n        switch (token) {\n          case \"b\":\n          case \"bb\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"bbb\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            }).toLowerCase();\n          case \"bbbbb\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"bbbb\":\n          default:\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      B: function(date, token, localize) {\n        var hours = date.getUTCHours();\n        var dayPeriodEnumValue;\n        if (hours >= 17) {\n          dayPeriodEnumValue = dayPeriodEnum.evening;\n        } else if (hours >= 12) {\n          dayPeriodEnumValue = dayPeriodEnum.afternoon;\n        } else if (hours >= 4) {\n          dayPeriodEnumValue = dayPeriodEnum.morning;\n        } else {\n          dayPeriodEnumValue = dayPeriodEnum.night;\n        }\n        switch (token) {\n          case \"B\":\n          case \"BB\":\n          case \"BBB\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"abbreviated\",\n              context: \"formatting\"\n            });\n          case \"BBBBB\":\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"narrow\",\n              context: \"formatting\"\n            });\n          case \"BBBB\":\n          default:\n            return localize.dayPeriod(dayPeriodEnumValue, {\n              width: \"wide\",\n              context: \"formatting\"\n            });\n        }\n      },\n      h: function(date, token, localize) {\n        if (token === \"ho\") {\n          var hours = date.getUTCHours() % 12;\n          if (hours === 0)\n            hours = 12;\n          return localize.ordinalNumber(hours, {\n            unit: \"hour\"\n          });\n        }\n        return _index7.default.h(date, token);\n      },\n      H: function(date, token, localize) {\n        if (token === \"Ho\") {\n          return localize.ordinalNumber(date.getUTCHours(), {\n            unit: \"hour\"\n          });\n        }\n        return _index7.default.H(date, token);\n      },\n      K: function(date, token, localize) {\n        var hours = date.getUTCHours() % 12;\n        if (token === \"Ko\") {\n          return localize.ordinalNumber(hours, {\n            unit: \"hour\"\n          });\n        }\n        return (0, _index6.default)(hours, token.length);\n      },\n      k: function(date, token, localize) {\n        var hours = date.getUTCHours();\n        if (hours === 0)\n          hours = 24;\n        if (token === \"ko\") {\n          return localize.ordinalNumber(hours, {\n            unit: \"hour\"\n          });\n        }\n        return (0, _index6.default)(hours, token.length);\n      },\n      m: function(date, token, localize) {\n        if (token === \"mo\") {\n          return localize.ordinalNumber(date.getUTCMinutes(), {\n            unit: \"minute\"\n          });\n        }\n        return _index7.default.m(date, token);\n      },\n      s: function(date, token, localize) {\n        if (token === \"so\") {\n          return localize.ordinalNumber(date.getUTCSeconds(), {\n            unit: \"second\"\n          });\n        }\n        return _index7.default.s(date, token);\n      },\n      S: function(date, token) {\n        return _index7.default.S(date, token);\n      },\n      X: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        if (timezoneOffset === 0) {\n          return \"Z\";\n        }\n        switch (token) {\n          case \"X\":\n            return formatTimezoneWithOptionalMinutes(timezoneOffset);\n          case \"XXXX\":\n          case \"XX\":\n            return formatTimezone(timezoneOffset);\n          case \"XXXXX\":\n          case \"XXX\":\n          default:\n            return formatTimezone(timezoneOffset, \":\");\n        }\n      },\n      x: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        switch (token) {\n          case \"x\":\n            return formatTimezoneWithOptionalMinutes(timezoneOffset);\n          case \"xxxx\":\n          case \"xx\":\n            return formatTimezone(timezoneOffset);\n          case \"xxxxx\":\n          case \"xxx\":\n          default:\n            return formatTimezone(timezoneOffset, \":\");\n        }\n      },\n      O: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        switch (token) {\n          case \"O\":\n          case \"OO\":\n          case \"OOO\":\n            return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n          case \"OOOO\":\n          default:\n            return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n        }\n      },\n      z: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timezoneOffset = originalDate.getTimezoneOffset();\n        switch (token) {\n          case \"z\":\n          case \"zz\":\n          case \"zzz\":\n            return \"GMT\" + formatTimezoneShort(timezoneOffset, \":\");\n          case \"zzzz\":\n          default:\n            return \"GMT\" + formatTimezone(timezoneOffset, \":\");\n        }\n      },\n      t: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timestamp = Math.floor(originalDate.getTime() / 1e3);\n        return (0, _index6.default)(timestamp, token.length);\n      },\n      T: function(date, token, _localize, options) {\n        var originalDate = options._originalDate || date;\n        var timestamp = originalDate.getTime();\n        return (0, _index6.default)(timestamp, token.length);\n      }\n    };\n    function formatTimezoneShort(offset, dirtyDelimiter) {\n      var sign = offset > 0 ? \"-\" : \"+\";\n      var absOffset = Math.abs(offset);\n      var hours = Math.floor(absOffset / 60);\n      var minutes = absOffset % 60;\n      if (minutes === 0) {\n        return sign + String(hours);\n      }\n      var delimiter = dirtyDelimiter || \"\";\n      return sign + String(hours) + delimiter + (0, _index6.default)(minutes, 2);\n    }\n    function formatTimezoneWithOptionalMinutes(offset, dirtyDelimiter) {\n      if (offset % 60 === 0) {\n        var sign = offset > 0 ? \"-\" : \"+\";\n        return sign + (0, _index6.default)(Math.abs(offset) / 60, 2);\n      }\n      return formatTimezone(offset, dirtyDelimiter);\n    }\n    function formatTimezone(offset, dirtyDelimiter) {\n      var delimiter = dirtyDelimiter || \"\";\n      var sign = offset > 0 ? \"-\" : \"+\";\n      var absOffset = Math.abs(offset);\n      var hours = (0, _index6.default)(Math.floor(absOffset / 60), 2);\n      var minutes = (0, _index6.default)(absOffset % 60, 2);\n      return sign + hours + delimiter + minutes;\n    }\n    var _default = formatters;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/format/longFormatters/index.js\nvar require_longFormatters = __commonJS({\n  \"../../node_modules/date-fns/_lib/format/longFormatters/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = void 0;\n    function dateLongFormatter(pattern, formatLong) {\n      switch (pattern) {\n        case \"P\":\n          return formatLong.date({\n            width: \"short\"\n          });\n        case \"PP\":\n          return formatLong.date({\n            width: \"medium\"\n          });\n        case \"PPP\":\n          return formatLong.date({\n            width: \"long\"\n          });\n        case \"PPPP\":\n        default:\n          return formatLong.date({\n            width: \"full\"\n          });\n      }\n    }\n    function timeLongFormatter(pattern, formatLong) {\n      switch (pattern) {\n        case \"p\":\n          return formatLong.time({\n            width: \"short\"\n          });\n        case \"pp\":\n          return formatLong.time({\n            width: \"medium\"\n          });\n        case \"ppp\":\n          return formatLong.time({\n            width: \"long\"\n          });\n        case \"pppp\":\n        default:\n          return formatLong.time({\n            width: \"full\"\n          });\n      }\n    }\n    function dateTimeLongFormatter(pattern, formatLong) {\n      var matchResult = pattern.match(/(P+)(p+)?/) || [];\n      var datePattern = matchResult[1];\n      var timePattern = matchResult[2];\n      if (!timePattern) {\n        return dateLongFormatter(pattern, formatLong);\n      }\n      var dateTimeFormat;\n      switch (datePattern) {\n        case \"P\":\n          dateTimeFormat = formatLong.dateTime({\n            width: \"short\"\n          });\n          break;\n        case \"PP\":\n          dateTimeFormat = formatLong.dateTime({\n            width: \"medium\"\n          });\n          break;\n        case \"PPP\":\n          dateTimeFormat = formatLong.dateTime({\n            width: \"long\"\n          });\n          break;\n        case \"PPPP\":\n        default:\n          dateTimeFormat = formatLong.dateTime({\n            width: \"full\"\n          });\n          break;\n      }\n      return dateTimeFormat.replace(\"{{date}}\", dateLongFormatter(datePattern, formatLong)).replace(\"{{time}}\", timeLongFormatter(timePattern, formatLong));\n    }\n    var longFormatters = {\n      p: timeLongFormatter,\n      P: dateTimeLongFormatter\n    };\n    var _default = longFormatters;\n    exports.default = _default;\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js\nvar require_getTimezoneOffsetInMilliseconds = __commonJS({\n  \"../../node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getTimezoneOffsetInMilliseconds;\n    function getTimezoneOffsetInMilliseconds(date) {\n      var utcDate = new Date(Date.UTC(date.getFullYear(), date.getMonth(), date.getDate(), date.getHours(), date.getMinutes(), date.getSeconds(), date.getMilliseconds()));\n      utcDate.setUTCFullYear(date.getFullYear());\n      return date.getTime() - utcDate.getTime();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/protectedTokens/index.js\nvar require_protectedTokens = __commonJS({\n  \"../../node_modules/date-fns/_lib/protectedTokens/index.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.isProtectedDayOfYearToken = isProtectedDayOfYearToken;\n    exports.isProtectedWeekYearToken = isProtectedWeekYearToken;\n    exports.throwProtectedError = throwProtectedError;\n    var protectedDayOfYearTokens = [\"D\", \"DD\"];\n    var protectedWeekYearTokens = [\"YY\", \"YYYY\"];\n    function isProtectedDayOfYearToken(token) {\n      return protectedDayOfYearTokens.indexOf(token) !== -1;\n    }\n    function isProtectedWeekYearToken(token) {\n      return protectedWeekYearTokens.indexOf(token) !== -1;\n    }\n    function throwProtectedError(token, format4, input) {\n      if (token === \"YYYY\") {\n        throw new RangeError(\"Use `yyyy` instead of `YYYY` (in `\".concat(format4, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n      } else if (token === \"YY\") {\n        throw new RangeError(\"Use `yy` instead of `YY` (in `\".concat(format4, \"`) for formatting years to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n      } else if (token === \"D\") {\n        throw new RangeError(\"Use `d` instead of `D` (in `\".concat(format4, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n      } else if (token === \"DD\") {\n        throw new RangeError(\"Use `dd` instead of `DD` (in `\".concat(format4, \"`) for formatting days of the month to the input `\").concat(input, \"`; see: https://git.io/fxCyr\"));\n      }\n    }\n  }\n});\n\n// ../../node_modules/date-fns/format/index.js\nvar require_format = __commonJS({\n  \"../../node_modules/date-fns/format/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = format4;\n    var _index = _interopRequireDefault(require_isValid());\n    var _index2 = _interopRequireDefault(require_en_US());\n    var _index3 = _interopRequireDefault(require_subMilliseconds());\n    var _index4 = _interopRequireDefault(require_toDate());\n    var _index5 = _interopRequireDefault(require_formatters());\n    var _index6 = _interopRequireDefault(require_longFormatters());\n    var _index7 = _interopRequireDefault(require_getTimezoneOffsetInMilliseconds());\n    var _index8 = require_protectedTokens();\n    var _index9 = _interopRequireDefault(require_toInteger());\n    var _index10 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var formattingTokensRegExp = /[yYQqMLwIdDecihHKkms]o|(\\w)\\1*|''|'(''|[^'])+('|$)|./g;\n    var longFormattingTokensRegExp = /P+p+|P+|p+|''|'(''|[^'])+('|$)|./g;\n    var escapedStringRegExp = /^'([^]*?)'?$/;\n    var doubleQuoteRegExp = /''/g;\n    var unescapedLatinCharacterRegExp = /[a-zA-Z]/;\n    function format4(dirtyDate, dirtyFormatStr, dirtyOptions) {\n      (0, _index10.default)(2, arguments);\n      var formatStr = String(dirtyFormatStr);\n      var options = dirtyOptions || {};\n      var locale = options.locale || _index2.default;\n      var localeFirstWeekContainsDate = locale.options && locale.options.firstWeekContainsDate;\n      var defaultFirstWeekContainsDate = localeFirstWeekContainsDate == null ? 1 : (0, _index9.default)(localeFirstWeekContainsDate);\n      var firstWeekContainsDate = options.firstWeekContainsDate == null ? defaultFirstWeekContainsDate : (0, _index9.default)(options.firstWeekContainsDate);\n      if (!(firstWeekContainsDate >= 1 && firstWeekContainsDate <= 7)) {\n        throw new RangeError(\"firstWeekContainsDate must be between 1 and 7 inclusively\");\n      }\n      var localeWeekStartsOn = locale.options && locale.options.weekStartsOn;\n      var defaultWeekStartsOn = localeWeekStartsOn == null ? 0 : (0, _index9.default)(localeWeekStartsOn);\n      var weekStartsOn = options.weekStartsOn == null ? defaultWeekStartsOn : (0, _index9.default)(options.weekStartsOn);\n      if (!(weekStartsOn >= 0 && weekStartsOn <= 6)) {\n        throw new RangeError(\"weekStartsOn must be between 0 and 6 inclusively\");\n      }\n      if (!locale.localize) {\n        throw new RangeError(\"locale must contain localize property\");\n      }\n      if (!locale.formatLong) {\n        throw new RangeError(\"locale must contain formatLong property\");\n      }\n      var originalDate = (0, _index4.default)(dirtyDate);\n      if (!(0, _index.default)(originalDate)) {\n        throw new RangeError(\"Invalid time value\");\n      }\n      var timezoneOffset = (0, _index7.default)(originalDate);\n      var utcDate = (0, _index3.default)(originalDate, timezoneOffset);\n      var formatterOptions = {\n        firstWeekContainsDate,\n        weekStartsOn,\n        locale,\n        _originalDate: originalDate\n      };\n      var result = formatStr.match(longFormattingTokensRegExp).map(function(substring) {\n        var firstCharacter = substring[0];\n        if (firstCharacter === \"p\" || firstCharacter === \"P\") {\n          var longFormatter = _index6.default[firstCharacter];\n          return longFormatter(substring, locale.formatLong, formatterOptions);\n        }\n        return substring;\n      }).join(\"\").match(formattingTokensRegExp).map(function(substring) {\n        if (substring === \"''\") {\n          return \"'\";\n        }\n        var firstCharacter = substring[0];\n        if (firstCharacter === \"'\") {\n          return cleanEscapedString(substring);\n        }\n        var formatter = _index5.default[firstCharacter];\n        if (formatter) {\n          if (!options.useAdditionalWeekYearTokens && (0, _index8.isProtectedWeekYearToken)(substring)) {\n            (0, _index8.throwProtectedError)(substring, dirtyFormatStr, dirtyDate);\n          }\n          if (!options.useAdditionalDayOfYearTokens && (0, _index8.isProtectedDayOfYearToken)(substring)) {\n            (0, _index8.throwProtectedError)(substring, dirtyFormatStr, dirtyDate);\n          }\n          return formatter(utcDate, substring, locale.localize, formatterOptions);\n        }\n        if (firstCharacter.match(unescapedLatinCharacterRegExp)) {\n          throw new RangeError(\"Format string contains an unescaped latin alphabet character `\" + firstCharacter + \"`\");\n        }\n        return substring;\n      }).join(\"\");\n      return result;\n    }\n    function cleanEscapedString(input) {\n      return input.match(escapedStringRegExp)[1].replace(doubleQuoteRegExp, \"'\");\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/format-number/index.js\nvar require_format_number = __commonJS({\n  \"../../node_modules/format-number/index.js\"(exports, module) {\n    module.exports = formatter;\n    module.exports.default = formatter;\n    function formatter(options) {\n      options = options || {};\n      options.negativeType = options.negativeType || (options.negative === \"R\" ? \"right\" : \"left\");\n      if (typeof options.negativeLeftSymbol !== \"string\") {\n        switch (options.negativeType) {\n          case \"left\":\n            options.negativeLeftSymbol = \"-\";\n            break;\n          case \"brackets\":\n            options.negativeLeftSymbol = \"(\";\n            break;\n          default:\n            options.negativeLeftSymbol = \"\";\n        }\n      }\n      if (typeof options.negativeRightSymbol !== \"string\") {\n        switch (options.negativeType) {\n          case \"right\":\n            options.negativeRightSymbol = \"-\";\n            break;\n          case \"brackets\":\n            options.negativeRightSymbol = \")\";\n            break;\n          default:\n            options.negativeRightSymbol = \"\";\n        }\n      }\n      if (typeof options.negativeLeftOut !== \"boolean\") {\n        options.negativeLeftOut = options.negativeOut === false ? false : true;\n      }\n      if (typeof options.negativeRightOut !== \"boolean\") {\n        options.negativeRightOut = options.negativeOut === false ? false : true;\n      }\n      options.prefix = options.prefix || \"\";\n      options.suffix = options.suffix || \"\";\n      if (typeof options.integerSeparator !== \"string\") {\n        options.integerSeparator = typeof options.separator === \"string\" ? options.separator : \",\";\n      }\n      options.decimalsSeparator = typeof options.decimalsSeparator === \"string\" ? options.decimalsSeparator : \"\";\n      options.decimal = options.decimal || \".\";\n      options.padLeft = options.padLeft || -1;\n      options.padRight = options.padRight || -1;\n      function format4(number, overrideOptions) {\n        overrideOptions = overrideOptions || {};\n        if (number || number === 0) {\n          number = \"\" + number;\n        } else {\n          return \"\";\n        }\n        var output = [];\n        var negative = number.charAt(0) === \"-\";\n        number = number.replace(/^\\-/g, \"\");\n        if (!options.negativeLeftOut && !overrideOptions.noUnits) {\n          output.push(options.prefix);\n        }\n        if (negative) {\n          output.push(options.negativeLeftSymbol);\n        }\n        if (options.negativeLeftOut && !overrideOptions.noUnits) {\n          output.push(options.prefix);\n        }\n        number = number.split(\".\");\n        if (options.round != null)\n          round(number, options.round);\n        if (options.truncate != null)\n          number[1] = truncate(number[1], options.truncate);\n        if (options.padLeft > 0)\n          number[0] = padLeft(number[0], options.padLeft);\n        if (options.padRight > 0)\n          number[1] = padRight(number[1], options.padRight);\n        if (!overrideOptions.noSeparator && number[1])\n          number[1] = addDecimalSeparators(number[1], options.decimalsSeparator);\n        if (!overrideOptions.noSeparator && number[0])\n          number[0] = addIntegerSeparators(number[0], options.integerSeparator);\n        output.push(number[0]);\n        if (number[1]) {\n          output.push(options.decimal);\n          output.push(number[1]);\n        }\n        if (options.negativeRightOut && !overrideOptions.noUnits) {\n          output.push(options.suffix);\n        }\n        if (negative) {\n          output.push(options.negativeRightSymbol);\n        }\n        if (!options.negativeRightOut && !overrideOptions.noUnits) {\n          output.push(options.suffix);\n        }\n        return output.join(\"\");\n      }\n      format4.negative = options.negative;\n      format4.negativeOut = options.negativeOut;\n      format4.negativeType = options.negativeType;\n      format4.negativeLeftOut = options.negativeLeftOut;\n      format4.negativeLeftSymbol = options.negativeLeftSymbol;\n      format4.negativeRightOut = options.negativeRightOut;\n      format4.negativeRightSymbol = options.negativeRightSymbol;\n      format4.prefix = options.prefix;\n      format4.suffix = options.suffix;\n      format4.separate = options.separate;\n      format4.integerSeparator = options.integerSeparator;\n      format4.decimalsSeparator = options.decimalsSeparator;\n      format4.decimal = options.decimal;\n      format4.padLeft = options.padLeft;\n      format4.padRight = options.padRight;\n      format4.truncate = options.truncate;\n      format4.round = options.round;\n      function unformat(number, allowedSeparators) {\n        allowedSeparators = allowedSeparators || [];\n        if (options.allowedSeparators) {\n          options.allowedSeparators.forEach(function(s) {\n            allowedSeparators.push(s);\n          });\n        }\n        allowedSeparators.push(options.integerSeparator);\n        allowedSeparators.push(options.decimalsSeparator);\n        number = number.replace(options.prefix, \"\");\n        number = number.replace(options.suffix, \"\");\n        var newNumber = number;\n        do {\n          number = newNumber;\n          for (var i = 0; i < allowedSeparators.length; i++) {\n            newNumber = newNumber.replace(allowedSeparators[i], \"\");\n          }\n        } while (newNumber != number);\n        return number;\n      }\n      format4.unformat = unformat;\n      function validate(number, allowedSeparators) {\n        number = unformat(number, allowedSeparators);\n        number = number.split(options.decimal);\n        if (number.length > 2) {\n          return false;\n        } else if (options.truncate != null && number[1] && number[1].length > options.truncate) {\n          return false;\n        } else if (options.round != null && number[1] && number[1].length > options.round) {\n          return false;\n        } else {\n          return /^-?\\d+\\.?\\d*$/.test(number);\n        }\n      }\n      return format4;\n    }\n    function addIntegerSeparators(x, separator) {\n      x += \"\";\n      if (!separator)\n        return x;\n      var rgx = /(\\d+)(\\d{3})/;\n      while (rgx.test(x)) {\n        x = x.replace(rgx, \"$1\" + separator + \"$2\");\n      }\n      return x;\n    }\n    function addDecimalSeparators(x, separator) {\n      x += \"\";\n      if (!separator)\n        return x;\n      var rgx = /(\\d{3})(\\d+)/;\n      while (rgx.test(x)) {\n        x = x.replace(rgx, \"$1\" + separator + \"$2\");\n      }\n      return x;\n    }\n    function padLeft(x, padding) {\n      x = x + \"\";\n      var buf = [];\n      while (buf.length + x.length < padding) {\n        buf.push(\"0\");\n      }\n      return buf.join(\"\") + x;\n    }\n    function padRight(x, padding) {\n      if (x) {\n        x += \"\";\n      } else {\n        x = \"\";\n      }\n      var buf = [];\n      while (buf.length + x.length < padding) {\n        buf.push(\"0\");\n      }\n      return x + buf.join(\"\");\n    }\n    function truncate(x, length) {\n      if (x) {\n        x += \"\";\n      }\n      if (x && x.length > length) {\n        return x.substr(0, length);\n      } else {\n        return x;\n      }\n    }\n    function round(number, places) {\n      if (number[1] && places >= 0 && number[1].length > places) {\n        var decim = number[1].slice(0, places);\n        if (+number[1].substr(places, 1) >= 5) {\n          var leadingzeros = \"\";\n          while (decim.charAt(0) === \"0\") {\n            leadingzeros = leadingzeros + \"0\";\n            decim = decim.substr(1);\n          }\n          decim = +decim + 1 + \"\";\n          decim = leadingzeros + decim;\n          if (decim.length > places) {\n            number[0] = +number[0] + +decim.charAt(0) + \"\";\n            decim = decim.substring(1);\n          }\n        }\n        number[1] = decim;\n      }\n      return number;\n    }\n  }\n});\n\n// ../../node_modules/date-fns/addDays/index.js\nvar require_addDays = __commonJS({\n  \"../../node_modules/date-fns/addDays/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = addDays;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_toDate());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function addDays(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var date = (0, _index2.default)(dirtyDate);\n      var amount = (0, _index.default)(dirtyAmount);\n      if (isNaN(amount)) {\n        return new Date(NaN);\n      }\n      if (!amount) {\n        return date;\n      }\n      date.setDate(date.getDate() + amount);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/addMonths/index.js\nvar require_addMonths = __commonJS({\n  \"../../node_modules/date-fns/addMonths/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = addMonths;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_toDate());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function addMonths(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var date = (0, _index2.default)(dirtyDate);\n      var amount = (0, _index.default)(dirtyAmount);\n      if (isNaN(amount)) {\n        return new Date(NaN);\n      }\n      if (!amount) {\n        return date;\n      }\n      var dayOfMonth = date.getDate();\n      var endOfDesiredMonth = new Date(date.getTime());\n      endOfDesiredMonth.setMonth(date.getMonth() + amount + 1, 0);\n      var daysInMonth = endOfDesiredMonth.getDate();\n      if (dayOfMonth >= daysInMonth) {\n        return endOfDesiredMonth;\n      } else {\n        date.setFullYear(endOfDesiredMonth.getFullYear(), endOfDesiredMonth.getMonth(), dayOfMonth);\n        return date;\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/add/index.js\nvar require_add = __commonJS({\n  \"../../node_modules/date-fns/add/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = add2;\n    var _index = _interopRequireDefault(require_addDays());\n    var _index2 = _interopRequireDefault(require_addMonths());\n    var _index3 = _interopRequireDefault(require_toDate());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    var _index5 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function add2(dirtyDate, duration) {\n      (0, _index4.default)(2, arguments);\n      if (!duration || typeof duration !== \"object\")\n        return new Date(NaN);\n      var years = duration.years ? (0, _index5.default)(duration.years) : 0;\n      var months = duration.months ? (0, _index5.default)(duration.months) : 0;\n      var weeks = duration.weeks ? (0, _index5.default)(duration.weeks) : 0;\n      var days = duration.days ? (0, _index5.default)(duration.days) : 0;\n      var hours = duration.hours ? (0, _index5.default)(duration.hours) : 0;\n      var minutes = duration.minutes ? (0, _index5.default)(duration.minutes) : 0;\n      var seconds = duration.seconds ? (0, _index5.default)(duration.seconds) : 0;\n      var date = (0, _index3.default)(dirtyDate);\n      var dateWithMonths = months || years ? (0, _index2.default)(date, months + years * 12) : date;\n      var dateWithDays = days || weeks ? (0, _index.default)(dateWithMonths, days + weeks * 7) : dateWithMonths;\n      var minutesToAdd = minutes + hours * 60;\n      var secondsToAdd = seconds + minutesToAdd * 60;\n      var msToAdd = secondsToAdd * 1e3;\n      var finalDate = new Date(dateWithDays.getTime() + msToAdd);\n      return finalDate;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getDate/index.js\nvar require_getDate = __commonJS({\n  \"../../node_modules/date-fns/getDate/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getDate2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getDate2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var dayOfMonth = date.getDate();\n      return dayOfMonth;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getDay/index.js\nvar require_getDay = __commonJS({\n  \"../../node_modules/date-fns/getDay/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getDay2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getDay2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var day = date.getDay();\n      return day;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getHours/index.js\nvar require_getHours = __commonJS({\n  \"../../node_modules/date-fns/getHours/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getHours2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getHours2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var hours = date.getHours();\n      return hours;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getMinutes/index.js\nvar require_getMinutes = __commonJS({\n  \"../../node_modules/date-fns/getMinutes/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getMinutes2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getMinutes2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var minutes = date.getMinutes();\n      return minutes;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getMonth/index.js\nvar require_getMonth = __commonJS({\n  \"../../node_modules/date-fns/getMonth/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getMonth2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getMonth2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var month = date.getMonth();\n      return month;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/getYear/index.js\nvar require_getYear = __commonJS({\n  \"../../node_modules/date-fns/getYear/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = getYear2;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function getYear2(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      return (0, _index.default)(dirtyDate).getFullYear();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/compareAsc/index.js\nvar require_compareAsc = __commonJS({\n  \"../../node_modules/date-fns/compareAsc/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = compareAsc;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function compareAsc(dirtyDateLeft, dirtyDateRight) {\n      (0, _index2.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var diff = dateLeft.getTime() - dateRight.getTime();\n      if (diff < 0) {\n        return -1;\n      } else if (diff > 0) {\n        return 1;\n      } else {\n        return diff;\n      }\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInCalendarYears/index.js\nvar require_differenceInCalendarYears = __commonJS({\n  \"../../node_modules/date-fns/differenceInCalendarYears/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInCalendarYears;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInCalendarYears(dirtyDateLeft, dirtyDateRight) {\n      (0, _index2.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      return dateLeft.getFullYear() - dateRight.getFullYear();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInYears/index.js\nvar require_differenceInYears = __commonJS({\n  \"../../node_modules/date-fns/differenceInYears/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInYears;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_differenceInCalendarYears());\n    var _index3 = _interopRequireDefault(require_compareAsc());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInYears(dirtyDateLeft, dirtyDateRight) {\n      (0, _index4.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var sign = (0, _index3.default)(dateLeft, dateRight);\n      var difference = Math.abs((0, _index2.default)(dateLeft, dateRight));\n      dateLeft.setFullYear(1584);\n      dateRight.setFullYear(1584);\n      var isLastYearNotFull = (0, _index3.default)(dateLeft, dateRight) === -sign;\n      var result = sign * (difference - Number(isLastYearNotFull));\n      return result === 0 ? 0 : result;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInCalendarMonths/index.js\nvar require_differenceInCalendarMonths = __commonJS({\n  \"../../node_modules/date-fns/differenceInCalendarMonths/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInCalendarMonths;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInCalendarMonths(dirtyDateLeft, dirtyDateRight) {\n      (0, _index2.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var yearDiff = dateLeft.getFullYear() - dateRight.getFullYear();\n      var monthDiff = dateLeft.getMonth() - dateRight.getMonth();\n      return yearDiff * 12 + monthDiff;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/endOfDay/index.js\nvar require_endOfDay = __commonJS({\n  \"../../node_modules/date-fns/endOfDay/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = endOfDay;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function endOfDay(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      date.setHours(23, 59, 59, 999);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/endOfMonth/index.js\nvar require_endOfMonth = __commonJS({\n  \"../../node_modules/date-fns/endOfMonth/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = endOfMonth;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function endOfMonth(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      var month = date.getMonth();\n      date.setFullYear(date.getFullYear(), month + 1, 0);\n      date.setHours(23, 59, 59, 999);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/isLastDayOfMonth/index.js\nvar require_isLastDayOfMonth = __commonJS({\n  \"../../node_modules/date-fns/isLastDayOfMonth/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = isLastDayOfMonth;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_endOfDay());\n    var _index3 = _interopRequireDefault(require_endOfMonth());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function isLastDayOfMonth(dirtyDate) {\n      (0, _index4.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      return (0, _index2.default)(date).getTime() === (0, _index3.default)(date).getTime();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInMonths/index.js\nvar require_differenceInMonths = __commonJS({\n  \"../../node_modules/date-fns/differenceInMonths/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInMonths;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_differenceInCalendarMonths());\n    var _index3 = _interopRequireDefault(require_compareAsc());\n    var _index4 = _interopRequireDefault(require_requiredArgs());\n    var _index5 = _interopRequireDefault(require_isLastDayOfMonth());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInMonths(dirtyDateLeft, dirtyDateRight) {\n      (0, _index4.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var sign = (0, _index3.default)(dateLeft, dateRight);\n      var difference = Math.abs((0, _index2.default)(dateLeft, dateRight));\n      var result;\n      if (difference < 1) {\n        result = 0;\n      } else {\n        if (dateLeft.getMonth() === 1 && dateLeft.getDate() > 27) {\n          dateLeft.setDate(30);\n        }\n        dateLeft.setMonth(dateLeft.getMonth() - sign * difference);\n        var isLastMonthNotFull = (0, _index3.default)(dateLeft, dateRight) === -sign;\n        if ((0, _index5.default)((0, _index.default)(dirtyDateLeft)) && difference === 1 && (0, _index3.default)(dirtyDateLeft, dateRight) === 1) {\n          isLastMonthNotFull = false;\n        }\n        result = sign * (difference - Number(isLastMonthNotFull));\n      }\n      return result === 0 ? 0 : result;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/startOfDay/index.js\nvar require_startOfDay = __commonJS({\n  \"../../node_modules/date-fns/startOfDay/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = startOfDay;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function startOfDay(dirtyDate) {\n      (0, _index2.default)(1, arguments);\n      var date = (0, _index.default)(dirtyDate);\n      date.setHours(0, 0, 0, 0);\n      return date;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInCalendarDays/index.js\nvar require_differenceInCalendarDays = __commonJS({\n  \"../../node_modules/date-fns/differenceInCalendarDays/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInCalendarDays;\n    var _index = _interopRequireDefault(require_getTimezoneOffsetInMilliseconds());\n    var _index2 = _interopRequireDefault(require_startOfDay());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    var MILLISECONDS_IN_DAY = 864e5;\n    function differenceInCalendarDays(dirtyDateLeft, dirtyDateRight) {\n      (0, _index3.default)(2, arguments);\n      var startOfDayLeft = (0, _index2.default)(dirtyDateLeft);\n      var startOfDayRight = (0, _index2.default)(dirtyDateRight);\n      var timestampLeft = startOfDayLeft.getTime() - (0, _index.default)(startOfDayLeft);\n      var timestampRight = startOfDayRight.getTime() - (0, _index.default)(startOfDayRight);\n      return Math.round((timestampLeft - timestampRight) / MILLISECONDS_IN_DAY);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInDays/index.js\nvar require_differenceInDays = __commonJS({\n  \"../../node_modules/date-fns/differenceInDays/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInDays;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_differenceInCalendarDays());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function compareLocalAsc(dateLeft, dateRight) {\n      var diff = dateLeft.getFullYear() - dateRight.getFullYear() || dateLeft.getMonth() - dateRight.getMonth() || dateLeft.getDate() - dateRight.getDate() || dateLeft.getHours() - dateRight.getHours() || dateLeft.getMinutes() - dateRight.getMinutes() || dateLeft.getSeconds() - dateRight.getSeconds() || dateLeft.getMilliseconds() - dateRight.getMilliseconds();\n      if (diff < 0) {\n        return -1;\n      } else if (diff > 0) {\n        return 1;\n      } else {\n        return diff;\n      }\n    }\n    function differenceInDays(dirtyDateLeft, dirtyDateRight) {\n      (0, _index3.default)(2, arguments);\n      var dateLeft = (0, _index.default)(dirtyDateLeft);\n      var dateRight = (0, _index.default)(dirtyDateRight);\n      var sign = compareLocalAsc(dateLeft, dateRight);\n      var difference = Math.abs((0, _index2.default)(dateLeft, dateRight));\n      dateLeft.setDate(dateLeft.getDate() - sign * difference);\n      var isLastDayNotFull = Number(compareLocalAsc(dateLeft, dateRight) === -sign);\n      var result = sign * (difference - isLastDayNotFull);\n      return result === 0 ? 0 : result;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/constants/index.js\nvar require_constants = __commonJS({\n  \"../../node_modules/date-fns/constants/index.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.secondsInMinute = exports.secondsInHour = exports.quartersInYear = exports.monthsInYear = exports.monthsInQuarter = exports.minutesInHour = exports.minTime = exports.millisecondsInSecond = exports.millisecondsInHour = exports.millisecondsInMinute = exports.maxTime = exports.daysInWeek = void 0;\n    var daysInWeek = 7;\n    exports.daysInWeek = daysInWeek;\n    var maxTime = Math.pow(10, 8) * 24 * 60 * 60 * 1e3;\n    exports.maxTime = maxTime;\n    var millisecondsInMinute = 6e4;\n    exports.millisecondsInMinute = millisecondsInMinute;\n    var millisecondsInHour = 36e5;\n    exports.millisecondsInHour = millisecondsInHour;\n    var millisecondsInSecond = 1e3;\n    exports.millisecondsInSecond = millisecondsInSecond;\n    var minTime = -maxTime;\n    exports.minTime = minTime;\n    var minutesInHour = 60;\n    exports.minutesInHour = minutesInHour;\n    var monthsInQuarter = 3;\n    exports.monthsInQuarter = monthsInQuarter;\n    var monthsInYear = 12;\n    exports.monthsInYear = monthsInYear;\n    var quartersInYear = 4;\n    exports.quartersInYear = quartersInYear;\n    var secondsInHour = 3600;\n    exports.secondsInHour = secondsInHour;\n    var secondsInMinute = 60;\n    exports.secondsInMinute = secondsInMinute;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInMilliseconds/index.js\nvar require_differenceInMilliseconds = __commonJS({\n  \"../../node_modules/date-fns/differenceInMilliseconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInMilliseconds;\n    var _index = _interopRequireDefault(require_toDate());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInMilliseconds(dateLeft, dateRight) {\n      (0, _index2.default)(2, arguments);\n      return (0, _index.default)(dateLeft).getTime() - (0, _index.default)(dateRight).getTime();\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/_lib/roundingMethods/index.js\nvar require_roundingMethods = __commonJS({\n  \"../../node_modules/date-fns/_lib/roundingMethods/index.js\"(exports) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.getRoundingMethod = getRoundingMethod;\n    var roundingMap = {\n      ceil: Math.ceil,\n      round: Math.round,\n      floor: Math.floor,\n      trunc: function(value) {\n        return value < 0 ? Math.ceil(value) : Math.floor(value);\n      }\n    };\n    var defaultRoundingMethod = \"trunc\";\n    function getRoundingMethod(method) {\n      return method ? roundingMap[method] : roundingMap[defaultRoundingMethod];\n    }\n  }\n});\n\n// ../../node_modules/date-fns/differenceInHours/index.js\nvar require_differenceInHours = __commonJS({\n  \"../../node_modules/date-fns/differenceInHours/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInHours;\n    var _index = require_constants();\n    var _index2 = _interopRequireDefault(require_differenceInMilliseconds());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    var _index4 = require_roundingMethods();\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInHours(dateLeft, dateRight, options) {\n      (0, _index3.default)(2, arguments);\n      var diff = (0, _index2.default)(dateLeft, dateRight) / _index.millisecondsInHour;\n      return (0, _index4.getRoundingMethod)(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInMinutes/index.js\nvar require_differenceInMinutes = __commonJS({\n  \"../../node_modules/date-fns/differenceInMinutes/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInMinutes;\n    var _index = require_constants();\n    var _index2 = _interopRequireDefault(require_differenceInMilliseconds());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    var _index4 = require_roundingMethods();\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInMinutes(dateLeft, dateRight, options) {\n      (0, _index3.default)(2, arguments);\n      var diff = (0, _index2.default)(dateLeft, dateRight) / _index.millisecondsInMinute;\n      return (0, _index4.getRoundingMethod)(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/differenceInSeconds/index.js\nvar require_differenceInSeconds = __commonJS({\n  \"../../node_modules/date-fns/differenceInSeconds/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = differenceInSeconds;\n    var _index = _interopRequireDefault(require_differenceInMilliseconds());\n    var _index2 = _interopRequireDefault(require_requiredArgs());\n    var _index3 = require_roundingMethods();\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function differenceInSeconds(dateLeft, dateRight, options) {\n      (0, _index2.default)(2, arguments);\n      var diff = (0, _index.default)(dateLeft, dateRight) / 1e3;\n      return (0, _index3.getRoundingMethod)(options === null || options === void 0 ? void 0 : options.roundingMethod)(diff);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/subDays/index.js\nvar require_subDays = __commonJS({\n  \"../../node_modules/date-fns/subDays/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = subDays;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_addDays());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function subDays(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var amount = (0, _index.default)(dirtyAmount);\n      return (0, _index2.default)(dirtyDate, -amount);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/subMonths/index.js\nvar require_subMonths = __commonJS({\n  \"../../node_modules/date-fns/subMonths/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = subMonths;\n    var _index = _interopRequireDefault(require_toInteger());\n    var _index2 = _interopRequireDefault(require_addMonths());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function subMonths(dirtyDate, dirtyAmount) {\n      (0, _index3.default)(2, arguments);\n      var amount = (0, _index.default)(dirtyAmount);\n      return (0, _index2.default)(dirtyDate, -amount);\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/sub/index.js\nvar require_sub = __commonJS({\n  \"../../node_modules/date-fns/sub/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = sub2;\n    var _index = _interopRequireDefault(require_subDays());\n    var _index2 = _interopRequireDefault(require_subMonths());\n    var _index3 = _interopRequireDefault(require_requiredArgs());\n    var _index4 = _interopRequireDefault(require_toInteger());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function sub2(date, duration) {\n      (0, _index3.default)(2, arguments);\n      if (!duration || typeof duration !== \"object\")\n        return new Date(NaN);\n      var years = duration.years ? (0, _index4.default)(duration.years) : 0;\n      var months = duration.months ? (0, _index4.default)(duration.months) : 0;\n      var weeks = duration.weeks ? (0, _index4.default)(duration.weeks) : 0;\n      var days = duration.days ? (0, _index4.default)(duration.days) : 0;\n      var hours = duration.hours ? (0, _index4.default)(duration.hours) : 0;\n      var minutes = duration.minutes ? (0, _index4.default)(duration.minutes) : 0;\n      var seconds = duration.seconds ? (0, _index4.default)(duration.seconds) : 0;\n      var dateWithoutMonths = (0, _index2.default)(date, months + years * 12);\n      var dateWithoutDays = (0, _index.default)(dateWithoutMonths, days + weeks * 7);\n      var minutestoSub = minutes + hours * 60;\n      var secondstoSub = seconds + minutestoSub * 60;\n      var mstoSub = secondstoSub * 1e3;\n      var finalDate = new Date(dateWithoutDays.getTime() - mstoSub);\n      return finalDate;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// ../../node_modules/date-fns/intervalToDuration/index.js\nvar require_intervalToDuration = __commonJS({\n  \"../../node_modules/date-fns/intervalToDuration/index.js\"(exports, module) {\n    \"use strict\";\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    exports.default = intervalToDuration2;\n    var _index = _interopRequireDefault(require_compareAsc());\n    var _index2 = _interopRequireDefault(require_differenceInYears());\n    var _index3 = _interopRequireDefault(require_differenceInMonths());\n    var _index4 = _interopRequireDefault(require_differenceInDays());\n    var _index5 = _interopRequireDefault(require_differenceInHours());\n    var _index6 = _interopRequireDefault(require_differenceInMinutes());\n    var _index7 = _interopRequireDefault(require_differenceInSeconds());\n    var _index8 = _interopRequireDefault(require_isValid());\n    var _index9 = _interopRequireDefault(require_requiredArgs());\n    var _index10 = _interopRequireDefault(require_toDate());\n    var _index11 = _interopRequireDefault(require_sub());\n    function _interopRequireDefault(obj) {\n      return obj && obj.__esModule ? obj : { default: obj };\n    }\n    function intervalToDuration2(_ref) {\n      var start = _ref.start, end = _ref.end;\n      (0, _index9.default)(1, arguments);\n      var dateLeft = (0, _index10.default)(start);\n      var dateRight = (0, _index10.default)(end);\n      if (!(0, _index8.default)(dateLeft)) {\n        throw new RangeError(\"Start Date is invalid\");\n      }\n      if (!(0, _index8.default)(dateRight)) {\n        throw new RangeError(\"End Date is invalid\");\n      }\n      var duration = {\n        years: 0,\n        months: 0,\n        days: 0,\n        hours: 0,\n        minutes: 0,\n        seconds: 0\n      };\n      var sign = (0, _index.default)(dateLeft, dateRight);\n      duration.years = Math.abs((0, _index2.default)(dateLeft, dateRight));\n      var remainingMonths = (0, _index11.default)(dateLeft, {\n        years: sign * duration.years\n      });\n      duration.months = Math.abs((0, _index3.default)(remainingMonths, dateRight));\n      var remainingDays = (0, _index11.default)(remainingMonths, {\n        months: sign * duration.months\n      });\n      duration.days = Math.abs((0, _index4.default)(remainingDays, dateRight));\n      var remainingHours = (0, _index11.default)(remainingDays, {\n        days: sign * duration.days\n      });\n      duration.hours = Math.abs((0, _index5.default)(remainingHours, dateRight));\n      var remainingMinutes = (0, _index11.default)(remainingHours, {\n        hours: sign * duration.hours\n      });\n      duration.minutes = Math.abs((0, _index6.default)(remainingMinutes, dateRight));\n      var remainingSeconds = (0, _index11.default)(remainingMinutes, {\n        minutes: sign * duration.minutes\n      });\n      duration.seconds = Math.abs((0, _index7.default)(remainingSeconds, dateRight));\n      return duration;\n    }\n    module.exports = exports.default;\n  }\n});\n\n// src/third-party/collection.tsx\n\n\n\n\n// src/components/page-icon.tsx\n\n\n\n// src/context.tsx\n\n\n// src/components/asset-wrapper.tsx\n\n\n\n// src/utils.ts\n\n\n// src/map-image-url.ts\nvar defaultMapImageUrl = (url, block) => {\n  if (!url) {\n    return null;\n  }\n  if (url.startsWith(\"data:\")) {\n    return url;\n  }\n  if (url.startsWith(\"https://images.unsplash.com\")) {\n    return url;\n  }\n  try {\n    const u = new URL(url);\n    if (u.pathname.startsWith(\"/secure.notion-static.com\") && u.hostname.endsWith(\".amazonaws.com\")) {\n      if (u.searchParams.has(\"X-Amz-Credential\") && u.searchParams.has(\"X-Amz-Signature\") && u.searchParams.has(\"X-Amz-Algorithm\")) {\n        return url;\n      }\n    }\n  } catch (e) {\n  }\n  if (url.startsWith(\"/images\")) {\n    url = `https://www.notion.so${url}`;\n  }\n  url = `https://www.notion.so${url.startsWith(\"/image\") ? url : `/image/${encodeURIComponent(url)}`}`;\n  const notionImageUrlV2 = new URL(url);\n  let table = block.parent_table === \"space\" ? \"block\" : block.parent_table;\n  if (table === \"collection\" || table === \"team\") {\n    table = \"block\";\n  }\n  notionImageUrlV2.searchParams.set(\"table\", table);\n  notionImageUrlV2.searchParams.set(\"id\", block.id);\n  notionImageUrlV2.searchParams.set(\"cache\", \"v2\");\n  url = notionImageUrlV2.toString();\n  return url;\n};\n\n// src/map-page-url.ts\nvar defaultMapPageUrl = (rootPageId) => (pageId) => {\n  pageId = (pageId || \"\").replace(/-/g, \"\");\n  if (rootPageId && pageId === rootPageId) {\n    return \"/\";\n  } else {\n    return `/${pageId}`;\n  }\n};\n\n// src/utils.ts\nvar cs = (...classes) => classes.filter((a) => !!a).join(\" \");\nvar getHashFragmentValue = (url) => {\n  return url.includes(\"#\") ? url.replace(/^.+(#.+)$/, \"$1\") : \"\";\n};\nvar isBrowser = typeof window !== \"undefined\";\nvar youtubeDomains = /* @__PURE__ */ new Set([\n  \"youtu.be\",\n  \"youtube.com\",\n  \"www.youtube.com\",\n  \"youtube-nocookie.com\",\n  \"www.youtube-nocookie.com\"\n]);\nvar getYoutubeId = (url) => {\n  try {\n    const { hostname } = new URL(url);\n    if (!youtubeDomains.has(hostname)) {\n      return null;\n    }\n    const regExp = /^.*(youtu\\.be\\/|v\\/|u\\/\\w\\/|embed\\/|watch\\?v=|&v=)([^#&?]*).*/i;\n    const match = url.match(regExp);\n    if (match && match[2].length == 11) {\n      return match[2];\n    }\n  } catch (e) {\n  }\n  return null;\n};\n\n// src/components/eoi.tsx\n\n\n// src/icons/type-github.tsx\n\nfunction SvgTypeGitHub(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 260 260\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M128.00106,0 C57.3172926,0 0,57.3066942 0,128.00106 C0,184.555281 36.6761997,232.535542 87.534937,249.460899 C93.9320223,250.645779 96.280588,246.684165 96.280588,243.303333 C96.280588,240.251045 96.1618878,230.167899 96.106777,219.472176 C60.4967585,227.215235 52.9826207,204.369712 52.9826207,204.369712 C47.1599584,189.574598 38.770408,185.640538 38.770408,185.640538 C27.1568785,177.696113 39.6458206,177.859325 39.6458206,177.859325 C52.4993419,178.762293 59.267365,191.04987 59.267365,191.04987 C70.6837675,210.618423 89.2115753,204.961093 96.5158685,201.690482 C97.6647155,193.417512 100.981959,187.77078 104.642583,184.574357 C76.211799,181.33766 46.324819,170.362144 46.324819,121.315702 C46.324819,107.340889 51.3250588,95.9223682 59.5132437,86.9583937 C58.1842268,83.7344152 53.8029229,70.715562 60.7532354,53.0843636 C60.7532354,53.0843636 71.5019501,49.6441813 95.9626412,66.2049595 C106.172967,63.368876 117.123047,61.9465949 128.00106,61.8978432 C138.879073,61.9465949 149.837632,63.368876 160.067033,66.2049595 C184.49805,49.6441813 195.231926,53.0843636 195.231926,53.0843636 C202.199197,70.715562 197.815773,83.7344152 196.486756,86.9583937 C204.694018,95.9223682 209.660343,107.340889 209.660343,121.315702 C209.660343,170.478725 179.716133,181.303747 151.213281,184.472614 C155.80443,188.444828 159.895342,196.234518 159.895342,208.176593 C159.895342,225.303317 159.746968,239.087361 159.746968,243.303333 C159.746968,246.709601 162.05102,250.70089 168.53925,249.443941 C219.370432,232.499507 256,184.536204 256,128.00106 C256,57.3066942 198.691187,0 128.00106,0 Z M47.9405593,182.340212 C47.6586465,182.976105 46.6581745,183.166873 45.7467277,182.730227 C44.8183235,182.312656 44.2968914,181.445722 44.5978808,180.80771 C44.8734344,180.152739 45.876026,179.97045 46.8023103,180.409216 C47.7328342,180.826786 48.2627451,181.702199 47.9405593,182.340212 Z M54.2367892,187.958254 C53.6263318,188.524199 52.4329723,188.261363 51.6232682,187.366874 C50.7860088,186.474504 50.6291553,185.281144 51.2480912,184.70672 C51.8776254,184.140775 53.0349512,184.405731 53.8743302,185.298101 C54.7115892,186.201069 54.8748019,187.38595 54.2367892,187.958254 Z M58.5562413,195.146347 C57.7719732,195.691096 56.4895886,195.180261 55.6968417,194.042013 C54.9125733,192.903764 54.9125733,191.538713 55.713799,190.991845 C56.5086651,190.444977 57.7719732,190.936735 58.5753181,192.066505 C59.3574669,193.22383 59.3574669,194.58888 58.5562413,195.146347 Z M65.8613592,203.471174 C65.1597571,204.244846 63.6654083,204.03712 62.5716717,202.981538 C61.4524999,201.94927 61.1409122,200.484596 61.8446341,199.710926 C62.5547146,198.935137 64.0575422,199.15346 65.1597571,200.200564 C66.2704506,201.230712 66.6095936,202.705984 65.8613592,203.471174 Z M75.3025151,206.281542 C74.9930474,207.284134 73.553809,207.739857 72.1039724,207.313809 C70.6562556,206.875043 69.7087748,205.700761 70.0012857,204.687571 C70.302275,203.678621 71.7478721,203.20382 73.2083069,203.659543 C74.6539041,204.09619 75.6035048,205.261994 75.3025151,206.281542 Z M86.046947,207.473627 C86.0829806,208.529209 84.8535871,209.404622 83.3316829,209.4237 C81.8013,209.457614 80.563428,208.603398 80.5464708,207.564772 C80.5464708,206.498591 81.7483088,205.631657 83.2786917,205.606221 C84.8005962,205.576546 86.046947,206.424403 86.046947,207.473627 Z M96.6021471,207.069023 C96.7844366,208.099171 95.7267341,209.156872 94.215428,209.438785 C92.7295577,209.710099 91.3539086,209.074206 91.1652603,208.052538 C90.9808515,206.996955 92.0576306,205.939253 93.5413813,205.66582 C95.054807,205.402984 96.4092596,206.021919 96.6021471,207.069023 Z\",\n    fill: \"#161614\"\n  })));\n}\nvar type_github_default = SvgTypeGitHub;\n\n// src/components/eoi.tsx\nvar EOI = ({ block, inline, className }) => {\n  var _a, _b, _c;\n  const { components } = useNotionContext();\n  const { original_url, attributes, domain } = (block == null ? void 0 : block.format) || {};\n  if (!original_url || !attributes) {\n    return null;\n  }\n  const title = (_a = attributes.find((attr) => attr.id === \"title\")) == null ? void 0 : _a.values[0];\n  let owner = (_b = attributes.find((attr) => attr.id === \"owner\")) == null ? void 0 : _b.values[0];\n  const lastUpdatedAt = (_c = attributes.find((attr) => attr.id === \"updated_at\")) == null ? void 0 : _c.values[0];\n  const lastUpdated = lastUpdatedAt ? (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.formatNotionDateTime)(lastUpdatedAt) : null;\n  let externalImage;\n  switch (domain) {\n    case \"github.com\":\n      externalImage = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(type_github_default, null);\n      if (owner) {\n        const parts = owner.split(\"/\");\n        owner = parts[parts.length - 1];\n      }\n      break;\n    default:\n      if (true) {\n        console.log(\n          `Unsupported external_object_instance domain \"${domain}\"`,\n          JSON.stringify(block, null, 2)\n        );\n      }\n      return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Link, {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    href: original_url,\n    className: cs(\n      \"notion-external\",\n      inline ? \"notion-external-mention\" : \"notion-external-block notion-row\",\n      className\n    )\n  }, externalImage && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-image\"\n  }, externalImage), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-description\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-title\"\n  }, title), (owner || lastUpdated) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-external-subtitle\"\n  }, owner && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, owner), owner && lastUpdated && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, \" \\u2022 \"), lastUpdated && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, \"Updated \", lastUpdated))));\n};\n\n// src/components/text.tsx\n\n\n\n// src/components/graceful-image.tsx\n\n\nvar GracefulImage = (props) => {\n  if (isBrowser) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_image__WEBPACK_IMPORTED_MODULE_3__.Img, __spreadValues({}, props));\n  } else {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", __spreadValues({}, props));\n  }\n};\n\n// src/components/page-title.tsx\n\n\nvar PageTitleImpl = (_a) => {\n  var _b = _a, { block, className, defaultIcon } = _b, rest = __objRest(_b, [\"block\", \"className\", \"defaultIcon\"]);\n  var _a2, _b2;\n  const { recordMap } = useNotionContext();\n  if (!block)\n    return null;\n  if (block.type === \"collection_view_page\" || block.type === \"collection_view\") {\n    const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockTitle)(block, recordMap);\n    if (!title) {\n      return null;\n    }\n    const titleDecoration = [[title]];\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({\n      className: cs(\"notion-page-title\", className)\n    }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n      block,\n      defaultIcon,\n      className: \"notion-page-title-icon\"\n    }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"notion-page-title-text\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n      value: titleDecoration,\n      block\n    })));\n  }\n  if (!((_a2 = block.properties) == null ? void 0 : _a2.title)) {\n    return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({\n    className: cs(\"notion-page-title\", className)\n  }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n    block,\n    defaultIcon,\n    className: \"notion-page-title-icon\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-page-title-text\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n    value: (_b2 = block.properties) == null ? void 0 : _b2.title,\n    block\n  })));\n};\nvar PageTitle = react__WEBPACK_IMPORTED_MODULE_0__.memo(PageTitleImpl);\n\n// src/components/text.tsx\nvar Text = ({ value, block, linkProps, linkProtocol }) => {\n  const { components, recordMap, mapPageUrl, mapImageUrl, rootDomain } = useNotionContext();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, value == null ? void 0 : value.map(([text, decorations], index) => {\n    if (!decorations) {\n      if (text === \",\") {\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n          key: index,\n          style: { padding: \"0.5em\" }\n        });\n      } else {\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n          key: index\n        }, text);\n      }\n    }\n    const formatted = decorations.reduce(\n      (element, decorator) => {\n        var _a, _b, _c, _d, _e;\n        switch (decorator[0]) {\n          case \"p\": {\n            const blockId = decorator[1];\n            const linkedBlock = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n            if (!linkedBlock) {\n              console.log('\"p\" missing block', blockId);\n              return null;\n            }\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n              className: \"notion-link\",\n              href: mapPageUrl(blockId)\n            }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n              block: linkedBlock\n            }));\n          }\n          case \"\\u2023\": {\n            const linkType = decorator[1][0];\n            const id = decorator[1][1];\n            switch (linkType) {\n              case \"u\": {\n                const user = (_b = recordMap.notion_user[id]) == null ? void 0 : _b.value;\n                if (!user) {\n                  console.log('\"\\u2023\" missing user', id);\n                  return null;\n                }\n                const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n                return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GracefulImage, {\n                  className: \"notion-user\",\n                  src: mapImageUrl(user.profile_photo, block),\n                  alt: name\n                });\n              }\n              default: {\n                const linkedBlock = (_c = recordMap.block[id]) == null ? void 0 : _c.value;\n                if (!linkedBlock) {\n                  console.log('\"\\u2023\" missing block', linkType, id);\n                  return null;\n                }\n                return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, __spreadProps(__spreadValues({\n                  className: \"notion-link\",\n                  href: mapPageUrl(id)\n                }, linkProps), {\n                  target: \"_blank\",\n                  rel: \"noopener noreferrer\"\n                }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n                  block: linkedBlock\n                }));\n              }\n            }\n          }\n          case \"h\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n              className: `notion-${decorator[1]}`\n            }, element);\n          case \"c\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"code\", {\n              className: \"notion-inline-code\"\n            }, element);\n          case \"b\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"b\", null, element);\n          case \"i\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"em\", null, element);\n          case \"s\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"s\", null, element);\n          case \"_\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n              className: \"notion-inline-underscore\"\n            }, element);\n          case \"e\":\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Equation, {\n              math: decorator[1],\n              inline: true\n            });\n          case \"m\":\n            return element;\n          case \"a\": {\n            const v = decorator[1];\n            const pathname = v.substr(1);\n            const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.parsePageId)(pathname, { uuid: true });\n            if ((v[0] === \"/\" || v.includes(rootDomain)) && id) {\n              const href = v.includes(rootDomain) ? v : `${mapPageUrl(id)}${getHashFragmentValue(v)}`;\n              return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, __spreadValues({\n                className: \"notion-link\",\n                href\n              }, linkProps), element);\n            } else {\n              return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Link, __spreadValues({\n                className: \"notion-link\",\n                href: linkProtocol ? `${linkProtocol}:${decorator[1]}` : decorator[1]\n              }, linkProps), element);\n            }\n          }\n          case \"d\": {\n            const v = decorator[1];\n            const type = v == null ? void 0 : v.type;\n            if (type === \"date\") {\n              const startDate = v.start_date;\n              return (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.formatDate)(startDate);\n            } else if (type === \"daterange\") {\n              const startDate = v.start_date;\n              const endDate = v.end_date;\n              return `${(0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.formatDate)(startDate)} \\u2192 ${(0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.formatDate)(endDate)}`;\n            } else {\n              return element;\n            }\n          }\n          case \"u\": {\n            const userId = decorator[1];\n            const user = (_d = recordMap.notion_user[userId]) == null ? void 0 : _d.value;\n            if (!user) {\n              console.log(\"missing user\", userId);\n              return null;\n            }\n            const name = [user.given_name, user.family_name].filter(Boolean).join(\" \");\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GracefulImage, {\n              className: \"notion-user\",\n              src: mapImageUrl(user.profile_photo, block),\n              alt: name\n            });\n          }\n          case \"eoi\": {\n            const blockId = decorator[1];\n            const externalObjectInstance = (_e = recordMap.block[blockId]) == null ? void 0 : _e.value;\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EOI, {\n              block: externalObjectInstance,\n              inline: true\n            });\n          }\n          default:\n            if (true) {\n              console.log(\"unsupported text format\", decorator);\n            }\n            return element;\n        }\n      },\n      /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, text)\n    );\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: index\n    }, formatted);\n  }));\n};\n\n// src/components/lazy-image.tsx\n\n\n\nvar LazyImage = (_a) => {\n  var _b = _a, {\n    src,\n    alt,\n    className,\n    style,\n    zoomable = false,\n    priority = false,\n    height\n  } = _b, rest = __objRest(_b, [\n    \"src\",\n    \"alt\",\n    \"className\",\n    \"style\",\n    \"zoomable\",\n    \"priority\",\n    \"height\"\n  ]);\n  var _a2, _b2, _c;\n  const { recordMap, zoom, previewImages, forceCustomImages, components } = useNotionContext();\n  const zoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useRef(zoom ? zoom.clone() : null);\n  const previewImage = previewImages ? (_c = (_a2 = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _a2[src]) != null ? _c : (_b2 = recordMap == null ? void 0 : recordMap.preview_images) == null ? void 0 : _b2[(0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.normalizeUrl)(src)] : null;\n  const onLoad = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (e) => {\n      if (zoomable && (e.target.src || e.target.srcset)) {\n        if (zoomRef.current) {\n          ;\n          zoomRef.current.attach(e.target);\n        }\n      }\n    },\n    [zoomRef, zoomable]\n  );\n  const attachZoom = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (image) => {\n      if (zoomRef.current && image) {\n        ;\n        zoomRef.current.attach(image);\n      }\n    },\n    [zoomRef]\n  );\n  const attachZoomRef = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => zoomable ? attachZoom : void 0,\n    [zoomable, attachZoom]\n  );\n  if (previewImage) {\n    const aspectRatio = previewImage.originalHeight / previewImage.originalWidth;\n    if (components.Image) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Image, {\n        src,\n        alt,\n        style,\n        className,\n        width: previewImage.originalWidth,\n        height: previewImage.originalHeight,\n        blurDataURL: previewImage.dataURIBase64,\n        placeholder: \"blur\",\n        priority,\n        onLoad\n      });\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react_lazy_images__WEBPACK_IMPORTED_MODULE_4__.LazyImageFull, __spreadProps(__spreadValues({\n      src\n    }, rest), {\n      experimentalDecode: true\n    }), ({ imageState, ref }) => {\n      const isLoaded = imageState === react_lazy_images__WEBPACK_IMPORTED_MODULE_4__.ImageState.LoadSuccess;\n      const wrapperStyle = {\n        width: \"100%\"\n      };\n      const imgStyle = {};\n      if (height) {\n        wrapperStyle.height = height;\n      } else {\n        imgStyle.position = \"absolute\";\n        wrapperStyle.paddingBottom = `${aspectRatio * 100}%`;\n      }\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: cs(\n          \"lazy-image-wrapper\",\n          isLoaded && \"lazy-image-loaded\",\n          className\n        ),\n        style: wrapperStyle\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        className: \"lazy-image-preview\",\n        src: previewImage.dataURIBase64,\n        alt,\n        ref,\n        style,\n        decoding: \"async\"\n      }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n        className: \"lazy-image-real\",\n        src,\n        alt,\n        ref: attachZoomRef,\n        style: __spreadValues(__spreadValues({}, style), imgStyle),\n        width: previewImage.originalWidth,\n        height: previewImage.originalHeight,\n        decoding: \"async\",\n        loading: \"lazy\"\n      }));\n    });\n  } else {\n    if (components.Image && forceCustomImages) {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Image, {\n        src,\n        alt,\n        className,\n        style,\n        width: null,\n        height: height || null,\n        priority,\n        onLoad\n      });\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", __spreadValues({\n      className,\n      style,\n      src,\n      alt,\n      ref: attachZoomRef,\n      loading: \"lazy\",\n      decoding: \"async\"\n    }, rest));\n  }\n};\n\n// src/components/header.tsx\n\n\n\n\n// src/icons/search-icon.tsx\n\nvar SearchIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    className: cs(\"notion-icon\", className),\n    viewBox: \"0 0 17 17\"\n  }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M6.78027 13.6729C8.24805 13.6729 9.60156 13.1982 10.709 12.4072L14.875 16.5732C15.0684 16.7666 15.3232 16.8633 15.5957 16.8633C16.167 16.8633 16.5713 16.4238 16.5713 15.8613C16.5713 15.5977 16.4834 15.3516 16.29 15.1582L12.1504 11.0098C13.0205 9.86719 13.5391 8.45215 13.5391 6.91406C13.5391 3.19629 10.498 0.155273 6.78027 0.155273C3.0625 0.155273 0.0214844 3.19629 0.0214844 6.91406C0.0214844 10.6318 3.0625 13.6729 6.78027 13.6729ZM6.78027 12.2139C3.87988 12.2139 1.48047 9.81445 1.48047 6.91406C1.48047 4.01367 3.87988 1.61426 6.78027 1.61426C9.68066 1.61426 12.0801 4.01367 12.0801 6.91406C12.0801 9.81445 9.68066 12.2139 6.78027 12.2139Z\"\n  }));\n};\n\n// src/components/search-dialog.tsx\nvar import_lodash = __toESM(require_lodash(), 1);\n\n\n\n// src/icons/clear-icon.tsx\n\nvar ClearIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className: cs(\"notion-icon\", className)\n  }, rest), {\n    viewBox: \"0 0 30 30\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M15,0C6.716,0,0,6.716,0,15s6.716,15,15,15s15-6.716,15-15S23.284,0,15,0z M22,20.6L20.6,22L15,16.4L9.4,22L8,20.6l5.6-5.6 L8,9.4L9.4,8l5.6,5.6L20.6,8L22,9.4L16.4,15L22,20.6z\"\n  }));\n};\n\n// src/icons/loading-icon.tsx\n\nvar LoadingIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className: cs(\"notion-icon\", className)\n  }, rest), {\n    viewBox: \"0 0 24 24\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"defs\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"linearGradient\", {\n    x1: \"28.1542969%\",\n    y1: \"63.7402344%\",\n    x2: \"74.6289062%\",\n    y2: \"17.7832031%\",\n    id: \"linearGradient-1\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"stop\", {\n    stopColor: \"rgba(164, 164, 164, 1)\",\n    offset: \"0%\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"stop\", {\n    stopColor: \"rgba(164, 164, 164, 0)\",\n    stopOpacity: \"0\",\n    offset: \"100%\"\n  }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n    id: \"Page-1\",\n    stroke: \"none\",\n    strokeWidth: \"1\",\n    fill: \"none\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n    transform: \"translate(-236.000000, -286.000000)\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"g\", {\n    transform: \"translate(238.000000, 286.000000)\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"circle\", {\n    id: \"Oval-2\",\n    stroke: \"url(#linearGradient-1)\",\n    strokeWidth: \"4\",\n    cx: \"10\",\n    cy: \"12\",\n    r: \"10\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10,2 C4.4771525,2 0,6.4771525 0,12\",\n    id: \"Oval-2\",\n    stroke: \"rgba(164, 164, 164, 1)\",\n    strokeWidth: \"4\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"rect\", {\n    id: \"Rectangle-1\",\n    fill: \"rgba(164, 164, 164, 1)\",\n    x: \"8\",\n    y: \"0\",\n    width: \"4\",\n    height: \"4\",\n    rx: \"8\"\n  })))));\n};\n\n// src/components/search-dialog.tsx\nvar SearchDialog = class extends react__WEBPACK_IMPORTED_MODULE_0__.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: false,\n      query: \"\",\n      searchResult: null,\n      searchError: null\n    };\n    this._onAfterOpen = () => {\n      if (this._inputRef.current) {\n        this._inputRef.current.focus();\n      }\n    };\n    this._onChangeQuery = (e) => {\n      const query = e.target.value;\n      this.setState({ query });\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      } else {\n        this._search();\n      }\n    };\n    this._onClearQuery = () => {\n      this._onChangeQuery({ target: { value: \"\" } });\n    };\n    this._warmupSearch = () => __async(this, null, function* () {\n      const { searchNotion, rootBlockId } = this.props;\n      yield searchNotion({\n        query: \"\",\n        ancestorId: rootBlockId\n      });\n    });\n    this._searchImpl = () => __async(this, null, function* () {\n      const { searchNotion, rootBlockId } = this.props;\n      const { query } = this.state;\n      if (!query.trim()) {\n        this.setState({ isLoading: false, searchResult: null, searchError: null });\n        return;\n      }\n      this.setState({ isLoading: true });\n      const result = yield searchNotion({\n        query,\n        ancestorId: rootBlockId\n      });\n      console.log(\"search\", query, result);\n      let searchResult = null;\n      let searchError = null;\n      if (result.error || result.errorId) {\n        searchError = result;\n      } else {\n        searchResult = __spreadValues({}, result);\n        const results = searchResult.results.map((result2) => {\n          var _a, _b;\n          const block = (_a = searchResult.recordMap.block[result2.id]) == null ? void 0 : _a.value;\n          if (!block)\n            return;\n          const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockTitle)(block, searchResult.recordMap);\n          if (!title) {\n            return;\n          }\n          result2.title = title;\n          result2.block = block;\n          result2.recordMap = searchResult.recordMap;\n          result2.page = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockParentPage)(block, searchResult.recordMap, {\n            inclusive: true\n          }) || block;\n          if (!result2.page.id) {\n            return;\n          }\n          if ((_b = result2.highlight) == null ? void 0 : _b.text) {\n            result2.highlight.html = result2.highlight.text.replace(/<gzkNfoUU>/gi, \"<b>\").replace(/<\\/gzkNfoUU>/gi, \"</b>\");\n          }\n          return result2;\n        }).filter(Boolean);\n        const searchResultsMap = results.reduce(\n          (map, result2) => __spreadProps(__spreadValues({}, map), {\n            [result2.page.id]: result2\n          }),\n          {}\n        );\n        searchResult.results = Object.values(searchResultsMap);\n      }\n      if (this.state.query === query) {\n        this.setState({ isLoading: false, searchResult, searchError });\n      }\n    });\n    this._inputRef = react__WEBPACK_IMPORTED_MODULE_0__.createRef();\n  }\n  componentDidMount() {\n    this._search = (0, import_lodash.default)(this._searchImpl.bind(this), 1e3);\n    this._warmupSearch();\n  }\n  render() {\n    const { isOpen, onClose } = this.props;\n    const { isLoading, query, searchResult, searchError } = this.state;\n    const hasQuery = !!query.trim();\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextConsumer, null, (ctx2) => {\n      const { components, defaultPageIcon, mapPageUrl } = ctx2;\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Modal, {\n        isOpen,\n        contentLabel: \"Search\",\n        className: \"notion-search\",\n        overlayClassName: \"notion-search-overlay\",\n        onRequestClose: onClose,\n        onAfterOpen: this._onAfterOpen\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"quickFindMenu\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"searchBar\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"inlineIcon\"\n      }, isLoading ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LoadingIcon, {\n        className: \"loadingIcon\"\n      }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SearchIcon, null)), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n        className: \"searchInput\",\n        placeholder: \"Search\",\n        value: query,\n        ref: this._inputRef,\n        onChange: this._onChangeQuery\n      }), query && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        role: \"button\",\n        className: \"clearButton\",\n        onClick: this._onClearQuery\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ClearIcon, {\n        className: \"clearIcon\"\n      }))), hasQuery && searchResult && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, searchResult.results.length ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextProvider, __spreadProps(__spreadValues({}, ctx2), {\n        recordMap: searchResult.recordMap\n      }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"resultsPane\"\n      }, searchResult.results.map((result) => {\n        var _a;\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n          key: result.id,\n          className: cs(\"result\", \"notion-page-link\"),\n          href: mapPageUrl(\n            result.page.id,\n            searchResult.recordMap\n          )\n        }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n          block: result.page,\n          defaultIcon: defaultPageIcon\n        }), ((_a = result.highlight) == null ? void 0 : _a.html) && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n          className: \"notion-search-result-highlight\",\n          dangerouslySetInnerHTML: {\n            __html: result.highlight.html\n          }\n        }));\n      })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"footer\", {\n        className: \"resultsFooter\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"resultsCount\"\n      }, searchResult.total), searchResult.total === 1 ? \" result\" : \" results\"))) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResultsPane\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResults\"\n      }, \"No results\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResultsDetail\"\n      }, \"Try different search terms\"))), hasQuery && !searchResult && searchError && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResultsPane\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"noResults\"\n      }, \"Search error\"))));\n    });\n  }\n};\n\n// src/components/header.tsx\nvar Header = ({ block }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"header\", {\n    className: \"notion-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-nav-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Breadcrumbs, {\n    block\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Search, {\n    block\n  })));\n};\nvar Breadcrumbs = ({ block, rootOnly = false }) => {\n  const { recordMap, mapPageUrl, components } = useNotionContext();\n  const breadcrumbs = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    const breadcrumbs2 = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getPageBreadcrumbs)(recordMap, block.id);\n    if (rootOnly) {\n      return [breadcrumbs2[0]].filter(Boolean);\n    }\n    return breadcrumbs2;\n  }, [recordMap, block.id, rootOnly]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"breadcrumbs\",\n    key: \"breadcrumbs\"\n  }, breadcrumbs.map((breadcrumb, index) => {\n    if (!breadcrumb) {\n      return null;\n    }\n    const pageLinkProps = {};\n    const componentMap = {\n      pageLink: components.PageLink\n    };\n    if (breadcrumb.active) {\n      componentMap.pageLink = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({}, props));\n    } else {\n      pageLinkProps.href = mapPageUrl(breadcrumb.pageId);\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n      key: breadcrumb.pageId\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(componentMap.pageLink, __spreadValues({\n      className: cs(\"breadcrumb\", breadcrumb.active && \"active\")\n    }, pageLinkProps), breadcrumb.icon && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n      className: \"icon\",\n      block: breadcrumb.block\n    }), breadcrumb.title && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"title\"\n    }, breadcrumb.title)), index < breadcrumbs.length - 1 && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"spacer\"\n    }, \"/\"));\n  }));\n};\nvar Search = ({ block, search, title = \"Search\" }) => {\n  const { searchNotion, rootPageId, isShowingSearch, onHideSearch } = useNotionContext();\n  const onSearchNotion = search || searchNotion;\n  const [isSearchOpen, setIsSearchOpen] = react__WEBPACK_IMPORTED_MODULE_0__.useState(isShowingSearch);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setIsSearchOpen(isShowingSearch);\n  }, [isShowingSearch]);\n  const onOpenSearch = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsSearchOpen(true);\n  }, []);\n  const onCloseSearch = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsSearchOpen(false);\n    if (onHideSearch) {\n      onHideSearch();\n    }\n  }, [onHideSearch]);\n  (0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_5__.useHotkeys)(\"cmd+p\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  (0,react_hotkeys_hook__WEBPACK_IMPORTED_MODULE_5__.useHotkeys)(\"cmd+k\", (event) => {\n    onOpenSearch();\n    event.preventDefault();\n    event.stopPropagation();\n  });\n  const hasSearch = !!onSearchNotion;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, hasSearch && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    role: \"button\",\n    className: cs(\"breadcrumb\", \"button\", \"notion-search-button\"),\n    onClick: onOpenSearch\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SearchIcon, {\n    className: \"searchIcon\"\n  }), title && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"title\"\n  }, title)), isSearchOpen && hasSearch && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(SearchDialog, {\n    isOpen: isSearchOpen,\n    rootBlockId: rootPageId || (block == null ? void 0 : block.id),\n    onClose: onCloseSearch,\n    searchNotion: onSearchNotion\n  }));\n};\n\n// src/components/asset.tsx\n\n\n\n// src/components/lite-youtube-embed.tsx\n\nvar qs = (params) => {\n  return Object.keys(params).map(\n    (key) => `${encodeURIComponent(key)}=${encodeURIComponent(params[key])}`\n  ).join(\"&\");\n};\nvar LiteYouTubeEmbed = ({\n  id,\n  defaultPlay = false,\n  mute = false,\n  lazyImage = false,\n  iframeTitle = \"YouTube video\",\n  alt = \"Video preview\",\n  params = {},\n  adLinksPreconnect = true,\n  style,\n  className\n}) => {\n  const muteParam = mute || defaultPlay ? \"1\" : \"0\";\n  const queryString = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => qs(__spreadValues({ autoplay: \"1\", mute: muteParam }, params)),\n    [muteParam, params]\n  );\n  const resolution = \"hqdefault\";\n  const posterUrl = `https://i.ytimg.com/vi/${id}/${resolution}.jpg`;\n  const ytUrl = \"https://www.youtube-nocookie.com\";\n  const iframeSrc = `${ytUrl}/embed/${id}?${queryString}`;\n  const [isPreconnected, setIsPreconnected] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const [iframeInitialized, setIframeInitialized] = react__WEBPACK_IMPORTED_MODULE_0__.useState(defaultPlay);\n  const [isIframeLoaded, setIsIframeLoaded] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  const warmConnections = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (isPreconnected)\n      return;\n    setIsPreconnected(true);\n  }, [isPreconnected]);\n  const onLoadIframe = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    if (iframeInitialized)\n      return;\n    setIframeInitialized(true);\n  }, [iframeInitialized]);\n  const onIframeLoaded = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(() => {\n    setIsIframeLoaded(true);\n  }, []);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preload\",\n    href: posterUrl,\n    as: \"image\"\n  }), isPreconnected && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: ytUrl\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://www.google.com\"\n  })), isPreconnected && adLinksPreconnect && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://static.doubleclick.net\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"link\", {\n    rel: \"preconnect\",\n    href: \"https://googleads.g.doubleclick.net\"\n  })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    onClick: onLoadIframe,\n    onPointerOver: warmConnections,\n    className: cs(\n      \"notion-yt-lite\",\n      isIframeLoaded && \"notion-yt-loaded\",\n      iframeInitialized && \"notion-yt-initialized\",\n      className\n    ),\n    style\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"img\", {\n    src: posterUrl,\n    className: \"notion-yt-thumbnail\",\n    loading: lazyImage ? \"lazy\" : void 0,\n    alt\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-yt-playbtn\"\n  }), iframeInitialized && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", {\n    width: \"560\",\n    height: \"315\",\n    frameBorder: \"0\",\n    allow: \"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\",\n    allowFullScreen: true,\n    title: iframeTitle,\n    src: iframeSrc,\n    onLoad: onIframeLoaded\n  })));\n};\n\n// src/components/asset.tsx\nvar isServer = typeof window === \"undefined\";\nvar supportedAssetTypes = [\n  \"video\",\n  \"image\",\n  \"embed\",\n  \"figma\",\n  \"typeform\",\n  \"excalidraw\",\n  \"maps\",\n  \"tweet\",\n  \"pdf\",\n  \"gist\",\n  \"codepen\",\n  \"drive\"\n];\nvar Asset = ({ block, zoomable = true, children }) => {\n  var _a, _b, _c, _d, _e, _f, _g, _h, _i, _j;\n  const { recordMap, mapImageUrl, components } = useNotionContext();\n  if (!block || !supportedAssetTypes.includes(block.type)) {\n    return null;\n  }\n  const style = {\n    position: \"relative\",\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignSelf: \"center\",\n    width: \"100%\",\n    maxWidth: \"100%\",\n    flexDirection: \"column\"\n  };\n  const assetStyle = {};\n  if (block.format) {\n    const {\n      block_aspect_ratio,\n      block_height,\n      block_width,\n      block_full_width,\n      block_page_width,\n      block_preserve_scale\n    } = block.format;\n    if (block_full_width || block_page_width) {\n      if (block_full_width) {\n        style.width = \"100vw\";\n      } else {\n        style.width = \"100%\";\n      }\n      if (block.type === \"video\") {\n        if (block_height) {\n          style.height = block_height;\n        } else if (block_aspect_ratio) {\n          style.paddingBottom = `${block_aspect_ratio * 100}%`;\n        } else if (block_preserve_scale) {\n          style.objectFit = \"contain\";\n        }\n      } else if (block_aspect_ratio && block.type !== \"image\") {\n        style.paddingBottom = `${block_aspect_ratio * 100}%`;\n      } else if (block_height) {\n        style.height = block_height;\n      } else if (block_preserve_scale) {\n        if (block.type === \"image\") {\n          style.height = \"100%\";\n        } else {\n          style.paddingBottom = \"75%\";\n          style.minHeight = 100;\n        }\n      }\n    } else {\n      switch ((_a = block.format) == null ? void 0 : _a.block_alignment) {\n        case \"center\": {\n          style.alignSelf = \"center\";\n          break;\n        }\n        case \"left\": {\n          style.alignSelf = \"start\";\n          break;\n        }\n        case \"right\": {\n          style.alignSelf = \"end\";\n          break;\n        }\n      }\n      if (block_width) {\n        style.width = block_width;\n      }\n      if (block_preserve_scale && block.type !== \"image\") {\n        style.paddingBottom = \"50%\";\n        style.minHeight = 100;\n      } else {\n        if (block_height && block.type !== \"image\") {\n          style.height = block_height;\n        }\n      }\n    }\n    if (block.type === \"image\") {\n      assetStyle.objectFit = \"cover\";\n    } else if (block_preserve_scale) {\n      assetStyle.objectFit = \"contain\";\n    }\n  }\n  let source = ((_b = recordMap.signed_urls) == null ? void 0 : _b[block.id]) || ((_e = (_d = (_c = block.properties) == null ? void 0 : _c.source) == null ? void 0 : _d[0]) == null ? void 0 : _e[0]);\n  let content = null;\n  if (!source) {\n    return null;\n  }\n  if (block.type === \"tweet\") {\n    const src = source;\n    if (!src)\n      return null;\n    const id = src.split(\"?\")[0].split(\"/\").pop();\n    if (!id)\n      return null;\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      style: __spreadProps(__spreadValues({}, assetStyle), {\n        maxWidth: 420,\n        width: \"100%\",\n        marginLeft: \"auto\",\n        marginRight: \"auto\"\n      })\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Tweet, {\n      id\n    }));\n  } else if (block.type === \"pdf\") {\n    style.overflow = \"auto\";\n    style.background = \"rgb(226, 226, 226)\";\n    style.display = \"block\";\n    if (!style.padding) {\n      style.padding = \"8px 16px\";\n    }\n    if (!isServer) {\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Pdf, {\n        file: source\n      });\n    }\n  } else if (block.type === \"embed\" || block.type === \"video\" || block.type === \"figma\" || block.type === \"typeform\" || block.type === \"gist\" || block.type === \"maps\" || block.type === \"excalidraw\" || block.type === \"codepen\" || block.type === \"drive\") {\n    if (block.type === \"video\" && source && source.indexOf(\"youtube\") < 0 && source.indexOf(\"youtu.be\") < 0 && source.indexOf(\"vimeo\") < 0 && source.indexOf(\"wistia\") < 0 && source.indexOf(\"loom\") < 0 && source.indexOf(\"videoask\") < 0 && source.indexOf(\"getcloudapp\") < 0) {\n      style.paddingBottom = void 0;\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"video\", {\n        playsInline: true,\n        controls: true,\n        preload: \"metadata\",\n        style: assetStyle,\n        src: source,\n        title: block.type\n      });\n    } else {\n      let src = ((_f = block.format) == null ? void 0 : _f.display_source) || source;\n      if (src) {\n        const youtubeVideoId = block.type === \"video\" ? getYoutubeId(src) : null;\n        if (youtubeVideoId) {\n          content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LiteYouTubeEmbed, {\n            id: youtubeVideoId,\n            style: assetStyle,\n            className: \"notion-asset-object-fit\"\n          });\n        } else if (block.type === \"gist\") {\n          if (!src.endsWith(\".pibb\")) {\n            src = `${src}.pibb`;\n          }\n          assetStyle.width = \"100%\";\n          style.paddingBottom = \"50%\";\n          content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", {\n            style: assetStyle,\n            className: \"notion-asset-object-fit\",\n            src,\n            title: \"GitHub Gist\",\n            frameBorder: \"0\",\n            loading: \"lazy\",\n            scrolling: \"auto\"\n          });\n        } else {\n          content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"iframe\", {\n            className: \"notion-asset-object-fit\",\n            style: assetStyle,\n            src,\n            title: `iframe ${block.type}`,\n            frameBorder: \"0\",\n            allowFullScreen: true,\n            loading: \"lazy\",\n            scrolling: \"auto\"\n          });\n        }\n      }\n    }\n  } else if (block.type === \"image\") {\n    if (source.includes(\"file.notion.so\")) {\n      source = (_i = (_h = (_g = block.properties) == null ? void 0 : _g.source) == null ? void 0 : _h[0]) == null ? void 0 : _i[0];\n    }\n    const src = mapImageUrl(source, block);\n    const caption = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getTextContent)((_j = block.properties) == null ? void 0 : _j.caption);\n    const alt = caption || \"notion image\";\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n      src,\n      alt,\n      zoomable,\n      height: style.height,\n      style: assetStyle\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    style\n  }, content, block.type === \"image\" && children), block.type !== \"image\" && children);\n};\n\n// src/components/asset-wrapper.tsx\nvar urlStyle = { width: \"100%\" };\nvar AssetWrapper = ({ blockId, block }) => {\n  var _a, _b, _c, _d, _e, _f;\n  const value = block;\n  const { components, mapPageUrl, rootDomain, zoom } = useNotionContext();\n  let isURL = false;\n  if (block.type === \"image\") {\n    const caption = (_c = (_b = (_a = value == null ? void 0 : value.properties) == null ? void 0 : _a.caption) == null ? void 0 : _b[0]) == null ? void 0 : _c[0];\n    if (caption) {\n      const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.parsePageId)(caption, { uuid: true });\n      const isPage = caption.charAt(0) === \"/\" && id;\n      if (isPage || isValidURL(caption)) {\n        isURL = true;\n      }\n    }\n  }\n  const figure = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"figure\", {\n    className: cs(\n      \"notion-asset-wrapper\",\n      `notion-asset-wrapper-${block.type}`,\n      ((_d = value.format) == null ? void 0 : _d.block_full_width) && \"notion-asset-wrapper-full\",\n      blockId\n    )\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Asset, {\n    block: value,\n    zoomable: zoom && !isURL\n  }, ((_e = value == null ? void 0 : value.properties) == null ? void 0 : _e.caption) && !isURL && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"figcaption\", {\n    className: \"notion-asset-caption\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n    value: value.properties.caption,\n    block\n  }))));\n  if (isURL) {\n    const caption = (_f = value == null ? void 0 : value.properties) == null ? void 0 : _f.caption[0][0];\n    const id = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.parsePageId)(caption, { uuid: true });\n    const isPage = caption.charAt(0) === \"/\" && id;\n    const captionHostname = extractHostname(caption);\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n      style: urlStyle,\n      href: isPage ? mapPageUrl(id) : caption,\n      target: captionHostname && captionHostname !== rootDomain && !caption.startsWith(\"/\") ? \"blank_\" : null\n    }, figure);\n  }\n  return figure;\n};\nfunction isValidURL(str) {\n  const pattern = new RegExp(\n    \"^(https?:\\\\/\\\\/)?((([a-z\\\\d]([a-z\\\\d-]*[a-z\\\\d])*)\\\\.)+[a-z]{2,}|((\\\\d{1,3}\\\\.){3}\\\\d{1,3}))(\\\\:\\\\d+)?(\\\\/[-a-z\\\\d%_.~+]*)*(\\\\?[;&a-z\\\\d%_.~+=-]*)?(\\\\#[-a-z\\\\d_]*)?$\",\n    \"i\"\n  );\n  return !!pattern.test(str);\n}\nfunction extractHostname(url) {\n  try {\n    const hostname = new URL(url).hostname;\n    return hostname;\n  } catch (err) {\n    return \"\";\n  }\n}\n\n// src/components/checkbox.tsx\n\n\n// src/icons/check.tsx\n\nfunction SvgCheck(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M5.5 12L14 3.5 12.5 2l-7 7-4-4.003L0 6.499z\"\n  }));\n}\nvar check_default = SvgCheck;\n\n// src/components/checkbox.tsx\nvar Checkbox = ({ isChecked }) => {\n  let content = null;\n  if (isChecked) {\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-property-checkbox-checked\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(check_default, null));\n  } else {\n    content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-property-checkbox-unchecked\"\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-property notion-property-checkbox\"\n  }, content);\n};\n\n// src/next.tsx\n\n\nvar wrapNextImage = (NextImage) => {\n  return react__WEBPACK_IMPORTED_MODULE_0__.memo(function ReactNotionXNextImage(_a) {\n    var _b = _a, {\n      src,\n      alt,\n      width,\n      height,\n      className,\n      style,\n      layout\n    } = _b, rest = __objRest(_b, [\n      \"src\",\n      \"alt\",\n      \"width\",\n      \"height\",\n      \"className\",\n      \"style\",\n      \"layout\"\n    ]);\n    if (!layout) {\n      layout = width && height ? \"intrinsic\" : \"fill\";\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextImage, __spreadValues({\n      className,\n      src,\n      alt,\n      width: layout === \"intrinsic\" && width,\n      height: layout === \"intrinsic\" && height,\n      objectFit: style == null ? void 0 : style.objectFit,\n      objectPosition: style == null ? void 0 : style.objectPosition,\n      layout\n    }, rest));\n  }, react_fast_compare__WEBPACK_IMPORTED_MODULE_6__);\n};\nvar wrapNextLink = (NextLink) => function ReactNotionXNextLink(_a) {\n  var _b = _a, {\n    href,\n    as,\n    passHref,\n    prefetch,\n    replace,\n    scroll,\n    shallow,\n    locale\n  } = _b, linkProps = __objRest(_b, [\n    \"href\",\n    \"as\",\n    \"passHref\",\n    \"prefetch\",\n    \"replace\",\n    \"scroll\",\n    \"shallow\",\n    \"locale\"\n  ]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NextLink, {\n    href,\n    as,\n    passHref,\n    prefetch,\n    replace,\n    scroll,\n    shallow,\n    locale\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", __spreadValues({}, linkProps)));\n};\n\n// src/context.tsx\nvar DefaultLink = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", __spreadValues({\n  target: \"_blank\",\n  rel: \"noopener noreferrer\"\n}, props));\nvar DefaultLinkMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(DefaultLink);\nvar DefaultPageLink = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"a\", __spreadValues({}, props));\nvar DefaultPageLinkMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(DefaultPageLink);\nvar DefaultEmbed = (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(AssetWrapper, __spreadValues({}, props));\nvar DefaultHeader = Header;\nvar dummyLink = (_a) => {\n  var _b = _a, { href, rel, target, title } = _b, rest = __objRest(_b, [\"href\", \"rel\", \"target\", \"title\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", __spreadValues({}, rest));\n};\nvar dummyComponent = (name) => () => {\n  console.warn(\n    `Warning: using empty component \"${name}\" (you should override this in NotionRenderer.components)`\n  );\n  return null;\n};\nvar dummyOverrideFn = (_, defaultValueFn) => defaultValueFn();\nvar defaultComponents = {\n  Image: null,\n  Link: DefaultLinkMemo,\n  PageLink: DefaultPageLinkMemo,\n  Checkbox,\n  Callout: void 0,\n  Code: dummyComponent(\"Code\"),\n  Equation: dummyComponent(\"Equation\"),\n  Collection: dummyComponent(\"Collection\"),\n  Property: void 0,\n  propertyTextValue: dummyOverrideFn,\n  propertySelectValue: dummyOverrideFn,\n  propertyRelationValue: dummyOverrideFn,\n  propertyFormulaValue: dummyOverrideFn,\n  propertyTitleValue: dummyOverrideFn,\n  propertyPersonValue: dummyOverrideFn,\n  propertyFileValue: dummyOverrideFn,\n  propertyCheckboxValue: dummyOverrideFn,\n  propertyUrlValue: dummyOverrideFn,\n  propertyEmailValue: dummyOverrideFn,\n  propertyPhoneNumberValue: dummyOverrideFn,\n  propertyNumberValue: dummyOverrideFn,\n  propertyLastEditedTimeValue: dummyOverrideFn,\n  propertyCreatedTimeValue: dummyOverrideFn,\n  propertyDateValue: dummyOverrideFn,\n  Pdf: dummyComponent(\"Pdf\"),\n  Tweet: dummyComponent(\"Tweet\"),\n  Modal: dummyComponent(\"Modal\"),\n  Header: DefaultHeader,\n  Embed: DefaultEmbed\n};\nvar defaultNotionContext = {\n  recordMap: {\n    block: {},\n    collection: {},\n    collection_view: {},\n    collection_query: {},\n    notion_user: {},\n    signed_urls: {}\n  },\n  components: defaultComponents,\n  mapPageUrl: defaultMapPageUrl(),\n  mapImageUrl: defaultMapImageUrl,\n  searchNotion: null,\n  isShowingSearch: false,\n  onHideSearch: null,\n  fullPage: false,\n  darkMode: false,\n  previewImages: false,\n  forceCustomImages: false,\n  showCollectionViewDropdown: true,\n  linkTableTitleProperties: true,\n  isLinkCollectionToUrlProperty: false,\n  showTableOfContents: false,\n  minTableOfContentsItems: 3,\n  defaultPageIcon: null,\n  defaultPageCover: null,\n  defaultPageCoverPosition: 0.5,\n  zoom: null\n};\nvar ctx = react__WEBPACK_IMPORTED_MODULE_0__.createContext(defaultNotionContext);\nvar NotionContextProvider = (_a) => {\n  var _b = _a, {\n    components: themeComponents = {},\n    children,\n    mapPageUrl,\n    mapImageUrl,\n    rootPageId\n  } = _b, rest = __objRest(_b, [\n    \"components\",\n    \"children\",\n    \"mapPageUrl\",\n    \"mapImageUrl\",\n    \"rootPageId\"\n  ]);\n  for (const key of Object.keys(rest)) {\n    if (rest[key] === void 0) {\n      delete rest[key];\n    }\n  }\n  const wrappedThemeComponents = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => __spreadValues({}, themeComponents),\n    [themeComponents]\n  );\n  if (wrappedThemeComponents.nextImage) {\n    wrappedThemeComponents.Image = wrapNextImage(themeComponents.nextImage);\n  }\n  if (wrappedThemeComponents.nextLink) {\n    wrappedThemeComponents.nextLink = wrapNextLink(themeComponents.nextLink);\n  }\n  for (const key of Object.keys(wrappedThemeComponents)) {\n    if (!wrappedThemeComponents[key]) {\n      delete wrappedThemeComponents[key];\n    }\n  }\n  const value = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => __spreadProps(__spreadValues(__spreadValues({}, defaultNotionContext), rest), {\n      rootPageId,\n      mapPageUrl: mapPageUrl != null ? mapPageUrl : defaultMapPageUrl(rootPageId),\n      mapImageUrl: mapImageUrl != null ? mapImageUrl : defaultMapImageUrl,\n      components: __spreadValues(__spreadValues({}, defaultComponents), wrappedThemeComponents)\n    }),\n    [mapImageUrl, mapPageUrl, wrappedThemeComponents, rootPageId, rest]\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(ctx.Provider, {\n    value\n  }, children);\n};\nvar NotionContextConsumer = ctx.Consumer;\nvar useNotionContext = () => {\n  return react__WEBPACK_IMPORTED_MODULE_0__.useContext(ctx);\n};\n\n// src/icons/default-page-icon.tsx\n\nvar DefaultPageIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className\n  }, rest), {\n    viewBox: \"0 0 30 30\",\n    width: \"16\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M16,1H4v28h22V11L16,1z M16,3.828L23.172,11H16V3.828z M24,27H6V3h8v10h10V27z M8,17h14v-2H8V17z M8,21h14v-2H8V21z M8,25h14v-2H8V25z\"\n  }));\n};\n\n// src/components/page-icon.tsx\nvar isIconBlock = (value) => {\n  return value.type === \"page\" || value.type === \"callout\" || value.type === \"collection_view\" || value.type === \"collection_view_page\";\n};\nvar PageIconImpl = ({\n  block,\n  className,\n  inline = true,\n  hideDefaultIcon = false,\n  defaultIcon\n}) => {\n  var _a;\n  const { mapImageUrl, recordMap, darkMode } = useNotionContext();\n  let isImage = false;\n  let content = null;\n  if (isIconBlock(block)) {\n    const icon = ((_a = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockIcon)(block, recordMap)) == null ? void 0 : _a.trim()) || defaultIcon;\n    const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockTitle)(block, recordMap);\n    if (icon && (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.isUrl)(icon)) {\n      const url = mapImageUrl(icon, block);\n      isImage = true;\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n        src: url,\n        alt: title || \"page icon\",\n        className: cs(className, \"notion-page-icon\")\n      });\n    } else if (icon && icon.startsWith(\"/icons/\")) {\n      const url = \"https://www.notion.so\" + icon + \"?mode=\" + (darkMode ? \"dark\" : \"light\");\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n        src: url,\n        alt: title || \"page icon\",\n        className: cs(className, \"notion-page-icon\")\n      });\n    } else if (!icon) {\n      if (!hideDefaultIcon) {\n        isImage = true;\n        content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(DefaultPageIcon, {\n          className: cs(className, \"notion-page-icon\"),\n          alt: title ? title : \"page icon\"\n        });\n      }\n    } else {\n      isImage = false;\n      content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: cs(className, \"notion-page-icon\"),\n        role: \"img\",\n        \"aria-label\": icon\n      }, icon);\n    }\n  }\n  if (!content) {\n    return null;\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\n      inline ? \"notion-page-icon-inline\" : \"notion-page-icon-hero\",\n      isImage ? \"notion-page-icon-image\" : \"notion-page-icon-span\"\n    )\n  }, content);\n};\nvar PageIcon = react__WEBPACK_IMPORTED_MODULE_0__.memo(PageIconImpl);\n\n// src/icons/collection-view-board.tsx\n\nfunction SvgCollectionViewBoard(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 3h2v6H3V3zm3 0h2v8H6V3zm3 0h2v4H9V3z\"\n  }));\n}\nvar collection_view_board_default = SvgCollectionViewBoard;\n\n// src/icons/collection-view-calendar.tsx\n\nfunction SvgCollectionViewCalendar(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M2.564 4.004c-.586 0-.71.024-.833.09a.319.319 0 00-.141.14c-.066.124-.09.247-.09.834v6.368c0 .586.024.71.09.833a.319.319 0 00.14.141c.124.066.248.09.834.09h8.872c.586 0 .71-.024.833-.09a.319.319 0 00.141-.14c.066-.124.09-.248.09-.834V5.068c0-.587-.024-.71-.09-.834a.319.319 0 00-.14-.14c-.124-.066-.248-.09-.834-.09H2.564zm0-4.004h8.872c.892 0 1.215.093 1.54.267.327.174.583.43.757.756.174.326.267.65.267 1.54v8.873c0 .892-.093 1.215-.267 1.54-.174.327-.43.583-.756.757-.326.174-.65.267-1.54.267H2.563c-.892 0-1.215-.093-1.54-.267a1.817 1.817 0 01-.757-.756C.093 12.65 0 12.327 0 11.437V2.563c0-.892.093-1.215.267-1.54.174-.327.43-.583.756-.757C1.35.093 1.673 0 2.563 0zm4.044 7.88c.179.11.318.256.418.436.1.18.148.394.148.64 0 .304-.08.597-.238.876-.16.28-.392.498-.692.65-.299.15-.685.224-1.16.224-.46 0-.827-.055-1.1-.166a1.687 1.687 0 01-.68-.492 2.227 2.227 0 01-.404-.802l.083-.127 1.37-.182.112.08c.05.258.126.431.221.52a.507.507 0 00.364.133.495.495 0 00.386-.169c.105-.115.158-.27.158-.472 0-.205-.051-.358-.15-.463a.527.527 0 00-.407-.157 1.65 1.65 0 00-.417.077l-.127-.104.07-.98.115-.091c.072.01.127.015.164.015.154 0 .28-.047.38-.144.1-.096.15-.205.15-.335a.388.388 0 00-.106-.29c-.07-.07-.168-.105-.3-.105a.444.444 0 00-.324.118c-.083.08-.143.232-.176.457l-.117.084-1.297-.233-.079-.123c.114-.435.334-.772.66-1.006.326-.234.78-.349 1.36-.349.666 0 1.153.126 1.462.384.31.259.467.589.467.982 0 .233-.064.446-.192.636a1.43 1.43 0 01-.37.365c.1.034.182.072.248.113zm1.747-.145a5.186 5.186 0 01-.806.31l-.129-.097V6.824l.07-.096c.455-.147.807-.322 1.055-.524.246-.202.439-.45.579-.747l.09-.057h1.135l.1.1v5.021l-.1.1H8.961l-.1-.1V7.428a4.053 4.053 0 01-.506.307z\"\n  }));\n}\nvar collection_view_calendar_default = SvgCollectionViewCalendar;\n\n// src/icons/collection-view-gallery.tsx\n\nfunction SvgCollectionViewGallery(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 3h3.5v3.5H3V3zm4.5 0H11v3.5H7.5V3zM3 7.5h3.5V11H3V7.5zm4.5 0H11V11H7.5V7.5z\"\n  }));\n}\nvar collection_view_gallery_default = SvgCollectionViewGallery;\n\n// src/icons/collection-view-list.tsx\n\nfunction SvgCollectionViewList(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M12 1.5H2a.5.5 0 00-.5.5v10a.5.5 0 00.5.5h10a.5.5 0 00.5-.5V2a.5.5 0 00-.5-.5zM2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm1 3h6v1.5H3V3zm0 2.5h8V7H3V5.5zM3 8h4v1.5H3V8z\"\n  }));\n}\nvar collection_view_list_default = SvgCollectionViewList;\n\n// src/icons/collection-view-table.tsx\n\nfunction SvgCollectionViewTable(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M2 0h10a2 2 0 012 2v10a2 2 0 01-2 2H2a2 2 0 01-2-2V2a2 2 0 012-2zm3.75 5.67v2.66h6.75V5.67H5.75zm0 4.17v2.66h5.75a1 1 0 001-1V9.84H5.75zM1.5 5.67v2.66h2.75V5.67H1.5zm0 4.17v1.66a1 1 0 001 1h1.75V9.84H1.5zm1-8.34a1 1 0 00-1 1v1.66h2.75V1.5H2.5zm3.25 0v2.66h6.75V2.5a1 1 0 00-1-1H5.75z\"\n  }));\n}\nvar collection_view_table_default = SvgCollectionViewTable;\n\n// src/icons/collection-view-icon.tsx\nvar iconMap = {\n  table: collection_view_table_default,\n  board: collection_view_board_default,\n  gallery: collection_view_gallery_default,\n  list: collection_view_list_default,\n  calendar: collection_view_calendar_default\n};\nvar CollectionViewIcon = (_a) => {\n  var _b = _a, {\n    type\n  } = _b, rest = __objRest(_b, [\n    \"type\"\n  ]);\n  const icon = iconMap[type];\n  if (!icon) {\n    return null;\n  }\n  return icon(rest);\n};\n\n// src/third-party/collection-row.tsx\n\n\n// src/third-party/collection-column-title.tsx\n\n\n// src/icons/type-checkbox.tsx\n\nfunction SvgTypeCheckbox(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M0 3a3 3 0 013-3h8a3 3 0 013 3v8a3 3 0 01-3 3H3a3 3 0 01-3-3V3zm3-1.5A1.5 1.5 0 001.5 3v8A1.5 1.5 0 003 12.5h8a1.5 1.5 0 001.5-1.5V3A1.5 1.5 0 0011 1.5H3zm-.167 5.316l.566-.542.177-.17.347-.332.346.334.176.17 1.139 1.098 3.699-3.563.177-.17.347-.335.347.334.177.17.563.543.177.171.372.36-.372.36-.177.17-4.786 4.615-.177.171-.347.334-.347-.334-.177-.17-2.23-2.15-.177-.172-.375-.361.376-.36.179-.17z\"\n  }));\n}\nvar type_checkbox_default = SvgTypeCheckbox;\n\n// src/icons/type-date.tsx\n\nfunction SvgTypeDate(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M10.889 5.5H3.11v1.556h7.778V5.5zm1.555-4.444h-.777V0H10.11v1.056H3.89V0H2.333v1.056h-.777c-.864 0-1.548.7-1.548 1.555L0 12.5c0 .856.692 1.5 1.556 1.5h10.888C13.3 14 14 13.356 14 12.5V2.611c0-.855-.7-1.555-1.556-1.555zm0 11.444H1.556V3.944h10.888V12.5zM8.556 8.611H3.11v1.556h5.445V8.61z\"\n  }));\n}\nvar type_date_default = SvgTypeDate;\n\n// src/icons/type-email.tsx\n\nfunction SvgTypeEmail(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M14 6.225c0 .822-.133 1.574-.4 2.256-.267.683-.644 1.218-1.13 1.606-.488.388-.946.6-1.494.6-.429 0-.808-.102-1.139-.305a1.753 1.753 0 01-.713-.8c-.613.736-1.563 1.104-2.531 1.104-1.027 0-1.835-.304-2.427-.912-.591-.608-.887-1.44-.887-2.496 0-1.204.389-2.175 1.166-2.911.776-.736 1.791-1.105 3.044-1.105.498 0 2.032.212 2.252.268.51.13.86.593.835 1.112l-.156 3.287c0 .794.22 1.19.66 1.19.372 0 .668-.267.888-.8.22-.534.33-1.232.33-2.094 0-.919-.194-1.731-.582-2.436a3.924 3.924 0 00-1.64-1.614c-.704-.371-1.509-.557-2.413-.557-1.172 0-2.19.237-3.053.711a4.785 4.785 0 00-1.988 2.05c-.46.894-.691 1.926-.691 3.096 0 1.576.428 2.784 1.283 3.627.855.841 2.094 1.262 3.718 1.262.615 0 1.29-.067 2.027-.2.225-.042.518-.108.877-.2a.863.863 0 011.025.527.76.76 0 01-.502.993c-1.052.316-2.17.488-3.357.516-2.204 0-3.922-.57-5.154-1.713C.616 11.146 0 9.56 0 7.527c0-1.41.315-2.69.944-3.84A6.792 6.792 0 013.63.98C4.794.327 6.131 0 7.645 0c1.276 0 2.514.29 3.418.77.905.481 1.574 1.228 2.12 2.176.544.947.817 2.04.817 3.28zm-8.615 1.01c0 1.208.488 1.811 1.466 1.811.511 0 .9-.181 1.168-.545.267-.363.429-.954.486-1.772l.11-1.896a4.638 4.638 0 00-.98-.095c-.71 0-1.263.224-1.658.67-.395.446-.592 1.055-.592 1.828z\"\n  }));\n}\nvar type_email_default = SvgTypeEmail;\n\n// src/icons/type-file.tsx\n\nfunction SvgTypeFile(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M5.946 14a4.975 4.975 0 01-3.497-1.415A4.731 4.731 0 011 9.174c0-1.288.515-2.5 1.449-3.41L7.456.986c1.345-1.313 3.722-1.318 5.08.007a3.453 3.453 0 010 4.961L8.03 10.241c-.867.847-2.293.848-3.17-.006a2.158 2.158 0 010-3.102l1.744-1.701 1.272 1.24-1.744 1.701a.43.43 0 000 .621c.23.223.405.223.636 0l4.503-4.288a1.723 1.723 0 00-.007-2.473c-.68-.663-1.864-.663-2.543 0L3.713 7.011a3.006 3.006 0 00-.915 2.163c0 .82.328 1.591.922 2.17 1.19 1.162 3.262 1.162 4.451 0l2.248-2.192 1.272 1.24-2.248 2.193A4.978 4.978 0 015.946 14z\"\n  }));\n}\nvar type_file_default = SvgTypeFile;\n\n// src/icons/type-formula.tsx\n\nfunction SvgTypeFormula(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7.779 7.063l-3.157 4.224a.49.49 0 00-.072.218.35.35 0 00.346.357h6.242c.476 0 .862.398.862.889v.36c0 .491-.386.889-.862.889H1.862A.876.876 0 011 13.111v-.425a.82.82 0 01.177-.54L4.393 7.8a1.367 1.367 0 00-.006-1.625L1.4 2.194a.822.822 0 01-.18-.544V.89C1.22.398 1.604 0 2.08 0h8.838c.476 0 .861.398.861.889v.36c0 .491-.385.89-.86.89H5.135c-.19 0-.345.159-.345.356a.489.489 0 00.07.216l2.92 3.975c.049.062.063.107.06.188a.246.246 0 01-.062.189z\"\n  }));\n}\nvar type_formula_default = SvgTypeFormula;\n\n// src/icons/type-multi-select.tsx\n\nfunction SvgTypeMultiSelect(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M4 3a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zm0 4a1 1 0 011-1h7a1 1 0 110 2H5a1 1 0 01-1-1zM2 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2zm0 4a1 1 0 110-2 1 1 0 010 2z\"\n  }));\n}\nvar type_multi_select_default = SvgTypeMultiSelect;\n\n// src/icons/type-number.tsx\n\nfunction SvgTypeNumber(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M4.462 0c-.595 0-1.078.482-1.078 1.078v2.306H1.078a1.078 1.078 0 100 2.155h2.306v2.922H1.078a1.078 1.078 0 100 2.155h2.306v2.306a1.078 1.078 0 002.155 0v-2.306H8.46v2.306a1.078 1.078 0 002.156 0v-2.306h2.306a1.078 1.078 0 100-2.155h-2.306V5.539h2.306a1.078 1.078 0 100-2.155h-2.306V1.078a1.078 1.078 0 00-2.156 0v2.306H5.54V1.078C5.54.482 5.056 0 4.461 0zm1.077 8.46V5.54H8.46v2.92H5.54z\"\n  }));\n}\nvar type_number_default = SvgTypeNumber;\n\n// src/icons/type-person.tsx\n\nfunction SvgTypePerson(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M9.625 10.847C8.912 10.289 8.121 9.926 7 9.26v-.54a3.33 3.33 0 00.538-.888c.408-.1.774-.498.774-.832 0-.482-.202-.673-.44-.829 0-.015.003-.03.003-.046 0-.711-.438-2.625-2.625-2.625-2.188 0-2.625 1.915-2.625 2.625 0 .017.003.03.003.046-.238.156-.44.347-.44.829 0 .334.366.731.774.833.146.343.326.643.538.886v.541c-1.12.665-1.912 1.028-2.625 1.587C.041 11.498 0 12.469 0 14h10.5c0-1.531-.041-2.502-.875-3.153zm3.5-3.5c-.713-.558-1.504-.921-2.625-1.587v-.54c.212-.244.392-.544.538-.888.408-.1.774-.498.774-.832 0-.482-.202-.673-.44-.829 0-.015.003-.03.003-.046C11.375 1.914 10.937 0 8.75 0 6.562 0 6.125 1.915 6.125 2.625c0 .017.003.03.003.046-.016.012-.03.025-.047.036 1.751.359 2.516 1.841 2.647 3.04.248.262.46.65.46 1.253 0 .603-.417 1.203-1.004 1.515-.057.109-.117.214-.181.315l.437.245c.64.357 1.194.666 1.724 1.081.138.108.256.224.365.343H14c0-1.53-.041-2.5-.875-3.153z\"\n  }));\n}\nvar type_person_default = SvgTypePerson;\n\n// src/icons/type-person-2.tsx\n\nfunction SvgTypePerson2(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M13.125 10.035c-.571-.55-2.324-1.504-3.5-2.16v-.834c.224-.322.42-.671.566-1.055.394-.242.746-.702.746-1.173 0-.458-.005-.87-.47-1.208C10.305 1.558 9.436 0 7 0S3.695 1.558 3.533 3.605c-.465.338-.47.75-.47 1.208 0 .471.352.93.746 1.173.146.384.342.733.566 1.055v.834c-1.176.656-2.929 1.61-3.5 2.16C.165 10.72 0 11.812 0 14h14c0-2.188-.164-3.281-.875-3.965z\"\n  }));\n}\nvar type_person_2_default = SvgTypePerson2;\n\n// src/icons/type-phone-number.tsx\n\nfunction SvgTypePhoneNumber(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M2.207.013a.487.487 0 00-.29.02C.87.438.213 1.93.058 2.955c-.484 3.33 2.15 6.215 4.57 8.113 2.149 1.684 6.273 4.453 8.713 1.781.31-.329.678-.813.658-1.297-.058-.813-.813-1.394-1.394-1.84-.445-.329-1.375-1.239-1.956-1.22-.522.02-.851.562-1.18.891l-.582.581c-.096.097-1.336-.716-1.471-.813a9.881 9.881 0 01-1.414-1.104A9.13 9.13 0 014.86 6.732c-.097-.136-.89-1.317-.813-1.414 0 0 .677-.736.871-1.026.407-.62.717-1.104.252-1.84-.174-.27-.387-.484-.62-.716-.406-.387-.813-.794-1.278-1.123-.251-.194-.677-.542-1.065-.6z\"\n  }));\n}\nvar type_phone_number_default = SvgTypePhoneNumber;\n\n// src/icons/type-relation.tsx\n\nfunction SvgTypeRelation(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M4.5 1v2h5.086L1 11.586 2.414 13 11 4.414V9.5h2V1z\"\n  }));\n}\nvar type_relation_default = SvgTypeRelation;\n\n// src/icons/type-select.tsx\n\nfunction SvgTypeSelect(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7 13A6 6 0 107 1a6 6 0 000 12zM3.751 5.323A.2.2 0 013.909 5h6.182a.2.2 0 01.158.323L7.158 9.297a.2.2 0 01-.316 0L3.751 5.323z\"\n  }));\n}\nvar type_select_default = SvgTypeSelect;\n\n// src/icons/type-text.tsx\n\nfunction SvgTypeText(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7 4.568a.5.5 0 00-.5-.5h-6a.5.5 0 00-.5.5v1.046a.5.5 0 00.5.5h6a.5.5 0 00.5-.5V4.568zM.5 1a.5.5 0 00-.5.5v1.045a.5.5 0 00.5.5h12a.5.5 0 00.5-.5V1.5a.5.5 0 00-.5-.5H.5zM0 8.682a.5.5 0 00.5.5h11a.5.5 0 00.5-.5V7.636a.5.5 0 00-.5-.5H.5a.5.5 0 00-.5.5v1.046zm0 3.068a.5.5 0 00.5.5h9a.5.5 0 00.5-.5v-1.045a.5.5 0 00-.5-.5h-9a.5.5 0 00-.5.5v1.045z\"\n  }));\n}\nvar type_text_default = SvgTypeText;\n\n// src/icons/type-timestamp.tsx\n\nfunction SvgTypeTimestamp(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M6.986 14c-1.79 0-3.582-.69-4.944-2.068-2.723-2.72-2.723-7.172 0-9.892 2.725-2.72 7.182-2.72 9.906 0A6.972 6.972 0 0114 6.996c0 1.88-.728 3.633-2.052 4.955A7.058 7.058 0 016.986 14zm3.285-6.99v1.645H5.526v-5.47h1.841v3.63h2.904v.194zm1.89-.014c0-1.379-.542-2.67-1.522-3.648-2.006-2.005-5.287-2.007-7.297-.009l-.009.009a5.168 5.168 0 000 7.295c2.01 2.007 5.297 2.007 7.306 0a5.119 5.119 0 001.521-3.647z\"\n  }));\n}\nvar type_timestamp_default = SvgTypeTimestamp;\n\n// src/icons/type-title.tsx\n\nfunction SvgTypeTitle(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M7.74 8.697a.81.81 0 01.073.308.894.894 0 01-.9.888.867.867 0 01-.825-.592l-.333-.961H2.058l-.333.961a.882.882 0 01-.838.592A.884.884 0 010 9.005c0-.11.025-.222.062-.308l2.403-6.211c.222-.58.776-.986 1.442-.986.653 0 1.22.407 1.442.986l2.39 6.211zM2.6 6.824h2.613L3.907 3.102 2.6 6.824zm8.8-3.118c1.355 0 2.6.542 2.6 2.255V9.08a.8.8 0 01-.789.814.797.797 0 01-.788-.703c-.395.468-1.097.764-1.874.764-.949 0-2.07-.64-2.07-1.972 0-1.392 1.121-1.897 2.07-1.897.789 0 1.491.246 1.886.727v-.826c0-.604-.518-.998-1.306-.998-.469 0-.888.123-1.32.394a.64.64 0 01-.307.086.602.602 0 01-.592-.604c0-.221.123-.419.284-.517a3.963 3.963 0 012.206-.641zm-.222 5.188c.505 0 .998-.172 1.257-.517v-.74c-.259-.345-.752-.517-1.257-.517-.616 0-1.122.332-1.122.9 0 .554.506.874 1.122.874zM.656 11.125h12.688a.656.656 0 110 1.313H.656a.656.656 0 110-1.313z\"\n  }));\n}\nvar type_title_default = SvgTypeTitle;\n\n// src/icons/type-url.tsx\n\nfunction SvgTypeUrl(props) {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadValues({\n    viewBox: \"0 0 14 14\"\n  }, props), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M3.733 3.867h3.734c1.03 0 1.866.837 1.866 1.866 0 1.03-.837 1.867-1.866 1.867h-.934a.934.934 0 000 1.867h.934a3.734 3.734 0 000-7.467H3.733A3.73 3.73 0 001.89 8.977a4.637 4.637 0 01.314-2.18 1.854 1.854 0 01-.336-1.064c0-1.03.837-1.866 1.866-1.866zm8.377 1.422a4.6 4.6 0 01-.316 2.176c.212.303.34.67.34 1.068 0 1.03-.838 1.867-1.867 1.867H6.533a1.869 1.869 0 01-1.866-1.867c0-1.03.837-1.866 1.866-1.866h.934a.934.934 0 000-1.867h-.934a3.733 3.733 0 000 7.467h3.734a3.73 3.73 0 001.843-6.978z\"\n  }));\n}\nvar type_url_default = SvgTypeUrl;\n\n// src/icons/property-icon.tsx\nvar iconMap2 = {\n  title: type_title_default,\n  text: type_text_default,\n  number: type_number_default,\n  select: type_select_default,\n  multi_select: type_multi_select_default,\n  date: type_date_default,\n  person: type_person_default,\n  file: type_file_default,\n  checkbox: type_checkbox_default,\n  url: type_url_default,\n  email: type_email_default,\n  phone_number: type_phone_number_default,\n  formula: type_formula_default,\n  relation: type_relation_default,\n  created_time: type_timestamp_default,\n  last_edited_time: type_timestamp_default,\n  created_by: type_person_2_default,\n  last_edited_by: type_person_2_default\n};\nvar PropertyIcon = (_a) => {\n  var _b = _a, {\n    type\n  } = _b, rest = __objRest(_b, [\n    \"type\"\n  ]);\n  const icon = iconMap2[type];\n  if (!icon)\n    return null;\n  return icon(rest);\n};\n\n// src/third-party/collection-column-title.tsx\nvar CollectionColumnTitle = ({ schema }) => {\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-column-title\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PropertyIcon, {\n    className: \"notion-collection-column-title-icon\",\n    type: schema.type\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-column-title-body\"\n  }, schema.name));\n};\n\n// src/third-party/property.tsx\nvar import_format2 = __toESM(require_format(), 1);\nvar import_format_number = __toESM(require_format_number(), 1);\n\n\n// src/third-party/eval-formula.ts\nvar import_add = __toESM(require_add(), 1);\nvar import_format = __toESM(require_format(), 1);\nvar import_getDate = __toESM(require_getDate(), 1);\nvar import_getDay = __toESM(require_getDay(), 1);\nvar import_getHours = __toESM(require_getHours(), 1);\nvar import_getMinutes = __toESM(require_getMinutes(), 1);\nvar import_getMonth = __toESM(require_getMonth(), 1);\nvar import_getYear = __toESM(require_getYear(), 1);\nvar import_intervalToDuration = __toESM(require_intervalToDuration(), 1);\nvar import_sub = __toESM(require_sub(), 1);\n\nfunction evalFormula(formula, context) {\n  const _a = context, { endDate } = _a, ctx2 = __objRest(_a, [\"endDate\"]);\n  switch (formula == null ? void 0 : formula.type) {\n    case \"symbol\":\n      return formula.name === \"true\";\n    case \"constant\": {\n      const value = formula.value;\n      switch (formula.result_type) {\n        case \"text\":\n          return value;\n        case \"number\":\n          return parseFloat(value);\n        default:\n          return value;\n      }\n    }\n    case \"property\": {\n      const value = ctx2.properties[formula.id];\n      const text = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getTextContent)(value);\n      switch (formula.result_type) {\n        case \"text\":\n          return text;\n        case \"number\":\n          return parseFloat(text);\n        case \"boolean\":\n          if (typeof text === \"string\") {\n            return text === \"true\";\n          } else {\n            return !!text;\n          }\n        case \"date\": {\n          const v = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getDateValue)(value);\n          if (v) {\n            if (endDate && v.end_date) {\n              const date = new Date(v.end_date);\n              return new Date(\n                date.getUTCFullYear(),\n                date.getUTCMonth(),\n                date.getUTCDate()\n              );\n            } else {\n              const date = new Date(v.start_date);\n              return new Date(\n                date.getUTCFullYear(),\n                date.getUTCMonth(),\n                date.getUTCDate()\n              );\n            }\n          } else {\n            return new Date(text);\n          }\n        }\n        default:\n          return text;\n      }\n    }\n    case \"operator\":\n    case \"function\":\n      return evalFunctionFormula(formula, ctx2);\n    default:\n      throw new Error(\n        `invalid or unsupported formula \"${formula == null ? void 0 : formula.type}`\n      );\n  }\n}\nfunction evalFunctionFormula(formula, ctx2) {\n  const args = formula == null ? void 0 : formula.args;\n  switch (formula.name) {\n    case \"and\":\n      return evalFormula(args[0], ctx2) && evalFormula(args[1], ctx2);\n    case \"empty\":\n      return !evalFormula(args[0], ctx2);\n    case \"equal\":\n      return evalFormula(args[0], ctx2) == evalFormula(args[1], ctx2);\n    case \"if\":\n      return evalFormula(args[0], ctx2) ? evalFormula(args[1], ctx2) : evalFormula(args[2], ctx2);\n    case \"larger\":\n      return evalFormula(args[0], ctx2) > evalFormula(args[1], ctx2);\n    case \"largerEq\":\n      return evalFormula(args[0], ctx2) >= evalFormula(args[1], ctx2);\n    case \"not\":\n      return !evalFormula(args[0], ctx2);\n    case \"or\":\n      return evalFormula(args[0], ctx2) || evalFormula(args[1], ctx2);\n    case \"smaller\":\n      return evalFormula(args[0], ctx2) < evalFormula(args[1], ctx2);\n    case \"smallerEq\":\n      return evalFormula(args[0], ctx2) <= evalFormula(args[1], ctx2);\n    case \"unequal\":\n      return evalFormula(args[0], ctx2) != evalFormula(args[1], ctx2);\n    case \"abs\":\n      return Math.abs(evalFormula(args[0], ctx2));\n    case \"add\": {\n      const v0 = evalFormula(args[0], ctx2);\n      const v1 = evalFormula(args[1], ctx2);\n      if (typeof v0 === \"number\") {\n        return v0 + +v1;\n      } else if (typeof v0 === \"string\") {\n        return v0 + `${v1}`;\n      } else {\n        return v0;\n      }\n    }\n    case \"cbrt\":\n      return Math.cbrt(evalFormula(args[0], ctx2));\n    case \"ceil\":\n      return Math.ceil(evalFormula(args[0], ctx2));\n    case \"divide\":\n      return evalFormula(args[0], ctx2) / evalFormula(args[1], ctx2);\n    case \"exp\":\n      return Math.exp(evalFormula(args[0], ctx2));\n    case \"floor\":\n      return Math.floor(evalFormula(args[0], ctx2));\n    case \"ln\":\n      return Math.log(evalFormula(args[0], ctx2));\n    case \"log10\":\n      return Math.log10(evalFormula(args[0], ctx2));\n    case \"log2\":\n      return Math.log2(evalFormula(args[0], ctx2));\n    case \"max\": {\n      const values = args.map((arg) => evalFormula(arg, ctx2));\n      return values.reduce(\n        (acc, value) => Math.max(acc, value),\n        Number.NEGATIVE_INFINITY\n      );\n    }\n    case \"min\": {\n      const values = args.map((arg) => evalFormula(arg, ctx2));\n      return values.reduce(\n        (acc, value) => Math.min(acc, value),\n        Number.POSITIVE_INFINITY\n      );\n    }\n    case \"mod\":\n      return evalFormula(args[0], ctx2) % evalFormula(args[1], ctx2);\n    case \"multiply\":\n      return evalFormula(args[0], ctx2) * evalFormula(args[1], ctx2);\n    case \"pow\":\n      return Math.pow(\n        evalFormula(args[0], ctx2),\n        evalFormula(args[1], ctx2)\n      );\n    case \"round\":\n      return Math.round(evalFormula(args[0], ctx2));\n    case \"sign\":\n      return Math.sign(evalFormula(args[0], ctx2));\n    case \"sqrt\":\n      return Math.sqrt(evalFormula(args[0], ctx2));\n    case \"subtract\":\n      return evalFormula(args[0], ctx2) - evalFormula(args[1], ctx2);\n    case \"toNumber\":\n      return parseFloat(evalFormula(args[0], ctx2));\n    case \"unaryMinus\":\n      return evalFormula(args[0], ctx2) * -1;\n    case \"unaryPlus\":\n      return parseFloat(evalFormula(args[0], ctx2));\n    case \"concat\": {\n      const values = args.map((arg) => evalFormula(arg, ctx2));\n      return values.join(\"\");\n    }\n    case \"contains\":\n      return evalFormula(args[0], ctx2).includes(\n        evalFormula(args[1], ctx2)\n      );\n    case \"format\": {\n      const value = evalFormula(args[0], ctx2);\n      switch (typeof value) {\n        case \"string\":\n          return value;\n        case \"object\":\n          if (value instanceof Date) {\n            return (0, import_format.default)(value, \"MMM d, YYY\");\n          } else {\n            return `${value}`;\n          }\n        case \"number\":\n        default:\n          return `${value}`;\n      }\n    }\n    case \"join\": {\n      const [delimiterArg, ...restArgs] = args;\n      const delimiter = evalFormula(delimiterArg, ctx2);\n      const values = restArgs.map((arg) => evalFormula(arg, ctx2));\n      return values.join(delimiter);\n    }\n    case \"length\":\n      return evalFormula(args[0], ctx2).length;\n    case \"replace\": {\n      const value = evalFormula(args[0], ctx2);\n      const regex = evalFormula(args[1], ctx2);\n      const replacement = evalFormula(args[2], ctx2);\n      return value.replace(new RegExp(regex), replacement);\n    }\n    case \"replaceAll\": {\n      const value = evalFormula(args[0], ctx2);\n      const regex = evalFormula(args[1], ctx2);\n      const replacement = evalFormula(args[2], ctx2);\n      return value.replace(new RegExp(regex, \"g\"), replacement);\n    }\n    case \"slice\": {\n      const value = evalFormula(args[0], ctx2);\n      const beginIndex = evalFormula(args[1], ctx2);\n      const endIndex = args[2] ? evalFormula(args[2], ctx2) : value.length;\n      return value.slice(beginIndex, endIndex);\n    }\n    case \"test\": {\n      const value = evalFormula(args[0], ctx2);\n      const regex = evalFormula(args[1], ctx2);\n      return new RegExp(regex).test(value);\n    }\n    case \"date\":\n      return (0, import_getDate.default)(evalFormula(args[0], ctx2));\n    case \"dateAdd\": {\n      const date = evalFormula(args[0], ctx2);\n      const number = evalFormula(args[1], ctx2);\n      const unit = evalFormula(args[1], ctx2);\n      return (0, import_add.default)(date, { [unit]: number });\n    }\n    case \"dateBetween\": {\n      const date1 = evalFormula(args[0], ctx2);\n      const date2 = evalFormula(args[1], ctx2);\n      const unit = evalFormula(args[1], ctx2);\n      return (0, import_intervalToDuration.default)({\n        start: date2,\n        end: date1\n      })[unit];\n    }\n    case \"dateSubtract\": {\n      const date = evalFormula(args[0], ctx2);\n      const number = evalFormula(args[1], ctx2);\n      const unit = evalFormula(args[1], ctx2);\n      return (0, import_sub.default)(date, { [unit]: number });\n    }\n    case \"day\":\n      return (0, import_getDay.default)(evalFormula(args[0], ctx2));\n    case \"end\":\n      return evalFormula(args[0], __spreadProps(__spreadValues({}, ctx2), { endDate: true }));\n    case \"formatDate\": {\n      const date = evalFormula(args[0], ctx2);\n      const formatValue = evalFormula(args[1], ctx2).replace(\n        \"dddd\",\n        \"eeee\"\n      );\n      return (0, import_format.default)(date, formatValue);\n    }\n    case \"fromTimestamp\":\n      return new Date(evalFormula(args[0], ctx2));\n    case \"hour\":\n      return (0, import_getHours.default)(evalFormula(args[0], ctx2));\n    case \"minute\":\n      return (0, import_getMinutes.default)(evalFormula(args[0], ctx2));\n    case \"month\":\n      return (0, import_getMonth.default)(evalFormula(args[0], ctx2));\n    case \"now\":\n      return new Date();\n    case \"start\":\n      return evalFormula(args[0], __spreadProps(__spreadValues({}, ctx2), { endDate: false }));\n    case \"timestamp\":\n      return evalFormula(args[0], ctx2).getTime();\n    case \"year\":\n      return (0, import_getYear.default)(evalFormula(args[0], ctx2));\n    default:\n      throw new Error(\n        `invalid or unsupported function formula \"${formula == null ? void 0 : formula.type}`\n      );\n  }\n}\n\n// src/third-party/property.tsx\nvar Property = (props) => {\n  const { components } = useNotionContext();\n  if (components.Property) {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Property, __spreadValues({}, props));\n  } else {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PropertyImplMemo, __spreadValues({}, props));\n  }\n};\nvar PropertyImpl = (props) => {\n  const { components, mapImageUrl, mapPageUrl } = useNotionContext();\n  const {\n    schema,\n    data,\n    block,\n    collection,\n    inline = false,\n    linkToTitlePage = true\n  } = props;\n  const renderTextValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function TextProperty() {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: data,\n        block\n      });\n    },\n    [block, data]\n  );\n  const renderDateValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function DateProperty() {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: data,\n        block\n      });\n    },\n    [block, data]\n  );\n  const renderRelationValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function RelationProperty() {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: data,\n        block\n      });\n    },\n    [block, data]\n  );\n  const renderFormulaValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function FormulaProperty() {\n      let content2;\n      try {\n        content2 = evalFormula(schema.formula, {\n          schema: collection == null ? void 0 : collection.schema,\n          properties: block == null ? void 0 : block.properties\n        });\n        if (isNaN(content2)) {\n        }\n        if (content2 instanceof Date) {\n          content2 = (0, import_format2.default)(content2, \"MMM d, YYY hh:mm aa\");\n        }\n      } catch (err) {\n        content2 = null;\n      }\n      return content2;\n    },\n    [block == null ? void 0 : block.properties, collection == null ? void 0 : collection.schema, schema]\n  );\n  const renderTitleValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function FormulaTitle() {\n      if (block && linkToTitlePage) {\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n          className: cs(\"notion-page-link\"),\n          href: mapPageUrl(block.id)\n        }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageTitle, {\n          block\n        }));\n      } else {\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n          value: data,\n          block\n        });\n      }\n    },\n    [block, components, data, linkToTitlePage, mapPageUrl]\n  );\n  const renderPersonValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function PersonProperty() {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: data,\n        block\n      });\n    },\n    [block, data]\n  );\n  const renderFileValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function FileProperty() {\n      const files = data.filter((v) => v.length === 2).map((f) => f.flat().flat());\n      return files.map((file, i) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Link, {\n        key: i,\n        className: \"notion-property-file\",\n        href: mapImageUrl(file[2], block),\n        target: \"_blank\",\n        rel: \"noreferrer noopener\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(GracefulImage, {\n        alt: file[0],\n        src: mapImageUrl(file[2], block),\n        loading: \"lazy\"\n      })));\n    },\n    [block, components, data, mapImageUrl]\n  );\n  const renderCheckboxValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function CheckboxProperty() {\n      const isChecked = data && data[0][0] === \"Yes\";\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"notion-property-checkbox-container\"\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Checkbox, {\n        isChecked,\n        blockId: void 0\n      }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n        className: \"notion-property-checkbox-text\"\n      }, schema.name));\n    },\n    [data, schema]\n  );\n  const renderUrlValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function UrlProperty() {\n      const d = JSON.parse(JSON.stringify(data));\n      if (inline) {\n        try {\n          const url = new URL(d[0][0]);\n          d[0][0] = url.hostname.replace(/^www\\./, \"\");\n        } catch (err) {\n        }\n      }\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: d,\n        block,\n        inline,\n        linkProps: {\n          target: \"_blank\",\n          rel: \"noreferrer noopener\"\n        }\n      });\n    },\n    [block, data, inline]\n  );\n  const renderEmailValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function EmailProperty() {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: data,\n        linkProtocol: \"mailto\",\n        block\n      });\n    },\n    [block, data]\n  );\n  const renderPhoneNumberValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function PhoneNumberProperty() {\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n        value: data,\n        linkProtocol: \"tel\",\n        block\n      });\n    },\n    [block, data]\n  );\n  const renderNumberValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function NumberProperty() {\n      const value = parseFloat(data[0][0] || \"0\");\n      let output = \"\";\n      if (isNaN(value)) {\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n          value: data,\n          block\n        });\n      } else {\n        switch (schema.number_format) {\n          case \"number_with_commas\":\n            output = (0, import_format_number.default)()(value);\n            break;\n          case \"percent\":\n            output = (0, import_format_number.default)({ suffix: \"%\" })(value * 100);\n            break;\n          case \"dollar\":\n            output = (0, import_format_number.default)({ prefix: \"$\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"euro\":\n            output = (0, import_format_number.default)({ prefix: \"\\u20AC\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"pound\":\n            output = (0, import_format_number.default)({ prefix: \"\\xA3\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"yen\":\n            output = (0, import_format_number.default)({ prefix: \"\\xA5\", round: 0 })(value);\n            break;\n          case \"rupee\":\n            output = (0, import_format_number.default)({ prefix: \"\\u20B9\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          case \"won\":\n            output = (0, import_format_number.default)({ prefix: \"\\u20A9\", round: 0 })(value);\n            break;\n          case \"yuan\":\n            output = (0, import_format_number.default)({ prefix: \"CN\\xA5\", round: 2, padRight: 2 })(\n              value\n            );\n            break;\n          default:\n            return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n              value: data,\n              block\n            });\n        }\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n          value: [[output]],\n          block\n        });\n      }\n    },\n    [block, data, schema]\n  );\n  const renderCreatedTimeValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function CreatedTimeProperty() {\n      return (0, import_format2.default)(new Date(block == null ? void 0 : block.created_time), \"MMM d, YYY hh:mm aa\");\n    },\n    [block == null ? void 0 : block.created_time]\n  );\n  const renderLastEditedTimeValue = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => function LastEditedTimeProperty() {\n      return (0, import_format2.default)(new Date(block == null ? void 0 : block.last_edited_time), \"MMM d, YYY hh:mm aa\");\n    },\n    [block == null ? void 0 : block.last_edited_time]\n  );\n  if (!schema) {\n    return null;\n  }\n  let content = null;\n  if (data || schema.type === \"checkbox\" || schema.type === \"title\" || schema.type === \"formula\" || schema.type === \"created_by\" || schema.type === \"last_edited_by\" || schema.type === \"created_time\" || schema.type === \"last_edited_time\") {\n    switch (schema.type) {\n      case \"relation\":\n        content = components.propertyRelationValue(props, renderRelationValue);\n        break;\n      case \"formula\":\n        content = components.propertyFormulaValue(props, renderFormulaValue);\n        break;\n      case \"title\":\n        content = components.propertyTitleValue(props, renderTitleValue);\n        break;\n      case \"select\":\n      case \"multi_select\": {\n        const values = (data[0][0] || \"\").split(\",\");\n        content = values.map((value, index) => {\n          var _a;\n          const option = (_a = schema.options) == null ? void 0 : _a.find(\n            (option2) => value === option2.value\n          );\n          const color = option == null ? void 0 : option.color;\n          return components.propertySelectValue(\n            __spreadProps(__spreadValues({}, props), {\n              key: index,\n              value,\n              option,\n              color\n            }),\n            () => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n              key: index,\n              className: cs(\n                `notion-property-${schema.type}-item`,\n                color && `notion-item-${color}`\n              )\n            }, value)\n          );\n        });\n        break;\n      }\n      case \"person\":\n        content = components.propertyPersonValue(props, renderPersonValue);\n        break;\n      case \"file\":\n        content = components.propertyFileValue(props, renderFileValue);\n        break;\n      case \"checkbox\":\n        content = components.propertyCheckboxValue(props, renderCheckboxValue);\n        break;\n      case \"url\":\n        content = components.propertyUrlValue(props, renderUrlValue);\n        break;\n      case \"email\":\n        content = components.propertyEmailValue(props, renderEmailValue);\n        break;\n      case \"phone_number\":\n        content = components.propertyPhoneNumberValue(\n          props,\n          renderPhoneNumberValue\n        );\n        break;\n      case \"number\":\n        content = components.propertyNumberValue(props, renderNumberValue);\n        break;\n      case \"created_time\":\n        content = components.propertyCreatedTimeValue(\n          props,\n          renderCreatedTimeValue\n        );\n        break;\n      case \"last_edited_time\":\n        content = components.propertyLastEditedTimeValue(\n          props,\n          renderLastEditedTimeValue\n        );\n        break;\n      case \"created_by\":\n        break;\n      case \"last_edited_by\":\n        break;\n      case \"text\":\n        content = components.propertyTextValue(props, renderTextValue);\n        break;\n      case \"date\":\n        content = components.propertyDateValue(props, renderDateValue);\n        break;\n      default:\n        content = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Text, {\n          value: data,\n          block\n        });\n        break;\n    }\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: `notion-property notion-property-${schema.type}`\n  }, content);\n};\nvar PropertyImplMemo = react__WEBPACK_IMPORTED_MODULE_0__.memo(PropertyImpl);\n\n// src/third-party/collection-row.tsx\nvar CollectionRow = ({ block, pageHeader = false, className }) => {\n  var _a, _b, _c, _d;\n  const { recordMap } = useNotionContext();\n  const collectionId = block.parent_id;\n  const collection = (_a = recordMap.collection[collectionId]) == null ? void 0 : _a.value;\n  const schemas = collection == null ? void 0 : collection.schema;\n  if (!collection || !schemas) {\n    return null;\n  }\n  let propertyIds = Object.keys(schemas).filter((id) => id !== \"title\");\n  if ((_b = collection.format) == null ? void 0 : _b.property_visibility) {\n    propertyIds = propertyIds.filter(\n      (id) => {\n        var _a2;\n        return ((_a2 = collection.format.property_visibility.find(\n          ({ property }) => property === id\n        )) == null ? void 0 : _a2.visibility) !== \"hide\";\n      }\n    );\n  }\n  if ((_c = collection.format) == null ? void 0 : _c.collection_page_properties) {\n    const idToIndex = (_d = collection.format) == null ? void 0 : _d.collection_page_properties.reduce(\n      (acc, p, i) => __spreadProps(__spreadValues({}, acc), {\n        [p.property]: i\n      }),\n      {}\n    );\n    propertyIds.sort((a, b) => idToIndex[a] - idToIndex[b]);\n  } else {\n    propertyIds.sort((a, b) => schemas[a].name.localeCompare(schemas[b].name));\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\"notion-collection-row\", className)\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-row-body\"\n  }, propertyIds.map((propertyId) => {\n    var _a2;\n    const schema = schemas[propertyId];\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-collection-row-property\",\n      key: propertyId\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionColumnTitle, {\n      schema\n    }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-collection-row-value\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema,\n      data: (_a2 = block.properties) == null ? void 0 : _a2[propertyId],\n      propertyId,\n      block,\n      collection,\n      pageHeader\n    })));\n  })));\n};\n\n// src/third-party/collection-view.tsx\n\n\n// src/third-party/collection-view-board.tsx\n\n\n// src/icons/empty-icon.tsx\n\nvar EmptyIcon = (props) => {\n  const _a = props, { className } = _a, rest = __objRest(_a, [\"className\"]);\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"svg\", __spreadProps(__spreadValues({\n    className\n  }, rest), {\n    viewBox: \"0 0 14 14\",\n    width: \"14\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"path\", {\n    d: \"M11.0918,0 C11.5383,0 11.9307,0.295898 12.0533,0.725586 L13.9615,7.40332 C13.9871,7.49316 14,7.58594 14,7.67871 L14,13 C14,13.5527 13.5522,14 13,14 L1,14 C0.447754,14 0,13.5527 0,13 L0,7.67871 C0,7.58594 0.0129395,7.49316 0.0384521,7.40332 L1.94666,0.725586 C2.06934,0.295898 2.46167,0 2.9082,0 L11.0918,0 Z M4.27271,1.5 C3.83728,1.5 3.45178,1.78223 3.31982,2.19727 L1.91455,6.61328 C1.70947,7.25879 2.1908,7.91699 2.86755,7.91699 L4.70837,7.91699 C4.70837,8.93652 5.16663,10.168 7,10.168 C8.83337,10.168 9.29163,8.93652 9.29163,7.91699 L11.1478,7.89355 C11.8201,7.88477 12.2927,7.22852 12.0876,6.58887 L10.681,2.19531 C10.5485,1.78125 10.1635,1.5 9.72864,1.5 L4.27271,1.5 Z\"\n  }));\n};\n\n// src/third-party/collection-card.tsx\n\n\nvar CollectionCard = (_a) => {\n  var _b = _a, {\n    collection,\n    block,\n    cover,\n    coverSize,\n    coverAspect,\n    properties,\n    className\n  } = _b, rest = __objRest(_b, [\n    \"collection\",\n    \"block\",\n    \"cover\",\n    \"coverSize\",\n    \"coverAspect\",\n    \"properties\",\n    \"className\"\n  ]);\n  var _a2, _b2, _c, _d, _e, _f, _g, _h, _i, _j, _k, _l, _m, _n;\n  const ctx2 = useNotionContext();\n  const {\n    components,\n    recordMap,\n    mapPageUrl,\n    mapImageUrl,\n    isLinkCollectionToUrlProperty\n  } = ctx2;\n  let coverContent = null;\n  const { page_cover_position = 0.5 } = block.format || {};\n  const coverPosition = (1 - page_cover_position) * 100;\n  if ((cover == null ? void 0 : cover.type) === \"page_content\") {\n    const contentBlockId = (_a2 = block.content) == null ? void 0 : _a2.find((blockId) => {\n      var _a3;\n      const block2 = (_a3 = recordMap.block[blockId]) == null ? void 0 : _a3.value;\n      if ((block2 == null ? void 0 : block2.type) === \"image\") {\n        return true;\n      }\n    });\n    if (contentBlockId) {\n      const contentBlock = (_b2 = recordMap.block[contentBlockId]) == null ? void 0 : _b2.value;\n      const source = (_g = (_e = (_d = (_c = contentBlock.properties) == null ? void 0 : _c.source) == null ? void 0 : _d[0]) == null ? void 0 : _e[0]) != null ? _g : (_f = contentBlock.format) == null ? void 0 : _f.display_source;\n      if (source) {\n        const src = mapImageUrl(source, contentBlock);\n        const caption = (_j = (_i = (_h = contentBlock.properties) == null ? void 0 : _h.caption) == null ? void 0 : _i[0]) == null ? void 0 : _j[0];\n        coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n          src,\n          alt: caption || \"notion image\",\n          style: {\n            objectFit: coverAspect\n          }\n        });\n      }\n    }\n    if (!coverContent) {\n      coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"notion-collection-card-cover-empty\"\n      });\n    }\n  } else if ((cover == null ? void 0 : cover.type) === \"page_cover\") {\n    const { page_cover } = block.format || {};\n    if (page_cover) {\n      const coverPosition2 = (1 - page_cover_position) * 100;\n      coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n        src: mapImageUrl(page_cover, block),\n        alt: (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getTextContent)((_k = block.properties) == null ? void 0 : _k.title),\n        style: {\n          objectFit: coverAspect,\n          objectPosition: `center ${coverPosition2}%`\n        }\n      });\n    }\n  } else if ((cover == null ? void 0 : cover.type) === \"property\") {\n    const { property } = cover;\n    const schema = collection.schema[property];\n    const data = (_l = block.properties) == null ? void 0 : _l[property];\n    if (schema && data) {\n      if (schema.type === \"file\") {\n        const files = data.filter((v) => v.length === 2).map((f) => f.flat().flat());\n        const file = files[0];\n        if (file) {\n          coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n            className: `notion-property-${schema.type}`\n          }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(LazyImage, {\n            alt: file[0],\n            src: mapImageUrl(file[2], block),\n            style: {\n              objectFit: coverAspect,\n              objectPosition: `center ${coverPosition}%`\n            }\n          }));\n        }\n      } else {\n        coverContent = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n          propertyId: property,\n          schema,\n          data\n        });\n      }\n    }\n  }\n  let linkProperties = [];\n  if (isLinkCollectionToUrlProperty) {\n    linkProperties = (_m = properties == null ? void 0 : properties.filter(\n      (p) => p.visible && p.property !== \"title\" && collection.schema[p.property]\n    ).filter((p) => {\n      if (!block.properties)\n        return false;\n      const schema = collection.schema[p.property];\n      return schema.type == \"url\";\n    }).map((p) => {\n      return block.properties[p.property];\n    })) == null ? void 0 : _m.filter((p) => p && p.length > 0 && p[0] != void 0);\n  }\n  let url = null;\n  if (linkProperties && linkProperties.length > 0 && linkProperties[0].length > 0 && linkProperties[0][0].length > 0) {\n    url = linkProperties[0][0][0];\n  }\n  const innerCard = /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, (coverContent || (cover == null ? void 0 : cover.type) !== \"none\") && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-card-cover\"\n  }, coverContent), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-card-body\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-card-property\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n    schema: collection.schema.title,\n    data: (_n = block == null ? void 0 : block.properties) == null ? void 0 : _n.title,\n    block,\n    collection\n  })), properties == null ? void 0 : properties.filter(\n    (p) => p.visible && p.property !== \"title\" && collection.schema[p.property]\n  ).map((p) => {\n    if (!block.properties)\n      return null;\n    const schema = collection.schema[p.property];\n    const data = block.properties[p.property];\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-collection-card-property\",\n      key: p.property\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema,\n      data,\n      block,\n      collection,\n      inline: true\n    }));\n  })));\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextProvider, __spreadProps(__spreadValues({}, ctx2), {\n    components: __spreadProps(__spreadValues({}, ctx2.components), {\n      Link: (props) => {\n        var _a3, _b3, _c2;\n        return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"form\", {\n          action: props.href,\n          target: \"_blank\"\n        }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"input\", {\n          type: \"submit\",\n          value: (_c2 = (_b3 = (_a3 = props == null ? void 0 : props.children) == null ? void 0 : _a3.props) == null ? void 0 : _b3.children) != null ? _c2 : props.href,\n          className: \"nested-form-link notion-link\"\n        }));\n      },\n      PageLink: dummyLink\n    })\n  }), isLinkCollectionToUrlProperty && url ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.Link, __spreadValues({\n    className: cs(\n      \"notion-collection-card\",\n      `notion-collection-card-size-${coverSize}`,\n      className\n    ),\n    href: url\n  }, rest), innerCard) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, __spreadValues({\n    className: cs(\n      \"notion-collection-card\",\n      `notion-collection-card-size-${coverSize}`,\n      className\n    ),\n    href: mapPageUrl(block.id)\n  }, rest), innerCard));\n};\n\n// src/third-party/collection-group.tsx\n\nvar CollectionGroup = (_a) => {\n  var _b = _a, {\n    collectionViewComponent: CollectionViewComponent,\n    collection,\n    collectionGroup,\n    schema,\n    value,\n    hidden,\n    summaryProps,\n    detailsProps\n  } = _b, rest = __objRest(_b, [\n    \"collectionViewComponent\",\n    \"collection\",\n    \"collectionGroup\",\n    \"schema\",\n    \"value\",\n    \"hidden\",\n    \"summaryProps\",\n    \"detailsProps\"\n  ]);\n  if (hidden)\n    return null;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"details\", __spreadValues({\n    open: true,\n    className: \"notion-collection-group\"\n  }, detailsProps), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"summary\", __spreadValues({\n    className: \"notion-collection-group-title\"\n  }, summaryProps), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n    schema,\n    data: [[value]],\n    collection\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-board-th-count\"\n  }, collectionGroup == null ? void 0 : collectionGroup.total))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewComponent, __spreadValues({\n    collection,\n    collectionGroup\n  }, rest)));\n};\n\n// src/third-party/collection-utils.ts\nvar import_format3 = __toESM(require_format(), 1);\nfunction getCollectionGroups(collection, collectionView, collectionData, ...rest) {\n  var _a;\n  const elems = ((_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_groups) || [];\n  return elems == null ? void 0 : elems.map(({ property, hidden, value: { value, type } }) => {\n    var _a2, _b;\n    const isUncategorizedValue = typeof value === \"undefined\";\n    const isDateValue = value == null ? void 0 : value.range;\n    const queryLabel = isUncategorizedValue ? \"uncategorized\" : isDateValue ? ((_a2 = value.range) == null ? void 0 : _a2.start_date) || ((_b = value.range) == null ? void 0 : _b.end_date) : (value == null ? void 0 : value.value) || value;\n    const collectionGroup = collectionData[`results:${type}:${queryLabel}`];\n    let queryValue = !isUncategorizedValue && (isDateValue || (value == null ? void 0 : value.value) || value);\n    let schema = collection.schema[property];\n    if (type === \"checkbox\" && value) {\n      queryValue = \"Yes\";\n    }\n    if (isDateValue) {\n      schema = {\n        type: \"text\",\n        name: \"text\"\n      };\n      queryValue = (0, import_format3.default)(new Date(queryLabel), \"MMM d, YYY hh:mm aa\");\n    }\n    return __spreadValues({\n      collectionGroup,\n      schema,\n      value: queryValue || \"No description\",\n      hidden,\n      collection,\n      collectionView,\n      collectionData,\n      blockIds: collectionGroup == null ? void 0 : collectionGroup.blockIds\n    }, rest);\n  });\n}\n\n// src/third-party/collection-view-board.tsx\nvar CollectionViewBoard = ({\n  collection,\n  collectionView,\n  collectionData,\n  padding\n}) => {\n  var _a;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(\n      collection,\n      collectionView,\n      collectionData,\n      padding\n    );\n    return collectionGroups.map((group, index) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionGroup, __spreadProps(__spreadValues({\n      key: index\n    }, group), {\n      summaryProps: {\n        style: {\n          paddingLeft: padding\n        }\n      },\n      collectionViewComponent: (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Board, __spreadValues({\n        padding\n      }, props))\n    })));\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Board, {\n    padding,\n    collectionView,\n    collection,\n    collectionData\n  });\n};\nfunction Board({ collectionView, collectionData, collection, padding }) {\n  var _a, _b;\n  const { recordMap } = useNotionContext();\n  const {\n    board_cover = { type: \"none\" },\n    board_cover_size = \"medium\",\n    board_cover_aspect = \"cover\"\n  } = (collectionView == null ? void 0 : collectionView.format) || {};\n  const boardGroups = ((_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.board_columns) || ((_b = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _b.board_groups2) || [];\n  const boardStyle = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => ({\n      paddingLeft: padding\n    }),\n    [padding]\n  );\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\n      \"notion-board-view\",\n      `notion-board-view-size-${board_cover_size}`\n    ),\n    style: boardStyle\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board-header-inner\"\n  }, boardGroups.map((p, index) => {\n    var _a2, _b2, _c;\n    if (!((_a2 = collectionData.board_columns) == null ? void 0 : _a2.results)) {\n      return null;\n    }\n    const group = collectionData.board_columns.results[index];\n    const schema = collection.schema[p.property];\n    if (!group || !schema || p.hidden) {\n      return null;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-board-th\",\n      key: index\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-board-th-body\"\n    }, ((_b2 = group.value) == null ? void 0 : _b2.value) ? /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema,\n      data: [[(_c = group.value) == null ? void 0 : _c.value]],\n      collection\n    }) : /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(EmptyIcon, {\n      className: \"notion-board-th-empty\"\n    }), \" No Select\"), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n      className: \"notion-board-th-count\"\n    }, group.total)));\n  }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board-header-placeholder\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-board-body\"\n  }, boardGroups.map((p, index) => {\n    var _a2, _b2, _c, _d, _e;\n    const boardResults = (_a2 = collectionData.board_columns) == null ? void 0 : _a2.results;\n    if (!boardResults)\n      return null;\n    if (!((_b2 = p == null ? void 0 : p.value) == null ? void 0 : _b2.type))\n      return null;\n    const schema = collection.schema[p.property];\n    const group = collectionData[`results:${(_c = p == null ? void 0 : p.value) == null ? void 0 : _c.type}:${((_d = p == null ? void 0 : p.value) == null ? void 0 : _d.value) || \"uncategorized\"}`];\n    if (!group || !schema || p.hidden) {\n      return null;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-board-group\",\n      key: index\n    }, (_e = group.blockIds) == null ? void 0 : _e.map((blockId) => {\n      var _a3, _b3;\n      const block = (_a3 = recordMap.block[blockId]) == null ? void 0 : _a3.value;\n      if (!block)\n        return null;\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionCard, {\n        className: \"notion-board-group-card\",\n        collection,\n        block,\n        cover: board_cover,\n        coverSize: board_cover_size,\n        coverAspect: board_cover_aspect,\n        properties: (_b3 = collectionView.format) == null ? void 0 : _b3.board_properties,\n        key: blockId\n      });\n    }));\n  }))));\n}\n\n// src/third-party/collection-view-gallery.tsx\n\nvar defaultBlockIds = [];\nvar CollectionViewGallery = ({\n  collection,\n  collectionView,\n  collectionData\n}) => {\n  var _a, _b, _c, _d, _e;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(\n      collection,\n      collectionView,\n      collectionData\n    );\n    return collectionGroups.map((group, index) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionGroup, __spreadProps(__spreadValues({\n      key: index\n    }, group), {\n      collectionViewComponent: Gallery\n    })));\n  }\n  const blockIds = ((_e = (_d = (_b = collectionData[\"collection_group_results\"]) == null ? void 0 : _b.blockIds) != null ? _d : (_c = collectionData[\"results:relation:uncategorized\"]) == null ? void 0 : _c.blockIds) != null ? _e : collectionData.blockIds) || defaultBlockIds;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Gallery, {\n    collectionView,\n    collection,\n    blockIds\n  });\n};\nfunction Gallery({ blockIds, collectionView, collection }) {\n  const { recordMap } = useNotionContext();\n  const {\n    gallery_cover = { type: \"none\" },\n    gallery_cover_size = \"medium\",\n    gallery_cover_aspect = \"cover\"\n  } = collectionView.format || {};\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-gallery\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-gallery-view\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\n      \"notion-gallery-grid\",\n      `notion-gallery-grid-size-${gallery_cover_size}`\n    )\n  }, blockIds == null ? void 0 : blockIds.map((blockId) => {\n    var _a, _b;\n    const block = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n    if (!block)\n      return null;\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionCard, {\n      collection,\n      block,\n      cover: gallery_cover,\n      coverSize: gallery_cover_size,\n      coverAspect: gallery_cover_aspect,\n      properties: (_b = collectionView.format) == null ? void 0 : _b.gallery_properties,\n      key: blockId\n    });\n  }))));\n}\n\n// src/third-party/collection-view-list.tsx\n\nvar defaultBlockIds2 = [];\nvar CollectionViewList = ({\n  collection,\n  collectionView,\n  collectionData\n}) => {\n  var _a, _b, _c;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(\n      collection,\n      collectionView,\n      collectionData\n    );\n    return collectionGroups.map((group, key) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionGroup, __spreadProps(__spreadValues({\n      key\n    }, group), {\n      collectionViewComponent: List\n    })));\n  }\n  const blockIds = ((_c = (_b = collectionData[\"collection_group_results\"]) == null ? void 0 : _b.blockIds) != null ? _c : collectionData.blockIds) || defaultBlockIds2;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(List, {\n    blockIds,\n    collection,\n    collectionView\n  });\n};\nfunction List({ blockIds, collection, collectionView }) {\n  const { components, recordMap, mapPageUrl } = useNotionContext();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-list-collection\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-list-view\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-list-body\"\n  }, blockIds == null ? void 0 : blockIds.map((blockId) => {\n    var _a, _b, _c, _d;\n    const block = (_a = recordMap.block[blockId]) == null ? void 0 : _a.value;\n    if (!block)\n      return null;\n    const titleSchema = collection.schema.title;\n    const titleData = (_b = block == null ? void 0 : block.properties) == null ? void 0 : _b.title;\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(components.PageLink, {\n      className: \"notion-list-item notion-page-link\",\n      href: mapPageUrl(block.id),\n      key: blockId\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-list-item-title\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema: titleSchema,\n      data: titleData,\n      block,\n      collection\n    })), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-list-item-body\"\n    }, (_d = (_c = collectionView.format) == null ? void 0 : _c.list_properties) == null ? void 0 : _d.filter((p) => p.visible).map((p) => {\n      var _a2;\n      const schema = collection.schema[p.property];\n      const data = block && ((_a2 = block.properties) == null ? void 0 : _a2[p.property]);\n      if (!schema) {\n        return null;\n      }\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n        className: \"notion-list-item-property\",\n        key: p.property\n      }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n        schema,\n        data,\n        block,\n        collection\n      }));\n    })));\n  }))));\n}\n\n// src/third-party/collection-view-table.tsx\n\nvar defaultBlockIds3 = [];\nvar CollectionViewTable = ({\n  collection,\n  collectionView,\n  collectionData,\n  padding,\n  width\n}) => {\n  var _a, _b, _c;\n  const isGroupedCollection = (_a = collectionView == null ? void 0 : collectionView.format) == null ? void 0 : _a.collection_group_by;\n  if (isGroupedCollection) {\n    const collectionGroups = getCollectionGroups(\n      collection,\n      collectionView,\n      collectionData,\n      padding,\n      width\n    );\n    return collectionGroups.map((group, index) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionGroup, __spreadProps(__spreadValues({\n      key: index\n    }, group), {\n      collectionViewComponent: (props) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Table, __spreadProps(__spreadValues({}, props), {\n        padding,\n        width\n      })),\n      summaryProps: {\n        style: {\n          paddingLeft: padding,\n          paddingRight: padding\n        }\n      }\n    })));\n  }\n  const blockIds = ((_c = (_b = collectionData[\"collection_group_results\"]) == null ? void 0 : _b.blockIds) != null ? _c : collectionData.blockIds) || defaultBlockIds3;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Table, {\n    blockIds,\n    collection,\n    collectionView,\n    padding,\n    width\n  });\n};\nfunction Table({ blockIds = [], collection, collectionView, width, padding }) {\n  var _a;\n  const { recordMap, linkTableTitleProperties } = useNotionContext();\n  const tableStyle = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => ({\n      width,\n      maxWidth: width\n    }),\n    [width]\n  );\n  const tableViewStyle = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => ({\n      paddingLeft: padding,\n      paddingRight: padding\n    }),\n    [padding]\n  );\n  let properties = [];\n  if ((_a = collectionView.format) == null ? void 0 : _a.table_properties) {\n    properties = collectionView.format.table_properties.filter(\n      (p) => p.visible && collection.schema[p.property]\n    );\n  } else {\n    properties = [{ property: \"title\" }].concat(\n      Object.keys(collection.schema).filter((p) => p !== \"title\").map((property) => ({ property }))\n    );\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table\",\n    style: tableStyle\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-view\",\n    style: tableViewStyle\n  }, !!properties.length && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-header-inner\"\n  }, properties.map((p) => {\n    var _a2;\n    const schema = (_a2 = collection.schema) == null ? void 0 : _a2[p.property];\n    const isTitle = p.property === \"title\";\n    const style = {};\n    if (p.width) {\n      style.width = p.width;\n    } else if (isTitle) {\n      style.width = 280;\n    } else {\n      style.width = 200;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-table-th\",\n      key: p.property\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-table-view-header-cell\",\n      style\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-table-view-header-cell-inner\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionColumnTitle, {\n      schema\n    }))));\n  }))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-header-placeholder\"\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-body\"\n  }, blockIds == null ? void 0 : blockIds.map((blockId) => /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-table-row\",\n    key: blockId\n  }, properties.map((p) => {\n    var _a2, _b, _c;\n    const schema = (_a2 = collection.schema) == null ? void 0 : _a2[p.property];\n    const block = (_b = recordMap.block[blockId]) == null ? void 0 : _b.value;\n    const data = (_c = block == null ? void 0 : block.properties) == null ? void 0 : _c[p.property];\n    const isTitle = p.property === \"title\";\n    const style = {};\n    if (p.width) {\n      style.width = p.width;\n    } else if (isTitle) {\n      style.width = 280;\n    } else {\n      style.width = 200;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      key: p.property,\n      className: cs(\n        \"notion-table-cell\",\n        `notion-table-cell-${schema.type}`\n      ),\n      style\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(Property, {\n      schema,\n      data,\n      block,\n      collection,\n      linkToTitlePage: linkTableTitleProperties\n    }));\n  })))))));\n}\n\n// src/third-party/collection-view.tsx\nvar CollectionViewImpl = (props) => {\n  const { collectionView } = props;\n  switch (collectionView.type) {\n    case \"table\":\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewTable, __spreadValues({}, props));\n    case \"gallery\":\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewGallery, __spreadValues({}, props));\n    case \"list\":\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewList, __spreadValues({}, props));\n    case \"board\":\n      return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewBoard, __spreadValues({}, props));\n    default:\n      console.warn(\"unsupported collection view\", collectionView);\n      return null;\n  }\n};\nvar CollectionView = react__WEBPACK_IMPORTED_MODULE_0__.memo(CollectionViewImpl);\n\n// src/third-party/collection.tsx\nvar isServer2 = typeof window === \"undefined\";\nvar Collection = ({ block, className, ctx: ctx2 }) => {\n  const context = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(\n    () => __spreadValues({}, ctx2),\n    [ctx2]\n  );\n  if (block.type === \"page\") {\n    if (block.parent_table !== \"collection\") {\n      return null;\n    }\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextProvider, __spreadValues({}, context), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n      className: \"notion-collection-page-properties\"\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionRow, {\n      block,\n      pageHeader: true,\n      className\n    })));\n  } else {\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(NotionContextProvider, __spreadValues({}, context), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewBlock, {\n      block,\n      className\n    }));\n  }\n};\nvar CollectionViewBlock = ({ block, className }) => {\n  var _a, _b, _c, _d;\n  const { recordMap, showCollectionViewDropdown } = useNotionContext();\n  const { view_ids: viewIds } = block;\n  const collectionId = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockCollectionId)(block, recordMap);\n  const [isMounted, setIsMounted] = react__WEBPACK_IMPORTED_MODULE_0__.useState(false);\n  react__WEBPACK_IMPORTED_MODULE_0__.useEffect(() => {\n    setIsMounted(true);\n  }, []);\n  const defaultCollectionViewId = viewIds[0];\n  const [collectionState, setCollectionState] = (0,react_use__WEBPACK_IMPORTED_MODULE_2__.useLocalStorage)(block.id, {\n    collectionViewId: defaultCollectionViewId\n  });\n  const collectionViewId = isMounted && viewIds.find((id) => id === collectionState.collectionViewId) || defaultCollectionViewId;\n  const onChangeView = react__WEBPACK_IMPORTED_MODULE_0__.useCallback(\n    (collectionViewId2) => {\n      console.log(\"change collection view\", collectionViewId2);\n      setCollectionState(__spreadProps(__spreadValues({}, collectionState), {\n        collectionViewId: collectionViewId2\n      }));\n    },\n    [collectionState, setCollectionState]\n  );\n  let { width: windowWidth } = (0,react_use__WEBPACK_IMPORTED_MODULE_2__.useWindowSize)();\n  if (isServer2) {\n    windowWidth = 1024;\n  }\n  const collection = (_a = recordMap.collection[collectionId]) == null ? void 0 : _a.value;\n  const collectionView = (_b = recordMap.collection_view[collectionViewId]) == null ? void 0 : _b.value;\n  const collectionData = (_c = recordMap.collection_query[collectionId]) == null ? void 0 : _c[collectionViewId];\n  const parentPage = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getBlockParentPage)(block, recordMap);\n  const { width, padding } = react__WEBPACK_IMPORTED_MODULE_0__.useMemo(() => {\n    var _a2;\n    const style = {};\n    if ((collectionView == null ? void 0 : collectionView.type) !== \"table\" && (collectionView == null ? void 0 : collectionView.type) !== \"board\") {\n      return {\n        style,\n        width: 0,\n        padding: 0\n      };\n    }\n    const width2 = windowWidth;\n    const maxNotionBodyWidth = 708;\n    let notionBodyWidth = maxNotionBodyWidth;\n    if ((_a2 = parentPage == null ? void 0 : parentPage.format) == null ? void 0 : _a2.page_full_width) {\n      notionBodyWidth = width2 - 2 * Math.min(96, width2 * 0.08) | 0;\n    } else {\n      notionBodyWidth = width2 < maxNotionBodyWidth ? width2 - width2 * 0.02 | 0 : maxNotionBodyWidth;\n    }\n    const padding2 = isServer2 && !isMounted ? 96 : (width2 - notionBodyWidth) / 2 | 0;\n    style.paddingLeft = padding2;\n    style.paddingRight = padding2;\n    return {\n      style,\n      width: width2,\n      padding: padding2\n    };\n  }, [windowWidth, parentPage, collectionView == null ? void 0 : collectionView.type, isMounted]);\n  if (!(collection && collectionView && collectionData)) {\n    console.warn(\"skipping missing collection view for block\", block.id, {\n      collectionId,\n      collectionViewId,\n      collectionView,\n      collectionData,\n      recordMap\n    });\n    return null;\n  }\n  const title = (0,notion_utils__WEBPACK_IMPORTED_MODULE_1__.getTextContent)(collection.name).trim();\n  const showTitle = ((_d = collectionView.format) == null ? void 0 : _d.hide_linked_collection_name) !== true && title;\n  if (collection.icon) {\n    block.format = __spreadProps(__spreadValues({}, block.format), {\n      page_icon: collection.icon\n    });\n  }\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(react__WEBPACK_IMPORTED_MODULE_0__.Fragment, null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", null, viewIds.length > 1 && showCollectionViewDropdown && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewTabs, {\n    collectionViewId,\n    viewIds,\n    onChangeView\n  })), showTitle && /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-header\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-header-title\"\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(PageIcon, {\n    block,\n    className: \"notion-page-title-icon\",\n    hideDefaultIcon: true\n  }), title))), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: cs(\"notion-collection\", className)\n  }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionView, {\n    collection,\n    collectionView,\n    collectionData,\n    padding,\n    width\n  })));\n};\nvar CollectionViewTabs = ({ collectionViewId, viewIds, onChangeView }) => {\n  const { recordMap } = useNotionContext();\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", {\n    className: \"notion-collection-view-tabs-row\"\n  }, viewIds.map((viewId) => {\n    var _a;\n    return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"button\", {\n      onClick: () => onChangeView(viewId),\n      key: viewId,\n      className: cs(\n        \"notion-collection-view-tabs-content-item\",\n        collectionViewId === viewId && \"notion-collection-view-tabs-content-item-active\"\n      )\n    }, /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewColumnDesc, {\n      collectionView: (_a = recordMap.collection_view[viewId]) == null ? void 0 : _a.value\n    }));\n  }));\n};\nvar CollectionViewColumnDesc = (_a) => {\n  var _b = _a, { collectionView, className, children } = _b, rest = __objRest(_b, [\"collectionView\", \"className\", \"children\"]);\n  const { type } = collectionView;\n  const name = collectionView.name || `${type[0].toUpperCase()}${type.slice(1)} view`;\n  return /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"div\", __spreadValues({\n    className: cs(\"notion-collection-view-type\", className)\n  }, rest), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(CollectionViewIcon, {\n    className: \"notion-collection-view-type-icon\",\n    type\n  }), /* @__PURE__ */ react__WEBPACK_IMPORTED_MODULE_0__.createElement(\"span\", {\n    className: \"notion-collection-view-type-title\"\n  }, name), children);\n};\n\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvYnVpbGQvdGhpcmQtcGFydHkvY29sbGVjdGlvbi5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDhFQUE4RSw2REFBNkQ7QUFDM0k7QUFDQSwrQkFBK0I7QUFDL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxhQUFhO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2QkFBNkIsNEZBQTRGO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLG1HQUFtRztBQUNuRyx5RUFBeUUsOEJBQThCO0FBQ3ZHO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixvQkFBb0I7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxXQUFXO0FBQ1g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFdBQVc7QUFDWDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQSx1Q0FBdUMsTUFBTSwwREFBMEQsTUFBTTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw4SUFBOEk7QUFDOUksUUFBUTtBQUNSLDBJQUEwSTtBQUMxSSxRQUFRO0FBQ1Isb0pBQW9KO0FBQ3BKLFFBQVE7QUFDUixzSkFBc0o7QUFDdEo7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsV0FBVztBQUNYO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsOEJBQThCO0FBQ3hEO0FBQ0E7QUFDQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBLFVBQVU7QUFDVjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsRUFBRTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxxQkFBcUIsRUFBRTtBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFFBQVE7QUFDUjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFRO0FBQ1I7QUFDQSxRQUFRO0FBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw2Q0FBNkM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDZDQUE2QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLENBQUM7O0FBRUQ7QUFDaUM7QUFLWDtBQUNxQzs7QUFFM0Q7QUFDaUM7QUFDNEM7O0FBRTdFO0FBQ2lDOztBQUVqQztBQUNpQztBQUMwQjs7QUFFM0Q7QUFDdUU7O0FBRXZFO0FB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QUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLDBCQUEwQixnREFBcUI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLDBCQUEwQixnREFBcUI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLDBCQUEwQixnREFBcUI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLDBCQUEwQixnREFBcUI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLDBCQUEwQixnREFBcUI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLDBCQUEwQixnREFBcUI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLDBCQUEwQixnREFBcUI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLDBCQUEwQixnREFBcUI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxHQUFHLDBCQUEwQixnREFBcUI7QUFDbEQ7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNpQztBQUNqQztBQUNBLHlCQUF5QixnREFBcUI7QUFDOUM7QUFDQSxH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Q0E7QUFDQTtBQUNBO0FBQ0EsS0FBSyxrQkFBa0IsZ0RBQXFCO0FBQzVDO0FBQ0EsS0FBSztBQUNMLEdBQUc7QUFDSDtBQUNBO0FBQ0EsaUJBQWlCLHNDQUFzQztBQUN2RCxVQUFVLE9BQU87QUFDakIseUNBQXlDLHNCQUFzQixFQUFFLGVBQWU7QUFDaEYseUJBQXlCLGdEQUFxQjtBQUM5QztBQUNBLEdBQUcseUJBQXlCLGdEQUFxQjtBQUNqRDtBQUNBO0FBQ0EsR0FBRyxtQkFBbUIsZ0RBQXFCO0FBQzNDO0FBQ0EsR0FBRztBQUNIO0FBSUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9ub3Rpb24teC1leGFtcGxlLWZ1bGwvLi9ub2RlX21vZHVsZXMvcmVhY3Qtbm90aW9uLXgvYnVpbGQvdGhpcmQtcGFydHkvY29sbGVjdGlvbi5qcz9lNjA2Il0sInNvdXJjZXNDb250ZW50IjpbInZhciBfX2NyZWF0ZSA9IE9iamVjdC5jcmVhdGU7XG52YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5O1xudmFyIF9fZGVmUHJvcHMgPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcztcbnZhciBfX2dldE93blByb3BEZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjtcbnZhciBfX2dldE93blByb3BEZXNjcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzO1xudmFyIF9fZ2V0T3duUHJvcE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXM7XG52YXIgX19nZXRPd25Qcm9wU3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM7XG52YXIgX19nZXRQcm90b09mID0gT2JqZWN0LmdldFByb3RvdHlwZU9mO1xudmFyIF9faGFzT3duUHJvcCA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XG52YXIgX19wcm9wSXNFbnVtID0gT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZTtcbnZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTtcbnZhciBfX3NwcmVhZFZhbHVlcyA9IChhLCBiKSA9PiB7XG4gIGZvciAodmFyIHByb3AgaW4gYiB8fCAoYiA9IHt9KSlcbiAgICBpZiAoX19oYXNPd25Qcm9wLmNhbGwoYiwgcHJvcCkpXG4gICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gIGlmIChfX2dldE93blByb3BTeW1ib2xzKVxuICAgIGZvciAodmFyIHByb3Agb2YgX19nZXRPd25Qcm9wU3ltYm9scyhiKSkge1xuICAgICAgaWYgKF9fcHJvcElzRW51bS5jYWxsKGIsIHByb3ApKVxuICAgICAgICBfX2RlZk5vcm1hbFByb3AoYSwgcHJvcCwgYltwcm9wXSk7XG4gICAgfVxuICByZXR1cm4gYTtcbn07XG52YXIgX19zcHJlYWRQcm9wcyA9IChhLCBiKSA9PiBfX2RlZlByb3BzKGEsIF9fZ2V0T3duUHJvcERlc2NzKGIpKTtcbnZhciBfX29ialJlc3QgPSAoc291cmNlLCBleGNsdWRlKSA9PiB7XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpXG4gICAgaWYgKF9faGFzT3duUHJvcC5jYWxsKHNvdXJjZSwgcHJvcCkgJiYgZXhjbHVkZS5pbmRleE9mKHByb3ApIDwgMClcbiAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgaWYgKHNvdXJjZSAhPSBudWxsICYmIF9fZ2V0T3duUHJvcFN5bWJvbHMpXG4gICAgZm9yICh2YXIgcHJvcCBvZiBfX2dldE93blByb3BTeW1ib2xzKHNvdXJjZSkpIHtcbiAgICAgIGlmIChleGNsdWRlLmluZGV4T2YocHJvcCkgPCAwICYmIF9fcHJvcElzRW51bS5jYWxsKHNvdXJjZSwgcHJvcCkpXG4gICAgICAgIHRhcmdldFtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICB9XG4gIHJldHVybiB0YXJnZXQ7XG59O1xudmFyIF9fY29tbW9uSlMgPSAoY2IsIG1vZCkgPT4gZnVuY3Rpb24gX19yZXF1aXJlKCkge1xuICByZXR1cm4gbW9kIHx8ICgwLCBjYltfX2dldE93blByb3BOYW1lcyhjYilbMF1dKSgobW9kID0geyBleHBvcnRzOiB7fSB9KS5leHBvcnRzLCBtb2QpLCBtb2QuZXhwb3J0cztcbn07XG52YXIgX19jb3B5UHJvcHMgPSAodG8sIGZyb20sIGV4Y2VwdCwgZGVzYykgPT4ge1xuICBpZiAoZnJvbSAmJiB0eXBlb2YgZnJvbSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgZnJvbSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZm9yIChsZXQga2V5IG9mIF9fZ2V0T3duUHJvcE5hbWVzKGZyb20pKVxuICAgICAgaWYgKCFfX2hhc093blByb3AuY2FsbCh0bywga2V5KSAmJiBrZXkgIT09IGV4Y2VwdClcbiAgICAgICAgX19kZWZQcm9wKHRvLCBrZXksIHsgZ2V0OiAoKSA9PiBmcm9tW2tleV0sIGVudW1lcmFibGU6ICEoZGVzYyA9IF9fZ2V0T3duUHJvcERlc2MoZnJvbSwga2V5KSkgfHwgZGVzYy5lbnVtZXJhYmxlIH0pO1xuICB9XG4gIHJldHVybiB0bztcbn07XG52YXIgX190b0VTTSA9IChtb2QsIGlzTm9kZU1vZGUsIHRhcmdldCkgPT4gKHRhcmdldCA9IG1vZCAhPSBudWxsID8gX19jcmVhdGUoX19nZXRQcm90b09mKG1vZCkpIDoge30sIF9fY29weVByb3BzKFxuICBpc05vZGVNb2RlIHx8ICFtb2QgfHwgIW1vZC5fX2VzTW9kdWxlID8gX19kZWZQcm9wKHRhcmdldCwgXCJkZWZhdWx0XCIsIHsgdmFsdWU6IG1vZCwgZW51bWVyYWJsZTogdHJ1ZSB9KSA6IHRhcmdldCxcbiAgbW9kXG4pKTtcbnZhciBfX2FzeW5jID0gKF9fdGhpcywgX19hcmd1bWVudHMsIGdlbmVyYXRvcikgPT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIHZhciBmdWxmaWxsZWQgPSAodmFsdWUpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHN0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH07XG4gICAgdmFyIHJlamVjdGVkID0gKHZhbHVlKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgc3RlcCA9ICh4KSA9PiB4LmRvbmUgPyByZXNvbHZlKHgudmFsdWUpIDogUHJvbWlzZS5yZXNvbHZlKHgudmFsdWUpLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7XG4gICAgc3RlcCgoZ2VuZXJhdG9yID0gZ2VuZXJhdG9yLmFwcGx5KF9fdGhpcywgX19hcmd1bWVudHMpKS5uZXh0KCkpO1xuICB9KTtcbn07XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gudGhyb3R0bGUvaW5kZXguanNcbnZhciByZXF1aXJlX2xvZGFzaCA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9sb2Rhc2gudGhyb3R0bGUvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICB2YXIgRlVOQ19FUlJPUl9URVhUID0gXCJFeHBlY3RlZCBhIGZ1bmN0aW9uXCI7XG4gICAgdmFyIE5BTiA9IDAgLyAwO1xuICAgIHZhciBzeW1ib2xUYWcgPSBcIltvYmplY3QgU3ltYm9sXVwiO1xuICAgIHZhciByZVRyaW0gPSAvXlxccyt8XFxzKyQvZztcbiAgICB2YXIgcmVJc0JhZEhleCA9IC9eWy0rXTB4WzAtOWEtZl0rJC9pO1xuICAgIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuICAgIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuICAgIHZhciBmcmVlUGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICB2YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gXCJvYmplY3RcIiAmJiBnbG9iYWwgJiYgZ2xvYmFsLk9iamVjdCA9PT0gT2JqZWN0ICYmIGdsb2JhbDtcbiAgICB2YXIgZnJlZVNlbGYgPSB0eXBlb2Ygc2VsZiA9PSBcIm9iamVjdFwiICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuICAgIHZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG4gICAgdmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcbiAgICB2YXIgb2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcbiAgICB2YXIgbmF0aXZlTWF4ID0gTWF0aC5tYXg7XG4gICAgdmFyIG5hdGl2ZU1pbiA9IE1hdGgubWluO1xuICAgIHZhciBub3cgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiByb290LkRhdGUubm93KCk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsIGxhc3RUaGlzLCBtYXhXYWl0LCByZXN1bHQsIHRpbWVySWQsIGxhc3RDYWxsVGltZSwgbGFzdEludm9rZVRpbWUgPSAwLCBsZWFkaW5nID0gZmFsc2UsIG1heGluZyA9IGZhbHNlLCB0cmFpbGluZyA9IHRydWU7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gXCJtYXhXYWl0XCIgaW4gb3B0aW9ucztcbiAgICAgICAgbWF4V2FpdCA9IG1heGluZyA/IG5hdGl2ZU1heCh0b051bWJlcihvcHRpb25zLm1heFdhaXQpIHx8IDAsIHdhaXQpIDogbWF4V2FpdDtcbiAgICAgICAgdHJhaWxpbmcgPSBcInRyYWlsaW5nXCIgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gaW52b2tlRnVuYyh0aW1lKSB7XG4gICAgICAgIHZhciBhcmdzID0gbGFzdEFyZ3MsIHRoaXNBcmcgPSBsYXN0VGhpcztcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHZvaWQgMDtcbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSB0aW1lO1xuICAgICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXNBcmcsIGFyZ3MpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIHJldHVybiBsZWFkaW5nID8gaW52b2tlRnVuYyh0aW1lKSA6IHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLCB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lLCByZXN1bHQyID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuICAgICAgICByZXR1cm4gbWF4aW5nID8gbmF0aXZlTWluKHJlc3VsdDIsIG1heFdhaXQgLSB0aW1lU2luY2VMYXN0SW52b2tlKSA6IHJlc3VsdDI7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBzaG91bGRJbnZva2UodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLCB0aW1lU2luY2VMYXN0SW52b2tlID0gdGltZSAtIGxhc3RJbnZva2VUaW1lO1xuICAgICAgICByZXR1cm4gbGFzdENhbGxUaW1lID09PSB2b2lkIDAgfHwgdGltZVNpbmNlTGFzdENhbGwgPj0gd2FpdCB8fCB0aW1lU2luY2VMYXN0Q2FsbCA8IDAgfHwgbWF4aW5nICYmIHRpbWVTaW5jZUxhc3RJbnZva2UgPj0gbWF4V2FpdDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCByZW1haW5pbmdXYWl0KHRpbWUpKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB2b2lkIDA7XG4gICAgICAgIGlmICh0cmFpbGluZyAmJiBsYXN0QXJncykge1xuICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKHRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB2b2lkIDA7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgIGlmICh0aW1lcklkICE9PSB2b2lkIDApIHtcbiAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwO1xuICAgICAgICBsYXN0QXJncyA9IGxhc3RDYWxsVGltZSA9IGxhc3RUaGlzID0gdGltZXJJZCA9IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdm9pZCAwID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIGRlYm91bmNlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKSwgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcbiAgICAgICAgbGFzdEFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGxhc3RUaGlzID0gdGhpcztcbiAgICAgICAgbGFzdENhbGxUaW1lID0gdGltZTtcbiAgICAgICAgaWYgKGlzSW52b2tpbmcpIHtcbiAgICAgICAgICBpZiAodGltZXJJZCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGVhZGluZ0VkZ2UobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG1heGluZykge1xuICAgICAgICAgICAgdGltZXJJZCA9IHNldFRpbWVvdXQodGltZXJFeHBpcmVkLCB3YWl0KTtcbiAgICAgICAgICAgIHJldHVybiBpbnZva2VGdW5jKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aW1lcklkID09PSB2b2lkIDApIHtcbiAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBkZWJvdW5jZWQuY2FuY2VsID0gY2FuY2VsO1xuICAgICAgZGVib3VuY2VkLmZsdXNoID0gZmx1c2g7XG4gICAgICByZXR1cm4gZGVib3VuY2VkO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvdHRsZTIoZnVuYywgd2FpdCwgb3B0aW9ucykge1xuICAgICAgdmFyIGxlYWRpbmcgPSB0cnVlLCB0cmFpbGluZyA9IHRydWU7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gXCJsZWFkaW5nXCIgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy5sZWFkaW5nIDogbGVhZGluZztcbiAgICAgICAgdHJhaWxpbmcgPSBcInRyYWlsaW5nXCIgaW4gb3B0aW9ucyA/ICEhb3B0aW9ucy50cmFpbGluZyA6IHRyYWlsaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlYm91bmNlKGZ1bmMsIHdhaXQsIHtcbiAgICAgICAgXCJsZWFkaW5nXCI6IGxlYWRpbmcsXG4gICAgICAgIFwibWF4V2FpdFwiOiB3YWl0LFxuICAgICAgICBcInRyYWlsaW5nXCI6IHRyYWlsaW5nXG4gICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICEhdmFsdWUgJiYgKHR5cGUgPT0gXCJvYmplY3RcIiB8fCB0eXBlID09IFwiZnVuY3Rpb25cIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzT2JqZWN0TGlrZSh2YWx1ZSkge1xuICAgICAgcmV0dXJuICEhdmFsdWUgJiYgdHlwZW9mIHZhbHVlID09IFwib2JqZWN0XCI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09IFwic3ltYm9sXCIgfHwgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBvYmplY3RUb1N0cmluZy5jYWxsKHZhbHVlKSA9PSBzeW1ib2xUYWc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU3ltYm9sKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gTkFOO1xuICAgICAgfVxuICAgICAgaWYgKGlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICB2YXIgb3RoZXIgPSB0eXBlb2YgdmFsdWUudmFsdWVPZiA9PSBcImZ1bmN0aW9uXCIgPyB2YWx1ZS52YWx1ZU9mKCkgOiB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBpc09iamVjdChvdGhlcikgPyBvdGhlciArIFwiXCIgOiBvdGhlcjtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gdmFsdWUucmVwbGFjZShyZVRyaW0sIFwiXCIpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiBpc0JpbmFyeSB8fCByZUlzT2N0YWwudGVzdCh2YWx1ZSkgPyBmcmVlUGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIGlzQmluYXJ5ID8gMiA6IDgpIDogcmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSB0aHJvdHRsZTI7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9yZXF1aXJlZEFyZ3MvaW5kZXguanNcbnZhciByZXF1aXJlX3JlcXVpcmVkQXJncyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3JlcXVpcmVkQXJncy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSByZXF1aXJlZEFyZ3M7XG4gICAgZnVuY3Rpb24gcmVxdWlyZWRBcmdzKHJlcXVpcmVkLCBhcmdzKSB7XG4gICAgICBpZiAoYXJncy5sZW5ndGggPCByZXF1aXJlZCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHJlcXVpcmVkICsgXCIgYXJndW1lbnRcIiArIChyZXF1aXJlZCA+IDEgPyBcInNcIiA6IFwiXCIpICsgXCIgcmVxdWlyZWQsIGJ1dCBvbmx5IFwiICsgYXJncy5sZW5ndGggKyBcIiBwcmVzZW50XCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc0RhdGUvaW5kZXguanNcbnZhciByZXF1aXJlX2lzRGF0ZSA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc0RhdGUvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gaXNEYXRlO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNEYXRlKHZhbHVlKSB7XG4gICAgICAoMCwgX2luZGV4LmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICByZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBEYXRlIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwodmFsdWUpID09PSBcIltvYmplY3QgRGF0ZV1cIjtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvdG9EYXRlL2luZGV4LmpzXG52YXIgcmVxdWlyZV90b0RhdGUgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvdG9EYXRlL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHRvRGF0ZTtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRvRGF0ZShhcmd1bWVudCkge1xuICAgICAgKDAsIF9pbmRleC5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGFyZ1N0ciA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChhcmd1bWVudCk7XG4gICAgICBpZiAoYXJndW1lbnQgaW5zdGFuY2VvZiBEYXRlIHx8IHR5cGVvZiBhcmd1bWVudCA9PT0gXCJvYmplY3RcIiAmJiBhcmdTdHIgPT09IFwiW29iamVjdCBEYXRlXVwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudC5nZXRUaW1lKCkpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgYXJndW1lbnQgPT09IFwibnVtYmVyXCIgfHwgYXJnU3RyID09PSBcIltvYmplY3QgTnVtYmVyXVwiKSB7XG4gICAgICAgIHJldHVybiBuZXcgRGF0ZShhcmd1bWVudCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoKHR5cGVvZiBhcmd1bWVudCA9PT0gXCJzdHJpbmdcIiB8fCBhcmdTdHIgPT09IFwiW29iamVjdCBTdHJpbmddXCIpICYmIHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKFwiU3RhcnRpbmcgd2l0aCB2Mi4wLjAtYmV0YS4xIGRhdGUtZm5zIGRvZXNuJ3QgYWNjZXB0IHN0cmluZ3MgYXMgZGF0ZSBhcmd1bWVudHMuIFBsZWFzZSB1c2UgYHBhcnNlSVNPYCB0byBwYXJzZSBzdHJpbmdzLiBTZWU6IGh0dHBzOi8vZ2l0LmlvL2ZqdWxlXCIpO1xuICAgICAgICAgIGNvbnNvbGUud2FybihuZXcgRXJyb3IoKS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgICB9XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzVmFsaWQvaW5kZXguanNcbnZhciByZXF1aXJlX2lzVmFsaWQgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvaXNWYWxpZC9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBpc1ZhbGlkO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfaXNEYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpc1ZhbGlkKGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIGlmICghKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpICYmIHR5cGVvZiBkaXJ0eURhdGUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgcmV0dXJuICFpc05hTihOdW1iZXIoZGF0ZSkpO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXREaXN0YW5jZS9pbmRleC5qc1xudmFyIHJlcXVpcmVfZm9ybWF0RGlzdGFuY2UgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0RGlzdGFuY2UvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuICAgIHZhciBmb3JtYXREaXN0YW5jZUxvY2FsZSA9IHtcbiAgICAgIGxlc3NUaGFuWFNlY29uZHM6IHtcbiAgICAgICAgb25lOiBcImxlc3MgdGhhbiBhIHNlY29uZFwiLFxuICAgICAgICBvdGhlcjogXCJsZXNzIHRoYW4ge3tjb3VudH19IHNlY29uZHNcIlxuICAgICAgfSxcbiAgICAgIHhTZWNvbmRzOiB7XG4gICAgICAgIG9uZTogXCIxIHNlY29uZFwiLFxuICAgICAgICBvdGhlcjogXCJ7e2NvdW50fX0gc2Vjb25kc1wiXG4gICAgICB9LFxuICAgICAgaGFsZkFNaW51dGU6IFwiaGFsZiBhIG1pbnV0ZVwiLFxuICAgICAgbGVzc1RoYW5YTWludXRlczoge1xuICAgICAgICBvbmU6IFwibGVzcyB0aGFuIGEgbWludXRlXCIsXG4gICAgICAgIG90aGVyOiBcImxlc3MgdGhhbiB7e2NvdW50fX0gbWludXRlc1wiXG4gICAgICB9LFxuICAgICAgeE1pbnV0ZXM6IHtcbiAgICAgICAgb25lOiBcIjEgbWludXRlXCIsXG4gICAgICAgIG90aGVyOiBcInt7Y291bnR9fSBtaW51dGVzXCJcbiAgICAgIH0sXG4gICAgICBhYm91dFhIb3Vyczoge1xuICAgICAgICBvbmU6IFwiYWJvdXQgMSBob3VyXCIsXG4gICAgICAgIG90aGVyOiBcImFib3V0IHt7Y291bnR9fSBob3Vyc1wiXG4gICAgICB9LFxuICAgICAgeEhvdXJzOiB7XG4gICAgICAgIG9uZTogXCIxIGhvdXJcIixcbiAgICAgICAgb3RoZXI6IFwie3tjb3VudH19IGhvdXJzXCJcbiAgICAgIH0sXG4gICAgICB4RGF5czoge1xuICAgICAgICBvbmU6IFwiMSBkYXlcIixcbiAgICAgICAgb3RoZXI6IFwie3tjb3VudH19IGRheXNcIlxuICAgICAgfSxcbiAgICAgIGFib3V0WFdlZWtzOiB7XG4gICAgICAgIG9uZTogXCJhYm91dCAxIHdlZWtcIixcbiAgICAgICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IHdlZWtzXCJcbiAgICAgIH0sXG4gICAgICB4V2Vla3M6IHtcbiAgICAgICAgb25lOiBcIjEgd2Vla1wiLFxuICAgICAgICBvdGhlcjogXCJ7e2NvdW50fX0gd2Vla3NcIlxuICAgICAgfSxcbiAgICAgIGFib3V0WE1vbnRoczoge1xuICAgICAgICBvbmU6IFwiYWJvdXQgMSBtb250aFwiLFxuICAgICAgICBvdGhlcjogXCJhYm91dCB7e2NvdW50fX0gbW9udGhzXCJcbiAgICAgIH0sXG4gICAgICB4TW9udGhzOiB7XG4gICAgICAgIG9uZTogXCIxIG1vbnRoXCIsXG4gICAgICAgIG90aGVyOiBcInt7Y291bnR9fSBtb250aHNcIlxuICAgICAgfSxcbiAgICAgIGFib3V0WFllYXJzOiB7XG4gICAgICAgIG9uZTogXCJhYm91dCAxIHllYXJcIixcbiAgICAgICAgb3RoZXI6IFwiYWJvdXQge3tjb3VudH19IHllYXJzXCJcbiAgICAgIH0sXG4gICAgICB4WWVhcnM6IHtcbiAgICAgICAgb25lOiBcIjEgeWVhclwiLFxuICAgICAgICBvdGhlcjogXCJ7e2NvdW50fX0geWVhcnNcIlxuICAgICAgfSxcbiAgICAgIG92ZXJYWWVhcnM6IHtcbiAgICAgICAgb25lOiBcIm92ZXIgMSB5ZWFyXCIsXG4gICAgICAgIG90aGVyOiBcIm92ZXIge3tjb3VudH19IHllYXJzXCJcbiAgICAgIH0sXG4gICAgICBhbG1vc3RYWWVhcnM6IHtcbiAgICAgICAgb25lOiBcImFsbW9zdCAxIHllYXJcIixcbiAgICAgICAgb3RoZXI6IFwiYWxtb3N0IHt7Y291bnR9fSB5ZWFyc1wiXG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZm9ybWF0RGlzdGFuY2UgPSBmdW5jdGlvbih0b2tlbiwgY291bnQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciByZXN1bHQ7XG4gICAgICB2YXIgdG9rZW5WYWx1ZSA9IGZvcm1hdERpc3RhbmNlTG9jYWxlW3Rva2VuXTtcbiAgICAgIGlmICh0eXBlb2YgdG9rZW5WYWx1ZSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXN1bHQgPSB0b2tlblZhbHVlO1xuICAgICAgfSBlbHNlIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgICByZXN1bHQgPSB0b2tlblZhbHVlLm9uZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IHRva2VuVmFsdWUub3RoZXIucmVwbGFjZShcInt7Y291bnR9fVwiLCBjb3VudC50b1N0cmluZygpKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRpb25zICE9PSBudWxsICYmIG9wdGlvbnMgIT09IHZvaWQgMCAmJiBvcHRpb25zLmFkZFN1ZmZpeCkge1xuICAgICAgICBpZiAob3B0aW9ucy5jb21wYXJpc29uICYmIG9wdGlvbnMuY29tcGFyaXNvbiA+IDApIHtcbiAgICAgICAgICByZXR1cm4gXCJpbiBcIiArIHJlc3VsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0ICsgXCIgYWdvXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgICB2YXIgX2RlZmF1bHQgPSBmb3JtYXREaXN0YW5jZTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZEZvcm1hdExvbmdGbi9pbmRleC5qc1xudmFyIHJlcXVpcmVfYnVpbGRGb3JtYXRMb25nRm4gPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRGb3JtYXRMb25nRm4vaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gYnVpbGRGb3JtYXRMb25nRm47XG4gICAgZnVuY3Rpb24gYnVpbGRGb3JtYXRMb25nRm4oYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzBdIDoge307XG4gICAgICAgIHZhciB3aWR0aCA9IG9wdGlvbnMud2lkdGggPyBTdHJpbmcob3B0aW9ucy53aWR0aCkgOiBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICAgICAgdmFyIGZvcm1hdDQgPSBhcmdzLmZvcm1hdHNbd2lkdGhdIHx8IGFyZ3MuZm9ybWF0c1thcmdzLmRlZmF1bHRXaWR0aF07XG4gICAgICAgIHJldHVybiBmb3JtYXQ0O1xuICAgICAgfTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0TG9uZy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZm9ybWF0TG9uZyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRMb25nL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2J1aWxkRm9ybWF0TG9uZ0ZuKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgdmFyIGRhdGVGb3JtYXRzID0ge1xuICAgICAgZnVsbDogXCJFRUVFLCBNTU1NIGRvLCB5XCIsXG4gICAgICBsb25nOiBcIk1NTU0gZG8sIHlcIixcbiAgICAgIG1lZGl1bTogXCJNTU0gZCwgeVwiLFxuICAgICAgc2hvcnQ6IFwiTU0vZGQveXl5eVwiXG4gICAgfTtcbiAgICB2YXIgdGltZUZvcm1hdHMgPSB7XG4gICAgICBmdWxsOiBcImg6bW06c3MgYSB6enp6XCIsXG4gICAgICBsb25nOiBcImg6bW06c3MgYSB6XCIsXG4gICAgICBtZWRpdW06IFwiaDptbTpzcyBhXCIsXG4gICAgICBzaG9ydDogXCJoOm1tIGFcIlxuICAgIH07XG4gICAgdmFyIGRhdGVUaW1lRm9ybWF0cyA9IHtcbiAgICAgIGZ1bGw6IFwie3tkYXRlfX0gJ2F0JyB7e3RpbWV9fVwiLFxuICAgICAgbG9uZzogXCJ7e2RhdGV9fSAnYXQnIHt7dGltZX19XCIsXG4gICAgICBtZWRpdW06IFwie3tkYXRlfX0sIHt7dGltZX19XCIsXG4gICAgICBzaG9ydDogXCJ7e2RhdGV9fSwge3t0aW1lfX1cIlxuICAgIH07XG4gICAgdmFyIGZvcm1hdExvbmcgPSB7XG4gICAgICBkYXRlOiAoMCwgX2luZGV4LmRlZmF1bHQpKHtcbiAgICAgICAgZm9ybWF0czogZGF0ZUZvcm1hdHMsXG4gICAgICAgIGRlZmF1bHRXaWR0aDogXCJmdWxsXCJcbiAgICAgIH0pLFxuICAgICAgdGltZTogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIGZvcm1hdHM6IHRpbWVGb3JtYXRzLFxuICAgICAgICBkZWZhdWx0V2lkdGg6IFwiZnVsbFwiXG4gICAgICB9KSxcbiAgICAgIGRhdGVUaW1lOiAoMCwgX2luZGV4LmRlZmF1bHQpKHtcbiAgICAgICAgZm9ybWF0czogZGF0ZVRpbWVGb3JtYXRzLFxuICAgICAgICBkZWZhdWx0V2lkdGg6IFwiZnVsbFwiXG4gICAgICB9KVxuICAgIH07XG4gICAgdmFyIF9kZWZhdWx0ID0gZm9ybWF0TG9uZztcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9mb3JtYXRSZWxhdGl2ZS9pbmRleC5qc1xudmFyIHJlcXVpcmVfZm9ybWF0UmVsYXRpdmUgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvZm9ybWF0UmVsYXRpdmUvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuICAgIHZhciBmb3JtYXRSZWxhdGl2ZUxvY2FsZSA9IHtcbiAgICAgIGxhc3RXZWVrOiBcIidsYXN0JyBlZWVlICdhdCcgcFwiLFxuICAgICAgeWVzdGVyZGF5OiBcIid5ZXN0ZXJkYXkgYXQnIHBcIixcbiAgICAgIHRvZGF5OiBcIid0b2RheSBhdCcgcFwiLFxuICAgICAgdG9tb3Jyb3c6IFwiJ3RvbW9ycm93IGF0JyBwXCIsXG4gICAgICBuZXh0V2VlazogXCJlZWVlICdhdCcgcFwiLFxuICAgICAgb3RoZXI6IFwiUFwiXG4gICAgfTtcbiAgICB2YXIgZm9ybWF0UmVsYXRpdmUgPSBmdW5jdGlvbih0b2tlbiwgX2RhdGUsIF9iYXNlRGF0ZSwgX29wdGlvbnMpIHtcbiAgICAgIHJldHVybiBmb3JtYXRSZWxhdGl2ZUxvY2FsZVt0b2tlbl07XG4gICAgfTtcbiAgICB2YXIgX2RlZmF1bHQgPSBmb3JtYXRSZWxhdGl2ZTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZExvY2FsaXplRm4vaW5kZXguanNcbnZhciByZXF1aXJlX2J1aWxkTG9jYWxpemVGbiA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvX2xpYi9idWlsZExvY2FsaXplRm4vaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gYnVpbGRMb2NhbGl6ZUZuO1xuICAgIGZ1bmN0aW9uIGJ1aWxkTG9jYWxpemVGbihhcmdzKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oZGlydHlJbmRleCwgZGlydHlPcHRpb25zKSB7XG4gICAgICAgIHZhciBvcHRpb25zID0gZGlydHlPcHRpb25zIHx8IHt9O1xuICAgICAgICB2YXIgY29udGV4dCA9IG9wdGlvbnMuY29udGV4dCA/IFN0cmluZyhvcHRpb25zLmNvbnRleHQpIDogXCJzdGFuZGFsb25lXCI7XG4gICAgICAgIHZhciB2YWx1ZXNBcnJheTtcbiAgICAgICAgaWYgKGNvbnRleHQgPT09IFwiZm9ybWF0dGluZ1wiICYmIGFyZ3MuZm9ybWF0dGluZ1ZhbHVlcykge1xuICAgICAgICAgIHZhciBkZWZhdWx0V2lkdGggPSBhcmdzLmRlZmF1bHRGb3JtYXR0aW5nV2lkdGggfHwgYXJncy5kZWZhdWx0V2lkdGg7XG4gICAgICAgICAgdmFyIHdpZHRoID0gb3B0aW9ucy53aWR0aCA/IFN0cmluZyhvcHRpb25zLndpZHRoKSA6IGRlZmF1bHRXaWR0aDtcbiAgICAgICAgICB2YWx1ZXNBcnJheSA9IGFyZ3MuZm9ybWF0dGluZ1ZhbHVlc1t3aWR0aF0gfHwgYXJncy5mb3JtYXR0aW5nVmFsdWVzW2RlZmF1bHRXaWR0aF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIF9kZWZhdWx0V2lkdGggPSBhcmdzLmRlZmF1bHRXaWR0aDtcbiAgICAgICAgICB2YXIgX3dpZHRoID0gb3B0aW9ucy53aWR0aCA/IFN0cmluZyhvcHRpb25zLndpZHRoKSA6IGFyZ3MuZGVmYXVsdFdpZHRoO1xuICAgICAgICAgIHZhbHVlc0FycmF5ID0gYXJncy52YWx1ZXNbX3dpZHRoXSB8fCBhcmdzLnZhbHVlc1tfZGVmYXVsdFdpZHRoXTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBhcmdzLmFyZ3VtZW50Q2FsbGJhY2sgPyBhcmdzLmFyZ3VtZW50Q2FsbGJhY2soZGlydHlJbmRleCkgOiBkaXJ0eUluZGV4O1xuICAgICAgICByZXR1cm4gdmFsdWVzQXJyYXlbaW5kZXhdO1xuICAgICAgfTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvbG9jYWxpemUvaW5kZXguanNcbnZhciByZXF1aXJlX2xvY2FsaXplID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9lbi1VUy9fbGliL2xvY2FsaXplL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2J1aWxkTG9jYWxpemVGbigpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIHZhciBlcmFWYWx1ZXMgPSB7XG4gICAgICBuYXJyb3c6IFtcIkJcIiwgXCJBXCJdLFxuICAgICAgYWJicmV2aWF0ZWQ6IFtcIkJDXCIsIFwiQURcIl0sXG4gICAgICB3aWRlOiBbXCJCZWZvcmUgQ2hyaXN0XCIsIFwiQW5ubyBEb21pbmlcIl1cbiAgICB9O1xuICAgIHZhciBxdWFydGVyVmFsdWVzID0ge1xuICAgICAgbmFycm93OiBbXCIxXCIsIFwiMlwiLCBcIjNcIiwgXCI0XCJdLFxuICAgICAgYWJicmV2aWF0ZWQ6IFtcIlExXCIsIFwiUTJcIiwgXCJRM1wiLCBcIlE0XCJdLFxuICAgICAgd2lkZTogW1wiMXN0IHF1YXJ0ZXJcIiwgXCIybmQgcXVhcnRlclwiLCBcIjNyZCBxdWFydGVyXCIsIFwiNHRoIHF1YXJ0ZXJcIl1cbiAgICB9O1xuICAgIHZhciBtb250aFZhbHVlcyA9IHtcbiAgICAgIG5hcnJvdzogW1wiSlwiLCBcIkZcIiwgXCJNXCIsIFwiQVwiLCBcIk1cIiwgXCJKXCIsIFwiSlwiLCBcIkFcIiwgXCJTXCIsIFwiT1wiLCBcIk5cIiwgXCJEXCJdLFxuICAgICAgYWJicmV2aWF0ZWQ6IFtcIkphblwiLCBcIkZlYlwiLCBcIk1hclwiLCBcIkFwclwiLCBcIk1heVwiLCBcIkp1blwiLCBcIkp1bFwiLCBcIkF1Z1wiLCBcIlNlcFwiLCBcIk9jdFwiLCBcIk5vdlwiLCBcIkRlY1wiXSxcbiAgICAgIHdpZGU6IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsIFwiSnVseVwiLCBcIkF1Z3VzdFwiLCBcIlNlcHRlbWJlclwiLCBcIk9jdG9iZXJcIiwgXCJOb3ZlbWJlclwiLCBcIkRlY2VtYmVyXCJdXG4gICAgfTtcbiAgICB2YXIgZGF5VmFsdWVzID0ge1xuICAgICAgbmFycm93OiBbXCJTXCIsIFwiTVwiLCBcIlRcIiwgXCJXXCIsIFwiVFwiLCBcIkZcIiwgXCJTXCJdLFxuICAgICAgc2hvcnQ6IFtcIlN1XCIsIFwiTW9cIiwgXCJUdVwiLCBcIldlXCIsIFwiVGhcIiwgXCJGclwiLCBcIlNhXCJdLFxuICAgICAgYWJicmV2aWF0ZWQ6IFtcIlN1blwiLCBcIk1vblwiLCBcIlR1ZVwiLCBcIldlZFwiLCBcIlRodVwiLCBcIkZyaVwiLCBcIlNhdFwiXSxcbiAgICAgIHdpZGU6IFtcIlN1bmRheVwiLCBcIk1vbmRheVwiLCBcIlR1ZXNkYXlcIiwgXCJXZWRuZXNkYXlcIiwgXCJUaHVyc2RheVwiLCBcIkZyaWRheVwiLCBcIlNhdHVyZGF5XCJdXG4gICAgfTtcbiAgICB2YXIgZGF5UGVyaW9kVmFsdWVzID0ge1xuICAgICAgbmFycm93OiB7XG4gICAgICAgIGFtOiBcImFcIixcbiAgICAgICAgcG06IFwicFwiLFxuICAgICAgICBtaWRuaWdodDogXCJtaVwiLFxuICAgICAgICBub29uOiBcIm5cIixcbiAgICAgICAgbW9ybmluZzogXCJtb3JuaW5nXCIsXG4gICAgICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICAgICAgZXZlbmluZzogXCJldmVuaW5nXCIsXG4gICAgICAgIG5pZ2h0OiBcIm5pZ2h0XCJcbiAgICAgIH0sXG4gICAgICBhYmJyZXZpYXRlZDoge1xuICAgICAgICBhbTogXCJBTVwiLFxuICAgICAgICBwbTogXCJQTVwiLFxuICAgICAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgICAgICBub29uOiBcIm5vb25cIixcbiAgICAgICAgbW9ybmluZzogXCJtb3JuaW5nXCIsXG4gICAgICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICAgICAgZXZlbmluZzogXCJldmVuaW5nXCIsXG4gICAgICAgIG5pZ2h0OiBcIm5pZ2h0XCJcbiAgICAgIH0sXG4gICAgICB3aWRlOiB7XG4gICAgICAgIGFtOiBcImEubS5cIixcbiAgICAgICAgcG06IFwicC5tLlwiLFxuICAgICAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgICAgICBub29uOiBcIm5vb25cIixcbiAgICAgICAgbW9ybmluZzogXCJtb3JuaW5nXCIsXG4gICAgICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICAgICAgZXZlbmluZzogXCJldmVuaW5nXCIsXG4gICAgICAgIG5pZ2h0OiBcIm5pZ2h0XCJcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBmb3JtYXR0aW5nRGF5UGVyaW9kVmFsdWVzID0ge1xuICAgICAgbmFycm93OiB7XG4gICAgICAgIGFtOiBcImFcIixcbiAgICAgICAgcG06IFwicFwiLFxuICAgICAgICBtaWRuaWdodDogXCJtaVwiLFxuICAgICAgICBub29uOiBcIm5cIixcbiAgICAgICAgbW9ybmluZzogXCJpbiB0aGUgbW9ybmluZ1wiLFxuICAgICAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgICAgICBldmVuaW5nOiBcImluIHRoZSBldmVuaW5nXCIsXG4gICAgICAgIG5pZ2h0OiBcImF0IG5pZ2h0XCJcbiAgICAgIH0sXG4gICAgICBhYmJyZXZpYXRlZDoge1xuICAgICAgICBhbTogXCJBTVwiLFxuICAgICAgICBwbTogXCJQTVwiLFxuICAgICAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgICAgICBub29uOiBcIm5vb25cIixcbiAgICAgICAgbW9ybmluZzogXCJpbiB0aGUgbW9ybmluZ1wiLFxuICAgICAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgICAgICBldmVuaW5nOiBcImluIHRoZSBldmVuaW5nXCIsXG4gICAgICAgIG5pZ2h0OiBcImF0IG5pZ2h0XCJcbiAgICAgIH0sXG4gICAgICB3aWRlOiB7XG4gICAgICAgIGFtOiBcImEubS5cIixcbiAgICAgICAgcG06IFwicC5tLlwiLFxuICAgICAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgICAgICBub29uOiBcIm5vb25cIixcbiAgICAgICAgbW9ybmluZzogXCJpbiB0aGUgbW9ybmluZ1wiLFxuICAgICAgICBhZnRlcm5vb246IFwiaW4gdGhlIGFmdGVybm9vblwiLFxuICAgICAgICBldmVuaW5nOiBcImluIHRoZSBldmVuaW5nXCIsXG4gICAgICAgIG5pZ2h0OiBcImF0IG5pZ2h0XCJcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBvcmRpbmFsTnVtYmVyID0gZnVuY3Rpb24oZGlydHlOdW1iZXIsIF9vcHRpb25zKSB7XG4gICAgICB2YXIgbnVtYmVyID0gTnVtYmVyKGRpcnR5TnVtYmVyKTtcbiAgICAgIHZhciByZW0xMDAgPSBudW1iZXIgJSAxMDA7XG4gICAgICBpZiAocmVtMTAwID4gMjAgfHwgcmVtMTAwIDwgMTApIHtcbiAgICAgICAgc3dpdGNoIChyZW0xMDAgJSAxMCkge1xuICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIHJldHVybiBudW1iZXIgKyBcInN0XCI7XG4gICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgcmV0dXJuIG51bWJlciArIFwibmRcIjtcbiAgICAgICAgICBjYXNlIDM6XG4gICAgICAgICAgICByZXR1cm4gbnVtYmVyICsgXCJyZFwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyICsgXCJ0aFwiO1xuICAgIH07XG4gICAgdmFyIGxvY2FsaXplID0ge1xuICAgICAgb3JkaW5hbE51bWJlcixcbiAgICAgIGVyYTogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIHZhbHVlczogZXJhVmFsdWVzLFxuICAgICAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiXG4gICAgICB9KSxcbiAgICAgIHF1YXJ0ZXI6ICgwLCBfaW5kZXguZGVmYXVsdCkoe1xuICAgICAgICB2YWx1ZXM6IHF1YXJ0ZXJWYWx1ZXMsXG4gICAgICAgIGRlZmF1bHRXaWR0aDogXCJ3aWRlXCIsXG4gICAgICAgIGFyZ3VtZW50Q2FsbGJhY2s6IGZ1bmN0aW9uKHF1YXJ0ZXIpIHtcbiAgICAgICAgICByZXR1cm4gcXVhcnRlciAtIDE7XG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgbW9udGg6ICgwLCBfaW5kZXguZGVmYXVsdCkoe1xuICAgICAgICB2YWx1ZXM6IG1vbnRoVmFsdWVzLFxuICAgICAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiXG4gICAgICB9KSxcbiAgICAgIGRheTogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIHZhbHVlczogZGF5VmFsdWVzLFxuICAgICAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiXG4gICAgICB9KSxcbiAgICAgIGRheVBlcmlvZDogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIHZhbHVlczogZGF5UGVyaW9kVmFsdWVzLFxuICAgICAgICBkZWZhdWx0V2lkdGg6IFwid2lkZVwiLFxuICAgICAgICBmb3JtYXR0aW5nVmFsdWVzOiBmb3JtYXR0aW5nRGF5UGVyaW9kVmFsdWVzLFxuICAgICAgICBkZWZhdWx0Rm9ybWF0dGluZ1dpZHRoOiBcIndpZGVcIlxuICAgICAgfSlcbiAgICB9O1xuICAgIHZhciBfZGVmYXVsdCA9IGxvY2FsaXplO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTWF0Y2hGbi9pbmRleC5qc1xudmFyIHJlcXVpcmVfYnVpbGRNYXRjaEZuID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTWF0Y2hGbi9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBidWlsZE1hdGNoRm47XG4gICAgZnVuY3Rpb24gYnVpbGRNYXRjaEZuKGFyZ3MpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgdmFyIG9wdGlvbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHZvaWQgMCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuICAgICAgICB2YXIgd2lkdGggPSBvcHRpb25zLndpZHRoO1xuICAgICAgICB2YXIgbWF0Y2hQYXR0ZXJuID0gd2lkdGggJiYgYXJncy5tYXRjaFBhdHRlcm5zW3dpZHRoXSB8fCBhcmdzLm1hdGNoUGF0dGVybnNbYXJncy5kZWZhdWx0TWF0Y2hXaWR0aF07XG4gICAgICAgIHZhciBtYXRjaFJlc3VsdCA9IHN0cmluZy5tYXRjaChtYXRjaFBhdHRlcm4pO1xuICAgICAgICBpZiAoIW1hdGNoUmVzdWx0KSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hdGNoZWRTdHJpbmcgPSBtYXRjaFJlc3VsdFswXTtcbiAgICAgICAgdmFyIHBhcnNlUGF0dGVybnMgPSB3aWR0aCAmJiBhcmdzLnBhcnNlUGF0dGVybnNbd2lkdGhdIHx8IGFyZ3MucGFyc2VQYXR0ZXJuc1thcmdzLmRlZmF1bHRQYXJzZVdpZHRoXTtcbiAgICAgICAgdmFyIGtleSA9IEFycmF5LmlzQXJyYXkocGFyc2VQYXR0ZXJucykgPyBmaW5kSW5kZXgocGFyc2VQYXR0ZXJucywgZnVuY3Rpb24ocGF0dGVybikge1xuICAgICAgICAgIHJldHVybiBwYXR0ZXJuLnRlc3QobWF0Y2hlZFN0cmluZyk7XG4gICAgICAgIH0pIDogZmluZEtleShwYXJzZVBhdHRlcm5zLCBmdW5jdGlvbihwYXR0ZXJuKSB7XG4gICAgICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdChtYXRjaGVkU3RyaW5nKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciB2YWx1ZTtcbiAgICAgICAgdmFsdWUgPSBhcmdzLnZhbHVlQ2FsbGJhY2sgPyBhcmdzLnZhbHVlQ2FsbGJhY2soa2V5KSA6IGtleTtcbiAgICAgICAgdmFsdWUgPSBvcHRpb25zLnZhbHVlQ2FsbGJhY2sgPyBvcHRpb25zLnZhbHVlQ2FsbGJhY2sodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIHZhciByZXN0ID0gc3RyaW5nLnNsaWNlKG1hdGNoZWRTdHJpbmcubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICByZXN0XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBmaW5kS2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gb2JqZWN0KSB7XG4gICAgICAgIGlmIChvYmplY3QuaGFzT3duUHJvcGVydHkoa2V5KSAmJiBwcmVkaWNhdGUob2JqZWN0W2tleV0pKSB7XG4gICAgICAgICAgcmV0dXJuIGtleTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgZnVuY3Rpb24gZmluZEluZGV4KGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICAgIGZvciAodmFyIGtleSA9IDA7IGtleSA8IGFycmF5Lmxlbmd0aDsga2V5KyspIHtcbiAgICAgICAgaWYgKHByZWRpY2F0ZShhcnJheVtrZXldKSkge1xuICAgICAgICAgIHJldHVybiBrZXk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2xvY2FsZS9fbGliL2J1aWxkTWF0Y2hQYXR0ZXJuRm4vaW5kZXguanNcbnZhciByZXF1aXJlX2J1aWxkTWF0Y2hQYXR0ZXJuRm4gPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL19saWIvYnVpbGRNYXRjaFBhdHRlcm5Gbi9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBidWlsZE1hdGNoUGF0dGVybkZuO1xuICAgIGZ1bmN0aW9uIGJ1aWxkTWF0Y2hQYXR0ZXJuRm4oYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdm9pZCAwID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgICAgIHZhciBtYXRjaFJlc3VsdCA9IHN0cmluZy5tYXRjaChhcmdzLm1hdGNoUGF0dGVybik7XG4gICAgICAgIGlmICghbWF0Y2hSZXN1bHQpXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciBtYXRjaGVkU3RyaW5nID0gbWF0Y2hSZXN1bHRbMF07XG4gICAgICAgIHZhciBwYXJzZVJlc3VsdCA9IHN0cmluZy5tYXRjaChhcmdzLnBhcnNlUGF0dGVybik7XG4gICAgICAgIGlmICghcGFyc2VSZXN1bHQpXG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFyZ3MudmFsdWVDYWxsYmFjayA/IGFyZ3MudmFsdWVDYWxsYmFjayhwYXJzZVJlc3VsdFswXSkgOiBwYXJzZVJlc3VsdFswXTtcbiAgICAgICAgdmFsdWUgPSBvcHRpb25zLnZhbHVlQ2FsbGJhY2sgPyBvcHRpb25zLnZhbHVlQ2FsbGJhY2sodmFsdWUpIDogdmFsdWU7XG4gICAgICAgIHZhciByZXN0ID0gc3RyaW5nLnNsaWNlKG1hdGNoZWRTdHJpbmcubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICByZXN0XG4gICAgICAgIH07XG4gICAgICB9O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvX2xpYi9tYXRjaC9pbmRleC5qc1xudmFyIHJlcXVpcmVfbWF0Y2ggPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL19saWIvbWF0Y2gvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfYnVpbGRNYXRjaEZuKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2J1aWxkTWF0Y2hQYXR0ZXJuRm4oKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICB2YXIgbWF0Y2hPcmRpbmFsTnVtYmVyUGF0dGVybiA9IC9eKFxcZCspKHRofHN0fG5kfHJkKT8vaTtcbiAgICB2YXIgcGFyc2VPcmRpbmFsTnVtYmVyUGF0dGVybiA9IC9cXGQrL2k7XG4gICAgdmFyIG1hdGNoRXJhUGF0dGVybnMgPSB7XG4gICAgICBuYXJyb3c6IC9eKGJ8YSkvaSxcbiAgICAgIGFiYnJldmlhdGVkOiAvXihiXFwuP1xccz9jXFwuP3xiXFwuP1xccz9jXFwuP1xccz9lXFwuP3xhXFwuP1xccz9kXFwuP3xjXFwuP1xccz9lXFwuPykvaSxcbiAgICAgIHdpZGU6IC9eKGJlZm9yZSBjaHJpc3R8YmVmb3JlIGNvbW1vbiBlcmF8YW5ubyBkb21pbml8Y29tbW9uIGVyYSkvaVxuICAgIH07XG4gICAgdmFyIHBhcnNlRXJhUGF0dGVybnMgPSB7XG4gICAgICBhbnk6IFsvXmIvaSwgL14oYXxjKS9pXVxuICAgIH07XG4gICAgdmFyIG1hdGNoUXVhcnRlclBhdHRlcm5zID0ge1xuICAgICAgbmFycm93OiAvXlsxMjM0XS9pLFxuICAgICAgYWJicmV2aWF0ZWQ6IC9ecVsxMjM0XS9pLFxuICAgICAgd2lkZTogL15bMTIzNF0odGh8c3R8bmR8cmQpPyBxdWFydGVyL2lcbiAgICB9O1xuICAgIHZhciBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyA9IHtcbiAgICAgIGFueTogWy8xL2ksIC8yL2ksIC8zL2ksIC80L2ldXG4gICAgfTtcbiAgICB2YXIgbWF0Y2hNb250aFBhdHRlcm5zID0ge1xuICAgICAgbmFycm93OiAvXltqZm1hc29uZF0vaSxcbiAgICAgIGFiYnJldmlhdGVkOiAvXihqYW58ZmVifG1hcnxhcHJ8bWF5fGp1bnxqdWx8YXVnfHNlcHxvY3R8bm92fGRlYykvaSxcbiAgICAgIHdpZGU6IC9eKGphbnVhcnl8ZmVicnVhcnl8bWFyY2h8YXByaWx8bWF5fGp1bmV8anVseXxhdWd1c3R8c2VwdGVtYmVyfG9jdG9iZXJ8bm92ZW1iZXJ8ZGVjZW1iZXIpL2lcbiAgICB9O1xuICAgIHZhciBwYXJzZU1vbnRoUGF0dGVybnMgPSB7XG4gICAgICBuYXJyb3c6IFsvXmovaSwgL15mL2ksIC9ebS9pLCAvXmEvaSwgL15tL2ksIC9eai9pLCAvXmovaSwgL15hL2ksIC9ecy9pLCAvXm8vaSwgL15uL2ksIC9eZC9pXSxcbiAgICAgIGFueTogWy9eamEvaSwgL15mL2ksIC9ebWFyL2ksIC9eYXAvaSwgL15tYXkvaSwgL15qdW4vaSwgL15qdWwvaSwgL15hdS9pLCAvXnMvaSwgL15vL2ksIC9ebi9pLCAvXmQvaV1cbiAgICB9O1xuICAgIHZhciBtYXRjaERheVBhdHRlcm5zID0ge1xuICAgICAgbmFycm93OiAvXltzbXR3Zl0vaSxcbiAgICAgIHNob3J0OiAvXihzdXxtb3x0dXx3ZXx0aHxmcnxzYSkvaSxcbiAgICAgIGFiYnJldmlhdGVkOiAvXihzdW58bW9ufHR1ZXx3ZWR8dGh1fGZyaXxzYXQpL2ksXG4gICAgICB3aWRlOiAvXihzdW5kYXl8bW9uZGF5fHR1ZXNkYXl8d2VkbmVzZGF5fHRodXJzZGF5fGZyaWRheXxzYXR1cmRheSkvaVxuICAgIH07XG4gICAgdmFyIHBhcnNlRGF5UGF0dGVybnMgPSB7XG4gICAgICBuYXJyb3c6IFsvXnMvaSwgL15tL2ksIC9edC9pLCAvXncvaSwgL150L2ksIC9eZi9pLCAvXnMvaV0sXG4gICAgICBhbnk6IFsvXnN1L2ksIC9ebS9pLCAvXnR1L2ksIC9edy9pLCAvXnRoL2ksIC9eZi9pLCAvXnNhL2ldXG4gICAgfTtcbiAgICB2YXIgbWF0Y2hEYXlQZXJpb2RQYXR0ZXJucyA9IHtcbiAgICAgIG5hcnJvdzogL14oYXxwfG1pfG58KGluIHRoZXxhdCkgKG1vcm5pbmd8YWZ0ZXJub29ufGV2ZW5pbmd8bmlnaHQpKS9pLFxuICAgICAgYW55OiAvXihbYXBdXFwuP1xccz9tXFwuP3xtaWRuaWdodHxub29ufChpbiB0aGV8YXQpIChtb3JuaW5nfGFmdGVybm9vbnxldmVuaW5nfG5pZ2h0KSkvaVxuICAgIH07XG4gICAgdmFyIHBhcnNlRGF5UGVyaW9kUGF0dGVybnMgPSB7XG4gICAgICBhbnk6IHtcbiAgICAgICAgYW06IC9eYS9pLFxuICAgICAgICBwbTogL15wL2ksXG4gICAgICAgIG1pZG5pZ2h0OiAvXm1pL2ksXG4gICAgICAgIG5vb246IC9ebm8vaSxcbiAgICAgICAgbW9ybmluZzogL21vcm5pbmcvaSxcbiAgICAgICAgYWZ0ZXJub29uOiAvYWZ0ZXJub29uL2ksXG4gICAgICAgIGV2ZW5pbmc6IC9ldmVuaW5nL2ksXG4gICAgICAgIG5pZ2h0OiAvbmlnaHQvaVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIG1hdGNoID0ge1xuICAgICAgb3JkaW5hbE51bWJlcjogKDAsIF9pbmRleDIuZGVmYXVsdCkoe1xuICAgICAgICBtYXRjaFBhdHRlcm46IG1hdGNoT3JkaW5hbE51bWJlclBhdHRlcm4sXG4gICAgICAgIHBhcnNlUGF0dGVybjogcGFyc2VPcmRpbmFsTnVtYmVyUGF0dGVybixcbiAgICAgICAgdmFsdWVDYWxsYmFjazogZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBlcmE6ICgwLCBfaW5kZXguZGVmYXVsdCkoe1xuICAgICAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaEVyYVBhdHRlcm5zLFxuICAgICAgICBkZWZhdWx0TWF0Y2hXaWR0aDogXCJ3aWRlXCIsXG4gICAgICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlRXJhUGF0dGVybnMsXG4gICAgICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiXG4gICAgICB9KSxcbiAgICAgIHF1YXJ0ZXI6ICgwLCBfaW5kZXguZGVmYXVsdCkoe1xuICAgICAgICBtYXRjaFBhdHRlcm5zOiBtYXRjaFF1YXJ0ZXJQYXR0ZXJucyxcbiAgICAgICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgICAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZVF1YXJ0ZXJQYXR0ZXJucyxcbiAgICAgICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCIsXG4gICAgICAgIHZhbHVlQ2FsbGJhY2s6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4ICsgMTtcbiAgICAgICAgfVxuICAgICAgfSksXG4gICAgICBtb250aDogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoTW9udGhQYXR0ZXJucyxcbiAgICAgICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwid2lkZVwiLFxuICAgICAgICBwYXJzZVBhdHRlcm5zOiBwYXJzZU1vbnRoUGF0dGVybnMsXG4gICAgICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiXG4gICAgICB9KSxcbiAgICAgIGRheTogKDAsIF9pbmRleC5kZWZhdWx0KSh7XG4gICAgICAgIG1hdGNoUGF0dGVybnM6IG1hdGNoRGF5UGF0dGVybnMsXG4gICAgICAgIGRlZmF1bHRNYXRjaFdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgcGFyc2VQYXR0ZXJuczogcGFyc2VEYXlQYXR0ZXJucyxcbiAgICAgICAgZGVmYXVsdFBhcnNlV2lkdGg6IFwiYW55XCJcbiAgICAgIH0pLFxuICAgICAgZGF5UGVyaW9kOiAoMCwgX2luZGV4LmRlZmF1bHQpKHtcbiAgICAgICAgbWF0Y2hQYXR0ZXJuczogbWF0Y2hEYXlQZXJpb2RQYXR0ZXJucyxcbiAgICAgICAgZGVmYXVsdE1hdGNoV2lkdGg6IFwiYW55XCIsXG4gICAgICAgIHBhcnNlUGF0dGVybnM6IHBhcnNlRGF5UGVyaW9kUGF0dGVybnMsXG4gICAgICAgIGRlZmF1bHRQYXJzZVdpZHRoOiBcImFueVwiXG4gICAgICB9KVxuICAgIH07XG4gICAgdmFyIF9kZWZhdWx0ID0gbWF0Y2g7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvbG9jYWxlL2VuLVVTL2luZGV4LmpzXG52YXIgcmVxdWlyZV9lbl9VUyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9sb2NhbGUvZW4tVVMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZm9ybWF0RGlzdGFuY2UoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZm9ybWF0TG9uZygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9mb3JtYXRSZWxhdGl2ZSgpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9sb2NhbGl6ZSgpKTtcbiAgICB2YXIgX2luZGV4NSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9tYXRjaCgpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIHZhciBsb2NhbGUgPSB7XG4gICAgICBjb2RlOiBcImVuLVVTXCIsXG4gICAgICBmb3JtYXREaXN0YW5jZTogX2luZGV4LmRlZmF1bHQsXG4gICAgICBmb3JtYXRMb25nOiBfaW5kZXgyLmRlZmF1bHQsXG4gICAgICBmb3JtYXRSZWxhdGl2ZTogX2luZGV4My5kZWZhdWx0LFxuICAgICAgbG9jYWxpemU6IF9pbmRleDQuZGVmYXVsdCxcbiAgICAgIG1hdGNoOiBfaW5kZXg1LmRlZmF1bHQsXG4gICAgICBvcHRpb25zOiB7XG4gICAgICAgIHdlZWtTdGFydHNPbjogMCxcbiAgICAgICAgZmlyc3RXZWVrQ29udGFpbnNEYXRlOiAxXG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgX2RlZmF1bHQgPSBsb2NhbGU7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi90b0ludGVnZXIvaW5kZXguanNcbnZhciByZXF1aXJlX3RvSW50ZWdlciA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3RvSW50ZWdlci9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSB0b0ludGVnZXI7XG4gICAgZnVuY3Rpb24gdG9JbnRlZ2VyKGRpcnR5TnVtYmVyKSB7XG4gICAgICBpZiAoZGlydHlOdW1iZXIgPT09IG51bGwgfHwgZGlydHlOdW1iZXIgPT09IHRydWUgfHwgZGlydHlOdW1iZXIgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBOYU47XG4gICAgICB9XG4gICAgICB2YXIgbnVtYmVyID0gTnVtYmVyKGRpcnR5TnVtYmVyKTtcbiAgICAgIGlmIChpc05hTihudW1iZXIpKSB7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyIDwgMCA/IE1hdGguY2VpbChudW1iZXIpIDogTWF0aC5mbG9vcihudW1iZXIpO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9hZGRNaWxsaXNlY29uZHMvaW5kZXguanNcbnZhciByZXF1aXJlX2FkZE1pbGxpc2Vjb25kcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9hZGRNaWxsaXNlY29uZHMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gYWRkTWlsbGlzZWNvbmRzO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRNaWxsaXNlY29uZHMoZGlydHlEYXRlLCBkaXJ0eUFtb3VudCkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciB0aW1lc3RhbXAgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkaXJ0eURhdGUpLmdldFRpbWUoKTtcbiAgICAgIHZhciBhbW91bnQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5QW1vdW50KTtcbiAgICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lc3RhbXAgKyBhbW91bnQpO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdWJNaWxsaXNlY29uZHMvaW5kZXguanNcbnZhciByZXF1aXJlX3N1Yk1pbGxpc2Vjb25kcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdWJNaWxsaXNlY29uZHMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gc3ViTWlsbGlzZWNvbmRzO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2FkZE1pbGxpc2Vjb25kcygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJNaWxsaXNlY29uZHMoZGlydHlEYXRlLCBkaXJ0eUFtb3VudCkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBhbW91bnQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5QW1vdW50KTtcbiAgICAgIHJldHVybiAoMCwgX2luZGV4Mi5kZWZhdWx0KShkaXJ0eURhdGUsIC1hbW91bnQpO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2dldFVUQ0RheU9mWWVhci9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0VVRDRGF5T2ZZZWFyID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VVRDRGF5T2ZZZWFyL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldFVUQ0RheU9mWWVhcjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICB2YXIgTUlMTElTRUNPTkRTX0lOX0RBWSA9IDg2NGU1O1xuICAgIGZ1bmN0aW9uIGdldFVUQ0RheU9mWWVhcihkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciB0aW1lc3RhbXAgPSBkYXRlLmdldFRpbWUoKTtcbiAgICAgIGRhdGUuc2V0VVRDTW9udGgoMCwgMSk7XG4gICAgICBkYXRlLnNldFVUQ0hvdXJzKDAsIDAsIDAsIDApO1xuICAgICAgdmFyIHN0YXJ0T2ZZZWFyVGltZXN0YW1wID0gZGF0ZS5nZXRUaW1lKCk7XG4gICAgICB2YXIgZGlmZmVyZW5jZSA9IHRpbWVzdGFtcCAtIHN0YXJ0T2ZZZWFyVGltZXN0YW1wO1xuICAgICAgcmV0dXJuIE1hdGguZmxvb3IoZGlmZmVyZW5jZSAvIE1JTExJU0VDT05EU19JTl9EQVkpICsgMTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9zdGFydE9mVVRDSVNPV2Vlay9pbmRleC5qc1xudmFyIHJlcXVpcmVfc3RhcnRPZlVUQ0lTT1dlZWsgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9zdGFydE9mVVRDSVNPV2Vlay9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBzdGFydE9mVVRDSVNPV2VlaztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydE9mVVRDSVNPV2VlayhkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgd2Vla1N0YXJ0c09uID0gMTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIGRheSA9IGRhdGUuZ2V0VVRDRGF5KCk7XG4gICAgICB2YXIgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyA3IDogMCkgKyBkYXkgLSB3ZWVrU3RhcnRzT247XG4gICAgICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgLSBkaWZmKTtcbiAgICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRVVENJU09XZWVrWWVhci9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0VVRDSVNPV2Vla1llYXIgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRVVENJU09XZWVrWWVhci9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBnZXRVVENJU09XZWVrWWVhcjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfc3RhcnRPZlVUQ0lTT1dlZWsoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRVVENJU09XZWVrWWVhcihkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICAgICAgdmFyIGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIgPSBuZXcgRGF0ZSgwKTtcbiAgICAgIGZvdXJ0aE9mSmFudWFyeU9mTmV4dFllYXIuc2V0VVRDRnVsbFllYXIoeWVhciArIDEsIDAsIDQpO1xuICAgICAgZm91cnRoT2ZKYW51YXJ5T2ZOZXh0WWVhci5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIHZhciBzdGFydE9mTmV4dFllYXIgPSAoMCwgX2luZGV4My5kZWZhdWx0KShmb3VydGhPZkphbnVhcnlPZk5leHRZZWFyKTtcbiAgICAgIHZhciBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyID0gbmV3IERhdGUoMCk7XG4gICAgICBmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyLnNldFVUQ0Z1bGxZZWFyKHllYXIsIDAsIDQpO1xuICAgICAgZm91cnRoT2ZKYW51YXJ5T2ZUaGlzWWVhci5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIHZhciBzdGFydE9mVGhpc1llYXIgPSAoMCwgX2luZGV4My5kZWZhdWx0KShmb3VydGhPZkphbnVhcnlPZlRoaXNZZWFyKTtcbiAgICAgIGlmIChkYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mTmV4dFllYXIuZ2V0VGltZSgpKSB7XG4gICAgICAgIHJldHVybiB5ZWFyICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoZGF0ZS5nZXRUaW1lKCkgPj0gc3RhcnRPZlRoaXNZZWFyLmdldFRpbWUoKSkge1xuICAgICAgICByZXR1cm4geWVhcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB5ZWFyIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9zdGFydE9mVVRDSVNPV2Vla1llYXIvaW5kZXguanNcbnZhciByZXF1aXJlX3N0YXJ0T2ZVVENJU09XZWVrWWVhciA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3N0YXJ0T2ZVVENJU09XZWVrWWVhci9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBzdGFydE9mVVRDSVNPV2Vla1llYXI7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9nZXRVVENJU09XZWVrWWVhcigpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9zdGFydE9mVVRDSVNPV2VlaygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdGFydE9mVVRDSVNPV2Vla1llYXIoZGlydHlEYXRlKSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIHllYXIgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgZm91cnRoT2ZKYW51YXJ5ID0gbmV3IERhdGUoMCk7XG4gICAgICBmb3VydGhPZkphbnVhcnkuc2V0VVRDRnVsbFllYXIoeWVhciwgMCwgNCk7XG4gICAgICBmb3VydGhPZkphbnVhcnkuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGZvdXJ0aE9mSmFudWFyeSk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRVVENJU09XZWVrL2luZGV4LmpzXG52YXIgcmVxdWlyZV9nZXRVVENJU09XZWVrID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VVRDSVNPV2Vlay9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBnZXRVVENJU09XZWVrO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3N0YXJ0T2ZVVENJU09XZWVrKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3N0YXJ0T2ZVVENJU09XZWVrWWVhcigpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICB2YXIgTUlMTElTRUNPTkRTX0lOX1dFRUsgPSA2MDQ4ZTU7XG4gICAgZnVuY3Rpb24gZ2V0VVRDSVNPV2VlayhkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXg0LmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBkaWZmID0gKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZSkuZ2V0VGltZSgpIC0gKDAsIF9pbmRleDMuZGVmYXVsdCkoZGF0ZSkuZ2V0VGltZSgpO1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQoZGlmZiAvIE1JTExJU0VDT05EU19JTl9XRUVLKSArIDE7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvc3RhcnRPZlVUQ1dlZWsvaW5kZXguanNcbnZhciByZXF1aXJlX3N0YXJ0T2ZVVENXZWVrID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvc3RhcnRPZlVUQ1dlZWsvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gc3RhcnRPZlVUQ1dlZWs7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvSW50ZWdlcigpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIHN0YXJ0T2ZVVENXZWVrKGRpcnR5RGF0ZSwgZGlydHlPcHRpb25zKSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIG9wdGlvbnMgPSBkaXJ0eU9wdGlvbnMgfHwge307XG4gICAgICB2YXIgbG9jYWxlID0gb3B0aW9ucy5sb2NhbGU7XG4gICAgICB2YXIgbG9jYWxlV2Vla1N0YXJ0c09uID0gbG9jYWxlICYmIGxvY2FsZS5vcHRpb25zICYmIGxvY2FsZS5vcHRpb25zLndlZWtTdGFydHNPbjtcbiAgICAgIHZhciBkZWZhdWx0V2Vla1N0YXJ0c09uID0gbG9jYWxlV2Vla1N0YXJ0c09uID09IG51bGwgPyAwIDogKDAsIF9pbmRleDMuZGVmYXVsdCkobG9jYWxlV2Vla1N0YXJ0c09uKTtcbiAgICAgIHZhciB3ZWVrU3RhcnRzT24gPSBvcHRpb25zLndlZWtTdGFydHNPbiA9PSBudWxsID8gZGVmYXVsdFdlZWtTdGFydHNPbiA6ICgwLCBfaW5kZXgzLmRlZmF1bHQpKG9wdGlvbnMud2Vla1N0YXJ0c09uKTtcbiAgICAgIGlmICghKHdlZWtTdGFydHNPbiA+PSAwICYmIHdlZWtTdGFydHNPbiA8PSA2KSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIndlZWtTdGFydHNPbiBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNiBpbmNsdXNpdmVseVwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIGRheSA9IGRhdGUuZ2V0VVRDRGF5KCk7XG4gICAgICB2YXIgZGlmZiA9IChkYXkgPCB3ZWVrU3RhcnRzT24gPyA3IDogMCkgKyBkYXkgLSB3ZWVrU3RhcnRzT247XG4gICAgICBkYXRlLnNldFVUQ0RhdGUoZGF0ZS5nZXRVVENEYXRlKCkgLSBkaWZmKTtcbiAgICAgIGRhdGUuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRVVENXZWVrWWVhci9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0VVRDV2Vla1llYXIgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9nZXRVVENXZWVrWWVhci9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBnZXRVVENXZWVrWWVhcjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfc3RhcnRPZlVUQ1dlZWsoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VVRDV2Vla1llYXIoZGlydHlEYXRlLCBkaXJ0eU9wdGlvbnMpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciB5ZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICAgICAgdmFyIG9wdGlvbnMgPSBkaXJ0eU9wdGlvbnMgfHwge307XG4gICAgICB2YXIgbG9jYWxlID0gb3B0aW9ucy5sb2NhbGU7XG4gICAgICB2YXIgbG9jYWxlRmlyc3RXZWVrQ29udGFpbnNEYXRlID0gbG9jYWxlICYmIGxvY2FsZS5vcHRpb25zICYmIGxvY2FsZS5vcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZTtcbiAgICAgIHZhciBkZWZhdWx0Rmlyc3RXZWVrQ29udGFpbnNEYXRlID0gbG9jYWxlRmlyc3RXZWVrQ29udGFpbnNEYXRlID09IG51bGwgPyAxIDogKDAsIF9pbmRleDQuZGVmYXVsdCkobG9jYWxlRmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgICAgIHZhciBmaXJzdFdlZWtDb250YWluc0RhdGUgPSBvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9PSBudWxsID8gZGVmYXVsdEZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA6ICgwLCBfaW5kZXg0LmRlZmF1bHQpKG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgICAgIGlmICghKGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA+PSAxICYmIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA8PSA3KSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcImZpcnN0V2Vla0NvbnRhaW5zRGF0ZSBtdXN0IGJlIGJldHdlZW4gMSBhbmQgNyBpbmNsdXNpdmVseVwiKTtcbiAgICAgIH1cbiAgICAgIHZhciBmaXJzdFdlZWtPZk5leHRZZWFyID0gbmV3IERhdGUoMCk7XG4gICAgICBmaXJzdFdlZWtPZk5leHRZZWFyLnNldFVUQ0Z1bGxZZWFyKHllYXIgKyAxLCAwLCBmaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICAgICAgZmlyc3RXZWVrT2ZOZXh0WWVhci5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIHZhciBzdGFydE9mTmV4dFllYXIgPSAoMCwgX2luZGV4My5kZWZhdWx0KShmaXJzdFdlZWtPZk5leHRZZWFyLCBkaXJ0eU9wdGlvbnMpO1xuICAgICAgdmFyIGZpcnN0V2Vla09mVGhpc1llYXIgPSBuZXcgRGF0ZSgwKTtcbiAgICAgIGZpcnN0V2Vla09mVGhpc1llYXIuc2V0VVRDRnVsbFllYXIoeWVhciwgMCwgZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgICAgIGZpcnN0V2Vla09mVGhpc1llYXIuc2V0VVRDSG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICB2YXIgc3RhcnRPZlRoaXNZZWFyID0gKDAsIF9pbmRleDMuZGVmYXVsdCkoZmlyc3RXZWVrT2ZUaGlzWWVhciwgZGlydHlPcHRpb25zKTtcbiAgICAgIGlmIChkYXRlLmdldFRpbWUoKSA+PSBzdGFydE9mTmV4dFllYXIuZ2V0VGltZSgpKSB7XG4gICAgICAgIHJldHVybiB5ZWFyICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoZGF0ZS5nZXRUaW1lKCkgPj0gc3RhcnRPZlRoaXNZZWFyLmdldFRpbWUoKSkge1xuICAgICAgICByZXR1cm4geWVhcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB5ZWFyIC0gMTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9zdGFydE9mVVRDV2Vla1llYXIvaW5kZXguanNcbnZhciByZXF1aXJlX3N0YXJ0T2ZVVENXZWVrWWVhciA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL3N0YXJ0T2ZVVENXZWVrWWVhci9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBzdGFydE9mVVRDV2Vla1llYXI7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9nZXRVVENXZWVrWWVhcigpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfc3RhcnRPZlVUQ1dlZWsoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRPZlVUQ1dlZWtZZWFyKGRpcnR5RGF0ZSwgZGlydHlPcHRpb25zKSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIG9wdGlvbnMgPSBkaXJ0eU9wdGlvbnMgfHwge307XG4gICAgICB2YXIgbG9jYWxlID0gb3B0aW9ucy5sb2NhbGU7XG4gICAgICB2YXIgbG9jYWxlRmlyc3RXZWVrQ29udGFpbnNEYXRlID0gbG9jYWxlICYmIGxvY2FsZS5vcHRpb25zICYmIGxvY2FsZS5vcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZTtcbiAgICAgIHZhciBkZWZhdWx0Rmlyc3RXZWVrQ29udGFpbnNEYXRlID0gbG9jYWxlRmlyc3RXZWVrQ29udGFpbnNEYXRlID09IG51bGwgPyAxIDogKDAsIF9pbmRleDQuZGVmYXVsdCkobG9jYWxlRmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgICAgIHZhciBmaXJzdFdlZWtDb250YWluc0RhdGUgPSBvcHRpb25zLmZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9PSBudWxsID8gZGVmYXVsdEZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA6ICgwLCBfaW5kZXg0LmRlZmF1bHQpKG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgICAgIHZhciB5ZWFyID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUsIGRpcnR5T3B0aW9ucyk7XG4gICAgICB2YXIgZmlyc3RXZWVrID0gbmV3IERhdGUoMCk7XG4gICAgICBmaXJzdFdlZWsuc2V0VVRDRnVsbFllYXIoeWVhciwgMCwgZmlyc3RXZWVrQ29udGFpbnNEYXRlKTtcbiAgICAgIGZpcnN0V2Vlay5zZXRVVENIb3VycygwLCAwLCAwLCAwKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleDMuZGVmYXVsdCkoZmlyc3RXZWVrLCBkaXJ0eU9wdGlvbnMpO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VVRDV2Vlay9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0VVRDV2VlayA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2dldFVUQ1dlZWsvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZ2V0VVRDV2VlaztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9zdGFydE9mVVRDV2VlaygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9zdGFydE9mVVRDV2Vla1llYXIoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgdmFyIE1JTExJU0VDT05EU19JTl9XRUVLID0gNjA0OGU1O1xuICAgIGZ1bmN0aW9uIGdldFVUQ1dlZWsoZGlydHlEYXRlLCBvcHRpb25zKSB7XG4gICAgICAoMCwgX2luZGV4NC5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgZGlmZiA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRhdGUsIG9wdGlvbnMpLmdldFRpbWUoKSAtICgwLCBfaW5kZXgzLmRlZmF1bHQpKGRhdGUsIG9wdGlvbnMpLmdldFRpbWUoKTtcbiAgICAgIHJldHVybiBNYXRoLnJvdW5kKGRpZmYgLyBNSUxMSVNFQ09ORFNfSU5fV0VFSykgKyAxO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2FkZExlYWRpbmdaZXJvcy9pbmRleC5qc1xudmFyIHJlcXVpcmVfYWRkTGVhZGluZ1plcm9zID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvYWRkTGVhZGluZ1plcm9zL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGFkZExlYWRpbmdaZXJvcztcbiAgICBmdW5jdGlvbiBhZGRMZWFkaW5nWmVyb3MobnVtYmVyLCB0YXJnZXRMZW5ndGgpIHtcbiAgICAgIHZhciBzaWduID0gbnVtYmVyIDwgMCA/IFwiLVwiIDogXCJcIjtcbiAgICAgIHZhciBvdXRwdXQgPSBNYXRoLmFicyhudW1iZXIpLnRvU3RyaW5nKCk7XG4gICAgICB3aGlsZSAob3V0cHV0Lmxlbmd0aCA8IHRhcmdldExlbmd0aCkge1xuICAgICAgICBvdXRwdXQgPSBcIjBcIiArIG91dHB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzaWduICsgb3V0cHV0O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2Zvcm1hdC9saWdodEZvcm1hdHRlcnMvaW5kZXguanNcbnZhciByZXF1aXJlX2xpZ2h0Rm9ybWF0dGVycyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2Zvcm1hdC9saWdodEZvcm1hdHRlcnMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfYWRkTGVhZGluZ1plcm9zKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgdmFyIGZvcm1hdHRlcnMgPSB7XG4gICAgICB5OiBmdW5jdGlvbihkYXRlLCB0b2tlbikge1xuICAgICAgICB2YXIgc2lnbmVkWWVhciA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKTtcbiAgICAgICAgdmFyIHllYXIgPSBzaWduZWRZZWFyID4gMCA/IHNpZ25lZFllYXIgOiAxIC0gc2lnbmVkWWVhcjtcbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXguZGVmYXVsdCkodG9rZW4gPT09IFwieXlcIiA/IHllYXIgJSAxMDAgOiB5ZWFyLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIE06IGZ1bmN0aW9uKGRhdGUsIHRva2VuKSB7XG4gICAgICAgIHZhciBtb250aCA9IGRhdGUuZ2V0VVRDTW9udGgoKTtcbiAgICAgICAgcmV0dXJuIHRva2VuID09PSBcIk1cIiA/IFN0cmluZyhtb250aCArIDEpIDogKDAsIF9pbmRleC5kZWZhdWx0KShtb250aCArIDEsIDIpO1xuICAgICAgfSxcbiAgICAgIGQ6IGZ1bmN0aW9uKGRhdGUsIHRva2VuKSB7XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4LmRlZmF1bHQpKGRhdGUuZ2V0VVRDRGF0ZSgpLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIGE6IGZ1bmN0aW9uKGRhdGUsIHRva2VuKSB7XG4gICAgICAgIHZhciBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXRlLmdldFVUQ0hvdXJzKCkgLyAxMiA+PSAxID8gXCJwbVwiIDogXCJhbVwiO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICBjYXNlIFwiYWFcIjpcbiAgICAgICAgICAgIHJldHVybiBkYXlQZXJpb2RFbnVtVmFsdWUudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICBjYXNlIFwiYWFhXCI6XG4gICAgICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlO1xuICAgICAgICAgIGNhc2UgXCJhYWFhYVwiOlxuICAgICAgICAgICAgcmV0dXJuIGRheVBlcmlvZEVudW1WYWx1ZVswXTtcbiAgICAgICAgICBjYXNlIFwiYWFhYVwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZGF5UGVyaW9kRW51bVZhbHVlID09PSBcImFtXCIgPyBcImEubS5cIiA6IFwicC5tLlwiO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZS5nZXRVVENIb3VycygpICUgMTIgfHwgMTIsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgSDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZS5nZXRVVENIb3VycygpLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIG06IGZ1bmN0aW9uKGRhdGUsIHRva2VuKSB7XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4LmRlZmF1bHQpKGRhdGUuZ2V0VVRDTWludXRlcygpLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIHM6IGZ1bmN0aW9uKGRhdGUsIHRva2VuKSB7XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4LmRlZmF1bHQpKGRhdGUuZ2V0VVRDU2Vjb25kcygpLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIFM6IGZ1bmN0aW9uKGRhdGUsIHRva2VuKSB7XG4gICAgICAgIHZhciBudW1iZXJPZkRpZ2l0cyA9IHRva2VuLmxlbmd0aDtcbiAgICAgICAgdmFyIG1pbGxpc2Vjb25kcyA9IGRhdGUuZ2V0VVRDTWlsbGlzZWNvbmRzKCk7XG4gICAgICAgIHZhciBmcmFjdGlvbmFsU2Vjb25kcyA9IE1hdGguZmxvb3IobWlsbGlzZWNvbmRzICogTWF0aC5wb3coMTAsIG51bWJlck9mRGlnaXRzIC0gMykpO1xuICAgICAgICByZXR1cm4gKDAsIF9pbmRleC5kZWZhdWx0KShmcmFjdGlvbmFsU2Vjb25kcywgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBfZGVmYXVsdCA9IGZvcm1hdHRlcnM7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9mb3JtYXQvZm9ybWF0dGVycy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZm9ybWF0dGVycyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2Zvcm1hdC9mb3JtYXR0ZXJzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2dldFVUQ0RheU9mWWVhcigpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9nZXRVVENJU09XZWVrKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2dldFVUQ0lTT1dlZWtZZWFyKCkpO1xuICAgIHZhciBfaW5kZXg0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2dldFVUQ1dlZWsoKSk7XG4gICAgdmFyIF9pbmRleDUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZ2V0VVRDV2Vla1llYXIoKSk7XG4gICAgdmFyIF9pbmRleDYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfYWRkTGVhZGluZ1plcm9zKCkpO1xuICAgIHZhciBfaW5kZXg3ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2xpZ2h0Rm9ybWF0dGVycygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIHZhciBkYXlQZXJpb2RFbnVtID0ge1xuICAgICAgYW06IFwiYW1cIixcbiAgICAgIHBtOiBcInBtXCIsXG4gICAgICBtaWRuaWdodDogXCJtaWRuaWdodFwiLFxuICAgICAgbm9vbjogXCJub29uXCIsXG4gICAgICBtb3JuaW5nOiBcIm1vcm5pbmdcIixcbiAgICAgIGFmdGVybm9vbjogXCJhZnRlcm5vb25cIixcbiAgICAgIGV2ZW5pbmc6IFwiZXZlbmluZ1wiLFxuICAgICAgbmlnaHQ6IFwibmlnaHRcIlxuICAgIH07XG4gICAgdmFyIGZvcm1hdHRlcnMgPSB7XG4gICAgICBHOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgdmFyIGVyYSA9IGRhdGUuZ2V0VVRDRnVsbFllYXIoKSA+IDAgPyAxIDogMDtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJHXCI6XG4gICAgICAgICAgY2FzZSBcIkdHXCI6XG4gICAgICAgICAgY2FzZSBcIkdHR1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmVyYShlcmEsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIkdHR0dHXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZXJhKGVyYSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIkdHR0dcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmVyYShlcmEsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwid2lkZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHk6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICBpZiAodG9rZW4gPT09IFwieW9cIikge1xuICAgICAgICAgIHZhciBzaWduZWRZZWFyID0gZGF0ZS5nZXRVVENGdWxsWWVhcigpO1xuICAgICAgICAgIHZhciB5ZWFyID0gc2lnbmVkWWVhciA+IDAgPyBzaWduZWRZZWFyIDogMSAtIHNpZ25lZFllYXI7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoeWVhciwge1xuICAgICAgICAgICAgdW5pdDogXCJ5ZWFyXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2luZGV4Ny5kZWZhdWx0LnkoZGF0ZSwgdG9rZW4pO1xuICAgICAgfSxcbiAgICAgIFk6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2lnbmVkV2Vla1llYXIgPSAoMCwgX2luZGV4NS5kZWZhdWx0KShkYXRlLCBvcHRpb25zKTtcbiAgICAgICAgdmFyIHdlZWtZZWFyID0gc2lnbmVkV2Vla1llYXIgPiAwID8gc2lnbmVkV2Vla1llYXIgOiAxIC0gc2lnbmVkV2Vla1llYXI7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJZWVwiKSB7XG4gICAgICAgICAgdmFyIHR3b0RpZ2l0WWVhciA9IHdlZWtZZWFyICUgMTAwO1xuICAgICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KSh0d29EaWdpdFllYXIsIDIpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJZb1wiKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIod2Vla1llYXIsIHtcbiAgICAgICAgICAgIHVuaXQ6IFwieWVhclwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKHdlZWtZZWFyLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIFI6IGZ1bmN0aW9uKGRhdGUsIHRva2VuKSB7XG4gICAgICAgIHZhciBpc29XZWVrWWVhciA9ICgwLCBfaW5kZXgzLmRlZmF1bHQpKGRhdGUpO1xuICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkoaXNvV2Vla1llYXIsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgdTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgdmFyIHllYXIgPSBkYXRlLmdldFVUQ0Z1bGxZZWFyKCk7XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KSh5ZWFyLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIFE6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICB2YXIgcXVhcnRlciA9IE1hdGguY2VpbCgoZGF0ZS5nZXRVVENNb250aCgpICsgMSkgLyAzKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJRXCI6XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHF1YXJ0ZXIpO1xuICAgICAgICAgIGNhc2UgXCJRUVwiOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKHF1YXJ0ZXIsIDIpO1xuICAgICAgICAgIGNhc2UgXCJRb1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIocXVhcnRlciwge1xuICAgICAgICAgICAgICB1bml0OiBcInF1YXJ0ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIlFRUVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIlFRUVFRXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIlFRUVFcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHE6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICB2YXIgcXVhcnRlciA9IE1hdGguY2VpbCgoZGF0ZS5nZXRVVENNb250aCgpICsgMSkgLyAzKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJxXCI6XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHF1YXJ0ZXIpO1xuICAgICAgICAgIGNhc2UgXCJxcVwiOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKHF1YXJ0ZXIsIDIpO1xuICAgICAgICAgIGNhc2UgXCJxb1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIocXVhcnRlciwge1xuICAgICAgICAgICAgICB1bml0OiBcInF1YXJ0ZXJcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcInFxcVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcInFxcXFxXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUucXVhcnRlcihxdWFydGVyLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcInFxcXFcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLnF1YXJ0ZXIocXVhcnRlciwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIE06IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICB2YXIgbW9udGggPSBkYXRlLmdldFVUQ01vbnRoKCk7XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgIGNhc2UgXCJNTVwiOlxuICAgICAgICAgICAgcmV0dXJuIF9pbmRleDcuZGVmYXVsdC5NKGRhdGUsIHRva2VuKTtcbiAgICAgICAgICBjYXNlIFwiTW9cIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKG1vbnRoICsgMSwge1xuICAgICAgICAgICAgICB1bml0OiBcIm1vbnRoXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJNTU1cIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIk1NTU1NXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiTU1NTVwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUubW9udGgobW9udGgsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBMOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgdmFyIG1vbnRoID0gZGF0ZS5nZXRVVENNb250aCgpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcobW9udGggKyAxKTtcbiAgICAgICAgICBjYXNlIFwiTExcIjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KShtb250aCArIDEsIDIpO1xuICAgICAgICAgIGNhc2UgXCJMb1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIobW9udGggKyAxLCB7XG4gICAgICAgICAgICAgIHVuaXQ6IFwibW9udGhcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIkxMTFwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm1vbnRoKG1vbnRoLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiTExMTExcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJMTExMXCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5tb250aChtb250aCwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIHc6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgd2VlayA9ICgwLCBfaW5kZXg0LmRlZmF1bHQpKGRhdGUsIG9wdGlvbnMpO1xuICAgICAgICBpZiAodG9rZW4gPT09IFwid29cIikge1xuICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKHdlZWssIHtcbiAgICAgICAgICAgIHVuaXQ6IFwid2Vla1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKHdlZWssIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgSTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBpc29XZWVrID0gKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZSk7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJJb1wiKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaXNvV2Vlaywge1xuICAgICAgICAgICAgdW5pdDogXCJ3ZWVrXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkoaXNvV2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgICAgIH0sXG4gICAgICBkOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgaWYgKHRva2VuID09PSBcImRvXCIpIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihkYXRlLmdldFVUQ0RhdGUoKSwge1xuICAgICAgICAgICAgdW5pdDogXCJkYXRlXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2luZGV4Ny5kZWZhdWx0LmQoZGF0ZSwgdG9rZW4pO1xuICAgICAgfSxcbiAgICAgIEQ6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICB2YXIgZGF5T2ZZZWFyID0gKDAsIF9pbmRleC5kZWZhdWx0KShkYXRlKTtcbiAgICAgICAgaWYgKHRva2VuID09PSBcIkRvXCIpIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihkYXlPZlllYXIsIHtcbiAgICAgICAgICAgIHVuaXQ6IFwiZGF5T2ZZZWFyXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkoZGF5T2ZZZWFyLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIEU6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICB2YXIgZGF5T2ZXZWVrID0gZGF0ZS5nZXRVVENEYXkoKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgY2FzZSBcIkVFXCI6XG4gICAgICAgICAgY2FzZSBcIkVFRVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJFRUVFRVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiRUVFRUVFXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5KGRheU9mV2Vlaywge1xuICAgICAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIkVFRUVcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwid2lkZVwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRheU9mV2VlayA9IGRhdGUuZ2V0VVRDRGF5KCk7XG4gICAgICAgIHZhciBsb2NhbERheU9mV2VlayA9IChkYXlPZldlZWsgLSBvcHRpb25zLndlZWtTdGFydHNPbiArIDgpICUgNyB8fCA3O1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcImVcIjpcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcobG9jYWxEYXlPZldlZWspO1xuICAgICAgICAgIGNhc2UgXCJlZVwiOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKGxvY2FsRGF5T2ZXZWVrLCAyKTtcbiAgICAgICAgICBjYXNlIFwiZW9cIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGxvY2FsRGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHVuaXQ6IFwiZGF5XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJlZWVcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiZWVlZWVcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImVlZWVlZVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwic2hvcnRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJlZWVlXCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYzogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBkYXlPZldlZWsgPSBkYXRlLmdldFVUQ0RheSgpO1xuICAgICAgICB2YXIgbG9jYWxEYXlPZldlZWsgPSAoZGF5T2ZXZWVrIC0gb3B0aW9ucy53ZWVrU3RhcnRzT24gKyA4KSAlIDcgfHwgNztcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJjXCI6XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKGxvY2FsRGF5T2ZXZWVrKTtcbiAgICAgICAgICBjYXNlIFwiY2NcIjpcbiAgICAgICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KShsb2NhbERheU9mV2VlaywgdG9rZW4ubGVuZ3RoKTtcbiAgICAgICAgICBjYXNlIFwiY29cIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGxvY2FsRGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHVuaXQ6IFwiZGF5XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJjY2NcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwic3RhbmRhbG9uZVwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiY2NjY2NcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcInN0YW5kYWxvbmVcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImNjY2NjY1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwic2hvcnRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJjY2NjXCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJzdGFuZGFsb25lXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBkYXlPZldlZWsgPSBkYXRlLmdldFVUQ0RheSgpO1xuICAgICAgICB2YXIgaXNvRGF5T2ZXZWVrID0gZGF5T2ZXZWVrID09PSAwID8gNyA6IGRheU9mV2VlaztcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJpXCI6XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKGlzb0RheU9mV2Vlayk7XG4gICAgICAgICAgY2FzZSBcImlpXCI6XG4gICAgICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkoaXNvRGF5T2ZXZWVrLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgICAgIGNhc2UgXCJpb1wiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaXNvRGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHVuaXQ6IFwiZGF5XCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJpaWlcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiaWlpaWlcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIm5hcnJvd1wiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImlpaWlpaVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheShkYXlPZldlZWssIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwic2hvcnRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJpaWlpXCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXkoZGF5T2ZXZWVrLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYTogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0VVRDSG91cnMoKTtcbiAgICAgICAgdmFyIGRheVBlcmlvZEVudW1WYWx1ZSA9IGhvdXJzIC8gMTIgPj0gMSA/IFwicG1cIiA6IFwiYW1cIjtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJhXCI6XG4gICAgICAgICAgY2FzZSBcImFhXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcImFhYVwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgY2FzZSBcImFhYWFhXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJhYWFhXCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgYjogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0VVRDSG91cnMoKTtcbiAgICAgICAgdmFyIGRheVBlcmlvZEVudW1WYWx1ZTtcbiAgICAgICAgaWYgKGhvdXJzID09PSAxMikge1xuICAgICAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubm9vbjtcbiAgICAgICAgfSBlbHNlIGlmIChob3VycyA9PT0gMCkge1xuICAgICAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0ubWlkbmlnaHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gaG91cnMgLyAxMiA+PSAxID8gXCJwbVwiIDogXCJhbVwiO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICBjYXNlIFwiYlwiOlxuICAgICAgICAgIGNhc2UgXCJiYlwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiYWJicmV2aWF0ZWRcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJiYmJcIjpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcImFiYnJldmlhdGVkXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGNhc2UgXCJiYmJiYlwiOlxuICAgICAgICAgICAgcmV0dXJuIGxvY2FsaXplLmRheVBlcmlvZChkYXlQZXJpb2RFbnVtVmFsdWUsIHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwibmFycm93XCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICBjYXNlIFwiYmJiYlwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJ3aWRlXCIsXG4gICAgICAgICAgICAgIGNvbnRleHQ6IFwiZm9ybWF0dGluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIEI6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICB2YXIgaG91cnMgPSBkYXRlLmdldFVUQ0hvdXJzKCk7XG4gICAgICAgIHZhciBkYXlQZXJpb2RFbnVtVmFsdWU7XG4gICAgICAgIGlmIChob3VycyA+PSAxNykge1xuICAgICAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0uZXZlbmluZztcbiAgICAgICAgfSBlbHNlIGlmIChob3VycyA+PSAxMikge1xuICAgICAgICAgIGRheVBlcmlvZEVudW1WYWx1ZSA9IGRheVBlcmlvZEVudW0uYWZ0ZXJub29uO1xuICAgICAgICB9IGVsc2UgaWYgKGhvdXJzID49IDQpIHtcbiAgICAgICAgICBkYXlQZXJpb2RFbnVtVmFsdWUgPSBkYXlQZXJpb2RFbnVtLm1vcm5pbmc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZGF5UGVyaW9kRW51bVZhbHVlID0gZGF5UGVyaW9kRW51bS5uaWdodDtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcIkJcIjpcbiAgICAgICAgICBjYXNlIFwiQkJcIjpcbiAgICAgICAgICBjYXNlIFwiQkJCXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJhYmJyZXZpYXRlZFwiLFxuICAgICAgICAgICAgICBjb250ZXh0OiBcImZvcm1hdHRpbmdcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgY2FzZSBcIkJCQkJCXCI6XG4gICAgICAgICAgICByZXR1cm4gbG9jYWxpemUuZGF5UGVyaW9kKGRheVBlcmlvZEVudW1WYWx1ZSwge1xuICAgICAgICAgICAgICB3aWR0aDogXCJuYXJyb3dcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJCQkJCXCI6XG4gICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5kYXlQZXJpb2QoZGF5UGVyaW9kRW51bVZhbHVlLCB7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIndpZGVcIixcbiAgICAgICAgICAgICAgY29udGV4dDogXCJmb3JtYXR0aW5nXCJcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgaDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJob1wiKSB7XG4gICAgICAgICAgdmFyIGhvdXJzID0gZGF0ZS5nZXRVVENIb3VycygpICUgMTI7XG4gICAgICAgICAgaWYgKGhvdXJzID09PSAwKVxuICAgICAgICAgICAgaG91cnMgPSAxMjtcbiAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihob3Vycywge1xuICAgICAgICAgICAgdW5pdDogXCJob3VyXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2luZGV4Ny5kZWZhdWx0LmgoZGF0ZSwgdG9rZW4pO1xuICAgICAgfSxcbiAgICAgIEg6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICBpZiAodG9rZW4gPT09IFwiSG9cIikge1xuICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRhdGUuZ2V0VVRDSG91cnMoKSwge1xuICAgICAgICAgICAgdW5pdDogXCJob3VyXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gX2luZGV4Ny5kZWZhdWx0LkgoZGF0ZSwgdG9rZW4pO1xuICAgICAgfSxcbiAgICAgIEs6IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICB2YXIgaG91cnMgPSBkYXRlLmdldFVUQ0hvdXJzKCkgJSAxMjtcbiAgICAgICAgaWYgKHRva2VuID09PSBcIktvXCIpIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihob3Vycywge1xuICAgICAgICAgICAgdW5pdDogXCJob3VyXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkoaG91cnMsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgazogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIGxvY2FsaXplKSB7XG4gICAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0VVRDSG91cnMoKTtcbiAgICAgICAgaWYgKGhvdXJzID09PSAwKVxuICAgICAgICAgIGhvdXJzID0gMjQ7XG4gICAgICAgIGlmICh0b2tlbiA9PT0gXCJrb1wiKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsaXplLm9yZGluYWxOdW1iZXIoaG91cnMsIHtcbiAgICAgICAgICAgIHVuaXQ6IFwiaG91clwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICgwLCBfaW5kZXg2LmRlZmF1bHQpKGhvdXJzLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfSxcbiAgICAgIG06IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBsb2NhbGl6ZSkge1xuICAgICAgICBpZiAodG9rZW4gPT09IFwibW9cIikge1xuICAgICAgICAgIHJldHVybiBsb2NhbGl6ZS5vcmRpbmFsTnVtYmVyKGRhdGUuZ2V0VVRDTWludXRlcygpLCB7XG4gICAgICAgICAgICB1bml0OiBcIm1pbnV0ZVwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9pbmRleDcuZGVmYXVsdC5tKGRhdGUsIHRva2VuKTtcbiAgICAgIH0sXG4gICAgICBzOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgbG9jYWxpemUpIHtcbiAgICAgICAgaWYgKHRva2VuID09PSBcInNvXCIpIHtcbiAgICAgICAgICByZXR1cm4gbG9jYWxpemUub3JkaW5hbE51bWJlcihkYXRlLmdldFVUQ1NlY29uZHMoKSwge1xuICAgICAgICAgICAgdW5pdDogXCJzZWNvbmRcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfaW5kZXg3LmRlZmF1bHQucyhkYXRlLCB0b2tlbik7XG4gICAgICB9LFxuICAgICAgUzogZnVuY3Rpb24oZGF0ZSwgdG9rZW4pIHtcbiAgICAgICAgcmV0dXJuIF9pbmRleDcuZGVmYXVsdC5TKGRhdGUsIHRva2VuKTtcbiAgICAgIH0sXG4gICAgICBYOiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgX2xvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbERhdGUgPSBvcHRpb25zLl9vcmlnaW5hbERhdGUgfHwgZGF0ZTtcbiAgICAgICAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gb3JpZ2luYWxEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgICAgIGlmICh0aW1lem9uZU9mZnNldCA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBcIlpcIjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcIlhcIjpcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZVdpdGhPcHRpb25hbE1pbnV0ZXModGltZXpvbmVPZmZzZXQpO1xuICAgICAgICAgIGNhc2UgXCJYWFhYXCI6XG4gICAgICAgICAgY2FzZSBcIlhYXCI6XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQpO1xuICAgICAgICAgIGNhc2UgXCJYWFhYWFwiOlxuICAgICAgICAgIGNhc2UgXCJYWFhcIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB4OiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgX2xvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbERhdGUgPSBvcHRpb25zLl9vcmlnaW5hbERhdGUgfHwgZGF0ZTtcbiAgICAgICAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gb3JpZ2luYWxEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCk7XG4gICAgICAgIHN3aXRjaCAodG9rZW4pIHtcbiAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgcmV0dXJuIGZvcm1hdFRpbWV6b25lV2l0aE9wdGlvbmFsTWludXRlcyh0aW1lem9uZU9mZnNldCk7XG4gICAgICAgICAgY2FzZSBcInh4eHhcIjpcbiAgICAgICAgICBjYXNlIFwieHhcIjpcbiAgICAgICAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCk7XG4gICAgICAgICAgY2FzZSBcInh4eHh4XCI6XG4gICAgICAgICAgY2FzZSBcInh4eFwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gZm9ybWF0VGltZXpvbmUodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIE86IGZ1bmN0aW9uKGRhdGUsIHRva2VuLCBfbG9jYWxpemUsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG9yaWdpbmFsRGF0ZSA9IG9wdGlvbnMuX29yaWdpbmFsRGF0ZSB8fCBkYXRlO1xuICAgICAgICB2YXIgdGltZXpvbmVPZmZzZXQgPSBvcmlnaW5hbERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKTtcbiAgICAgICAgc3dpdGNoICh0b2tlbikge1xuICAgICAgICAgIGNhc2UgXCJPXCI6XG4gICAgICAgICAgY2FzZSBcIk9PXCI6XG4gICAgICAgICAgY2FzZSBcIk9PT1wiOlxuICAgICAgICAgICAgcmV0dXJuIFwiR01UXCIgKyBmb3JtYXRUaW1lem9uZVNob3J0KHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgICAgICAgY2FzZSBcIk9PT09cIjpcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIFwiR01UXCIgKyBmb3JtYXRUaW1lem9uZSh0aW1lem9uZU9mZnNldCwgXCI6XCIpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgejogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3JpZ2luYWxEYXRlID0gb3B0aW9ucy5fb3JpZ2luYWxEYXRlIHx8IGRhdGU7XG4gICAgICAgIHZhciB0aW1lem9uZU9mZnNldCA9IG9yaWdpbmFsRGF0ZS5nZXRUaW1lem9uZU9mZnNldCgpO1xuICAgICAgICBzd2l0Y2ggKHRva2VuKSB7XG4gICAgICAgICAgY2FzZSBcInpcIjpcbiAgICAgICAgICBjYXNlIFwienpcIjpcbiAgICAgICAgICBjYXNlIFwienp6XCI6XG4gICAgICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lU2hvcnQodGltZXpvbmVPZmZzZXQsIFwiOlwiKTtcbiAgICAgICAgICBjYXNlIFwienp6elwiOlxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gXCJHTVRcIiArIGZvcm1hdFRpbWV6b25lKHRpbWV6b25lT2Zmc2V0LCBcIjpcIik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICB0OiBmdW5jdGlvbihkYXRlLCB0b2tlbiwgX2xvY2FsaXplLCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBvcmlnaW5hbERhdGUgPSBvcHRpb25zLl9vcmlnaW5hbERhdGUgfHwgZGF0ZTtcbiAgICAgICAgdmFyIHRpbWVzdGFtcCA9IE1hdGguZmxvb3Iob3JpZ2luYWxEYXRlLmdldFRpbWUoKSAvIDFlMyk7XG4gICAgICAgIHJldHVybiAoMCwgX2luZGV4Ni5kZWZhdWx0KSh0aW1lc3RhbXAsIHRva2VuLmxlbmd0aCk7XG4gICAgICB9LFxuICAgICAgVDogZnVuY3Rpb24oZGF0ZSwgdG9rZW4sIF9sb2NhbGl6ZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgb3JpZ2luYWxEYXRlID0gb3B0aW9ucy5fb3JpZ2luYWxEYXRlIHx8IGRhdGU7XG4gICAgICAgIHZhciB0aW1lc3RhbXAgPSBvcmlnaW5hbERhdGUuZ2V0VGltZSgpO1xuICAgICAgICByZXR1cm4gKDAsIF9pbmRleDYuZGVmYXVsdCkodGltZXN0YW1wLCB0b2tlbi5sZW5ndGgpO1xuICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gZm9ybWF0VGltZXpvbmVTaG9ydChvZmZzZXQsIGRpcnR5RGVsaW1pdGVyKSB7XG4gICAgICB2YXIgc2lnbiA9IG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiO1xuICAgICAgdmFyIGFic09mZnNldCA9IE1hdGguYWJzKG9mZnNldCk7XG4gICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKGFic09mZnNldCAvIDYwKTtcbiAgICAgIHZhciBtaW51dGVzID0gYWJzT2Zmc2V0ICUgNjA7XG4gICAgICBpZiAobWludXRlcyA9PT0gMCkge1xuICAgICAgICByZXR1cm4gc2lnbiArIFN0cmluZyhob3Vycyk7XG4gICAgICB9XG4gICAgICB2YXIgZGVsaW1pdGVyID0gZGlydHlEZWxpbWl0ZXIgfHwgXCJcIjtcbiAgICAgIHJldHVybiBzaWduICsgU3RyaW5nKGhvdXJzKSArIGRlbGltaXRlciArICgwLCBfaW5kZXg2LmRlZmF1bHQpKG1pbnV0ZXMsIDIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBmb3JtYXRUaW1lem9uZVdpdGhPcHRpb25hbE1pbnV0ZXMob2Zmc2V0LCBkaXJ0eURlbGltaXRlcikge1xuICAgICAgaWYgKG9mZnNldCAlIDYwID09PSAwKSB7XG4gICAgICAgIHZhciBzaWduID0gb2Zmc2V0ID4gMCA/IFwiLVwiIDogXCIrXCI7XG4gICAgICAgIHJldHVybiBzaWduICsgKDAsIF9pbmRleDYuZGVmYXVsdCkoTWF0aC5hYnMob2Zmc2V0KSAvIDYwLCAyKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmb3JtYXRUaW1lem9uZShvZmZzZXQsIGRpcnR5RGVsaW1pdGVyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZm9ybWF0VGltZXpvbmUob2Zmc2V0LCBkaXJ0eURlbGltaXRlcikge1xuICAgICAgdmFyIGRlbGltaXRlciA9IGRpcnR5RGVsaW1pdGVyIHx8IFwiXCI7XG4gICAgICB2YXIgc2lnbiA9IG9mZnNldCA+IDAgPyBcIi1cIiA6IFwiK1wiO1xuICAgICAgdmFyIGFic09mZnNldCA9IE1hdGguYWJzKG9mZnNldCk7XG4gICAgICB2YXIgaG91cnMgPSAoMCwgX2luZGV4Ni5kZWZhdWx0KShNYXRoLmZsb29yKGFic09mZnNldCAvIDYwKSwgMik7XG4gICAgICB2YXIgbWludXRlcyA9ICgwLCBfaW5kZXg2LmRlZmF1bHQpKGFic09mZnNldCAlIDYwLCAyKTtcbiAgICAgIHJldHVybiBzaWduICsgaG91cnMgKyBkZWxpbWl0ZXIgKyBtaW51dGVzO1xuICAgIH1cbiAgICB2YXIgX2RlZmF1bHQgPSBmb3JtYXR0ZXJzO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZm9ybWF0L2xvbmdGb3JtYXR0ZXJzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9sb25nRm9ybWF0dGVycyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2Zvcm1hdC9sb25nRm9ybWF0dGVycy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG4gICAgZnVuY3Rpb24gZGF0ZUxvbmdGb3JtYXR0ZXIocGF0dGVybiwgZm9ybWF0TG9uZykge1xuICAgICAgc3dpdGNoIChwYXR0ZXJuKSB7XG4gICAgICAgIGNhc2UgXCJQXCI6XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdExvbmcuZGF0ZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgXCJQUFwiOlxuICAgICAgICAgIHJldHVybiBmb3JtYXRMb25nLmRhdGUoe1xuICAgICAgICAgICAgd2lkdGg6IFwibWVkaXVtXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcIlBQUFwiOlxuICAgICAgICAgIHJldHVybiBmb3JtYXRMb25nLmRhdGUoe1xuICAgICAgICAgICAgd2lkdGg6IFwibG9uZ1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgXCJQUFBQXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdExvbmcuZGF0ZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJmdWxsXCJcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gdGltZUxvbmdGb3JtYXR0ZXIocGF0dGVybiwgZm9ybWF0TG9uZykge1xuICAgICAgc3dpdGNoIChwYXR0ZXJuKSB7XG4gICAgICAgIGNhc2UgXCJwXCI6XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiXG4gICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgXCJwcFwiOlxuICAgICAgICAgIHJldHVybiBmb3JtYXRMb25nLnRpbWUoe1xuICAgICAgICAgICAgd2lkdGg6IFwibWVkaXVtXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgY2FzZSBcInBwcFwiOlxuICAgICAgICAgIHJldHVybiBmb3JtYXRMb25nLnRpbWUoe1xuICAgICAgICAgICAgd2lkdGg6IFwibG9uZ1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIGNhc2UgXCJwcHBwXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGZvcm1hdExvbmcudGltZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJmdWxsXCJcbiAgICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGF0ZVRpbWVMb25nRm9ybWF0dGVyKHBhdHRlcm4sIGZvcm1hdExvbmcpIHtcbiAgICAgIHZhciBtYXRjaFJlc3VsdCA9IHBhdHRlcm4ubWF0Y2goLyhQKykocCspPy8pIHx8IFtdO1xuICAgICAgdmFyIGRhdGVQYXR0ZXJuID0gbWF0Y2hSZXN1bHRbMV07XG4gICAgICB2YXIgdGltZVBhdHRlcm4gPSBtYXRjaFJlc3VsdFsyXTtcbiAgICAgIGlmICghdGltZVBhdHRlcm4pIHtcbiAgICAgICAgcmV0dXJuIGRhdGVMb25nRm9ybWF0dGVyKHBhdHRlcm4sIGZvcm1hdExvbmcpO1xuICAgICAgfVxuICAgICAgdmFyIGRhdGVUaW1lRm9ybWF0O1xuICAgICAgc3dpdGNoIChkYXRlUGF0dGVybikge1xuICAgICAgICBjYXNlIFwiUFwiOlxuICAgICAgICAgIGRhdGVUaW1lRm9ybWF0ID0gZm9ybWF0TG9uZy5kYXRlVGltZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJzaG9ydFwiXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJQUFwiOlxuICAgICAgICAgIGRhdGVUaW1lRm9ybWF0ID0gZm9ybWF0TG9uZy5kYXRlVGltZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJtZWRpdW1cIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUFBQXCI6XG4gICAgICAgICAgZGF0ZVRpbWVGb3JtYXQgPSBmb3JtYXRMb25nLmRhdGVUaW1lKHtcbiAgICAgICAgICAgIHdpZHRoOiBcImxvbmdcIlxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiUFBQUFwiOlxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGRhdGVUaW1lRm9ybWF0ID0gZm9ybWF0TG9uZy5kYXRlVGltZSh7XG4gICAgICAgICAgICB3aWR0aDogXCJmdWxsXCJcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHJldHVybiBkYXRlVGltZUZvcm1hdC5yZXBsYWNlKFwie3tkYXRlfX1cIiwgZGF0ZUxvbmdGb3JtYXR0ZXIoZGF0ZVBhdHRlcm4sIGZvcm1hdExvbmcpKS5yZXBsYWNlKFwie3t0aW1lfX1cIiwgdGltZUxvbmdGb3JtYXR0ZXIodGltZVBhdHRlcm4sIGZvcm1hdExvbmcpKTtcbiAgICB9XG4gICAgdmFyIGxvbmdGb3JtYXR0ZXJzID0ge1xuICAgICAgcDogdGltZUxvbmdGb3JtYXR0ZXIsXG4gICAgICBQOiBkYXRlVGltZUxvbmdGb3JtYXR0ZXJcbiAgICB9O1xuICAgIHZhciBfZGVmYXVsdCA9IGxvbmdGb3JtYXR0ZXJzO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9fbGliL2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcztcbiAgICBmdW5jdGlvbiBnZXRUaW1lem9uZU9mZnNldEluTWlsbGlzZWNvbmRzKGRhdGUpIHtcbiAgICAgIHZhciB1dGNEYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMoZGF0ZS5nZXRGdWxsWWVhcigpLCBkYXRlLmdldE1vbnRoKCksIGRhdGUuZ2V0RGF0ZSgpLCBkYXRlLmdldEhvdXJzKCksIGRhdGUuZ2V0TWludXRlcygpLCBkYXRlLmdldFNlY29uZHMoKSwgZGF0ZS5nZXRNaWxsaXNlY29uZHMoKSkpO1xuICAgICAgdXRjRGF0ZS5zZXRVVENGdWxsWWVhcihkYXRlLmdldEZ1bGxZZWFyKCkpO1xuICAgICAgcmV0dXJuIGRhdGUuZ2V0VGltZSgpIC0gdXRjRGF0ZS5nZXRUaW1lKCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvcHJvdGVjdGVkVG9rZW5zL2luZGV4LmpzXG52YXIgcmVxdWlyZV9wcm90ZWN0ZWRUb2tlbnMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9wcm90ZWN0ZWRUb2tlbnMvaW5kZXguanNcIihleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuaXNQcm90ZWN0ZWREYXlPZlllYXJUb2tlbiA9IGlzUHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW47XG4gICAgZXhwb3J0cy5pc1Byb3RlY3RlZFdlZWtZZWFyVG9rZW4gPSBpc1Byb3RlY3RlZFdlZWtZZWFyVG9rZW47XG4gICAgZXhwb3J0cy50aHJvd1Byb3RlY3RlZEVycm9yID0gdGhyb3dQcm90ZWN0ZWRFcnJvcjtcbiAgICB2YXIgcHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW5zID0gW1wiRFwiLCBcIkREXCJdO1xuICAgIHZhciBwcm90ZWN0ZWRXZWVrWWVhclRva2VucyA9IFtcIllZXCIsIFwiWVlZWVwiXTtcbiAgICBmdW5jdGlvbiBpc1Byb3RlY3RlZERheU9mWWVhclRva2VuKHRva2VuKSB7XG4gICAgICByZXR1cm4gcHJvdGVjdGVkRGF5T2ZZZWFyVG9rZW5zLmluZGV4T2YodG9rZW4pICE9PSAtMTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaXNQcm90ZWN0ZWRXZWVrWWVhclRva2VuKHRva2VuKSB7XG4gICAgICByZXR1cm4gcHJvdGVjdGVkV2Vla1llYXJUb2tlbnMuaW5kZXhPZih0b2tlbikgIT09IC0xO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0aHJvd1Byb3RlY3RlZEVycm9yKHRva2VuLCBmb3JtYXQ0LCBpbnB1dCkge1xuICAgICAgaWYgKHRva2VuID09PSBcIllZWVlcIikge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlVzZSBgeXl5eWAgaW5zdGVhZCBvZiBgWVlZWWAgKGluIGBcIi5jb25jYXQoZm9ybWF0NCwgXCJgKSBmb3IgZm9ybWF0dGluZyB5ZWFycyB0byB0aGUgaW5wdXQgYFwiKS5jb25jYXQoaW5wdXQsIFwiYDsgc2VlOiBodHRwczovL2dpdC5pby9meEN5clwiKSk7XG4gICAgICB9IGVsc2UgaWYgKHRva2VuID09PSBcIllZXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJVc2UgYHl5YCBpbnN0ZWFkIG9mIGBZWWAgKGluIGBcIi5jb25jYXQoZm9ybWF0NCwgXCJgKSBmb3IgZm9ybWF0dGluZyB5ZWFycyB0byB0aGUgaW5wdXQgYFwiKS5jb25jYXQoaW5wdXQsIFwiYDsgc2VlOiBodHRwczovL2dpdC5pby9meEN5clwiKSk7XG4gICAgICB9IGVsc2UgaWYgKHRva2VuID09PSBcIkRcIikge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlVzZSBgZGAgaW5zdGVhZCBvZiBgRGAgKGluIGBcIi5jb25jYXQoZm9ybWF0NCwgXCJgKSBmb3IgZm9ybWF0dGluZyBkYXlzIG9mIHRoZSBtb250aCB0byB0aGUgaW5wdXQgYFwiKS5jb25jYXQoaW5wdXQsIFwiYDsgc2VlOiBodHRwczovL2dpdC5pby9meEN5clwiKSk7XG4gICAgICB9IGVsc2UgaWYgKHRva2VuID09PSBcIkREXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJVc2UgYGRkYCBpbnN0ZWFkIG9mIGBERGAgKGluIGBcIi5jb25jYXQoZm9ybWF0NCwgXCJgKSBmb3IgZm9ybWF0dGluZyBkYXlzIG9mIHRoZSBtb250aCB0byB0aGUgaW5wdXQgYFwiKS5jb25jYXQoaW5wdXQsIFwiYDsgc2VlOiBodHRwczovL2dpdC5pby9meEN5clwiKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2Zvcm1hdC9pbmRleC5qc1xudmFyIHJlcXVpcmVfZm9ybWF0ID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2Zvcm1hdC9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBmb3JtYXQ0O1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfaXNWYWxpZCgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9lbl9VUygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9zdWJNaWxsaXNlY29uZHMoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXg1ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2Zvcm1hdHRlcnMoKSk7XG4gICAgdmFyIF9pbmRleDYgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfbG9uZ0Zvcm1hdHRlcnMoKSk7XG4gICAgdmFyIF9pbmRleDcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZ2V0VGltZXpvbmVPZmZzZXRJbk1pbGxpc2Vjb25kcygpKTtcbiAgICB2YXIgX2luZGV4OCA9IHJlcXVpcmVfcHJvdGVjdGVkVG9rZW5zKCk7XG4gICAgdmFyIF9pbmRleDkgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIHZhciBfaW5kZXgxMCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICB2YXIgZm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cCA9IC9beVlRcU1Md0lkRGVjaWhIS2ttc11vfChcXHcpXFwxKnwnJ3wnKCcnfFteJ10pKygnfCQpfC4vZztcbiAgICB2YXIgbG9uZ0Zvcm1hdHRpbmdUb2tlbnNSZWdFeHAgPSAvUCtwK3xQK3xwK3wnJ3wnKCcnfFteJ10pKygnfCQpfC4vZztcbiAgICB2YXIgZXNjYXBlZFN0cmluZ1JlZ0V4cCA9IC9eJyhbXl0qPyknPyQvO1xuICAgIHZhciBkb3VibGVRdW90ZVJlZ0V4cCA9IC8nJy9nO1xuICAgIHZhciB1bmVzY2FwZWRMYXRpbkNoYXJhY3RlclJlZ0V4cCA9IC9bYS16QS1aXS87XG4gICAgZnVuY3Rpb24gZm9ybWF0NChkaXJ0eURhdGUsIGRpcnR5Rm9ybWF0U3RyLCBkaXJ0eU9wdGlvbnMpIHtcbiAgICAgICgwLCBfaW5kZXgxMC5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGZvcm1hdFN0ciA9IFN0cmluZyhkaXJ0eUZvcm1hdFN0cik7XG4gICAgICB2YXIgb3B0aW9ucyA9IGRpcnR5T3B0aW9ucyB8fCB7fTtcbiAgICAgIHZhciBsb2NhbGUgPSBvcHRpb25zLmxvY2FsZSB8fCBfaW5kZXgyLmRlZmF1bHQ7XG4gICAgICB2YXIgbG9jYWxlRmlyc3RXZWVrQ29udGFpbnNEYXRlID0gbG9jYWxlLm9wdGlvbnMgJiYgbG9jYWxlLm9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlO1xuICAgICAgdmFyIGRlZmF1bHRGaXJzdFdlZWtDb250YWluc0RhdGUgPSBsb2NhbGVGaXJzdFdlZWtDb250YWluc0RhdGUgPT0gbnVsbCA/IDEgOiAoMCwgX2luZGV4OS5kZWZhdWx0KShsb2NhbGVGaXJzdFdlZWtDb250YWluc0RhdGUpO1xuICAgICAgdmFyIGZpcnN0V2Vla0NvbnRhaW5zRGF0ZSA9IG9wdGlvbnMuZmlyc3RXZWVrQ29udGFpbnNEYXRlID09IG51bGwgPyBkZWZhdWx0Rmlyc3RXZWVrQ29udGFpbnNEYXRlIDogKDAsIF9pbmRleDkuZGVmYXVsdCkob3B0aW9ucy5maXJzdFdlZWtDb250YWluc0RhdGUpO1xuICAgICAgaWYgKCEoZmlyc3RXZWVrQ29udGFpbnNEYXRlID49IDEgJiYgZmlyc3RXZWVrQ29udGFpbnNEYXRlIDw9IDcpKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiZmlyc3RXZWVrQ29udGFpbnNEYXRlIG11c3QgYmUgYmV0d2VlbiAxIGFuZCA3IGluY2x1c2l2ZWx5XCIpO1xuICAgICAgfVxuICAgICAgdmFyIGxvY2FsZVdlZWtTdGFydHNPbiA9IGxvY2FsZS5vcHRpb25zICYmIGxvY2FsZS5vcHRpb25zLndlZWtTdGFydHNPbjtcbiAgICAgIHZhciBkZWZhdWx0V2Vla1N0YXJ0c09uID0gbG9jYWxlV2Vla1N0YXJ0c09uID09IG51bGwgPyAwIDogKDAsIF9pbmRleDkuZGVmYXVsdCkobG9jYWxlV2Vla1N0YXJ0c09uKTtcbiAgICAgIHZhciB3ZWVrU3RhcnRzT24gPSBvcHRpb25zLndlZWtTdGFydHNPbiA9PSBudWxsID8gZGVmYXVsdFdlZWtTdGFydHNPbiA6ICgwLCBfaW5kZXg5LmRlZmF1bHQpKG9wdGlvbnMud2Vla1N0YXJ0c09uKTtcbiAgICAgIGlmICghKHdlZWtTdGFydHNPbiA+PSAwICYmIHdlZWtTdGFydHNPbiA8PSA2KSkge1xuICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIndlZWtTdGFydHNPbiBtdXN0IGJlIGJldHdlZW4gMCBhbmQgNiBpbmNsdXNpdmVseVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghbG9jYWxlLmxvY2FsaXplKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwibG9jYWxlIG11c3QgY29udGFpbiBsb2NhbGl6ZSBwcm9wZXJ0eVwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghbG9jYWxlLmZvcm1hdExvbmcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJsb2NhbGUgbXVzdCBjb250YWluIGZvcm1hdExvbmcgcHJvcGVydHlcIik7XG4gICAgICB9XG4gICAgICB2YXIgb3JpZ2luYWxEYXRlID0gKDAsIF9pbmRleDQuZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIGlmICghKDAsIF9pbmRleC5kZWZhdWx0KShvcmlnaW5hbERhdGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB0aW1lIHZhbHVlXCIpO1xuICAgICAgfVxuICAgICAgdmFyIHRpbWV6b25lT2Zmc2V0ID0gKDAsIF9pbmRleDcuZGVmYXVsdCkob3JpZ2luYWxEYXRlKTtcbiAgICAgIHZhciB1dGNEYXRlID0gKDAsIF9pbmRleDMuZGVmYXVsdCkob3JpZ2luYWxEYXRlLCB0aW1lem9uZU9mZnNldCk7XG4gICAgICB2YXIgZm9ybWF0dGVyT3B0aW9ucyA9IHtcbiAgICAgICAgZmlyc3RXZWVrQ29udGFpbnNEYXRlLFxuICAgICAgICB3ZWVrU3RhcnRzT24sXG4gICAgICAgIGxvY2FsZSxcbiAgICAgICAgX29yaWdpbmFsRGF0ZTogb3JpZ2luYWxEYXRlXG4gICAgICB9O1xuICAgICAgdmFyIHJlc3VsdCA9IGZvcm1hdFN0ci5tYXRjaChsb25nRm9ybWF0dGluZ1Rva2Vuc1JlZ0V4cCkubWFwKGZ1bmN0aW9uKHN1YnN0cmluZykge1xuICAgICAgICB2YXIgZmlyc3RDaGFyYWN0ZXIgPSBzdWJzdHJpbmdbMF07XG4gICAgICAgIGlmIChmaXJzdENoYXJhY3RlciA9PT0gXCJwXCIgfHwgZmlyc3RDaGFyYWN0ZXIgPT09IFwiUFwiKSB7XG4gICAgICAgICAgdmFyIGxvbmdGb3JtYXR0ZXIgPSBfaW5kZXg2LmRlZmF1bHRbZmlyc3RDaGFyYWN0ZXJdO1xuICAgICAgICAgIHJldHVybiBsb25nRm9ybWF0dGVyKHN1YnN0cmluZywgbG9jYWxlLmZvcm1hdExvbmcsIGZvcm1hdHRlck9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdWJzdHJpbmc7XG4gICAgICB9KS5qb2luKFwiXCIpLm1hdGNoKGZvcm1hdHRpbmdUb2tlbnNSZWdFeHApLm1hcChmdW5jdGlvbihzdWJzdHJpbmcpIHtcbiAgICAgICAgaWYgKHN1YnN0cmluZyA9PT0gXCInJ1wiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiJ1wiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaXJzdENoYXJhY3RlciA9IHN1YnN0cmluZ1swXTtcbiAgICAgICAgaWYgKGZpcnN0Q2hhcmFjdGVyID09PSBcIidcIikge1xuICAgICAgICAgIHJldHVybiBjbGVhbkVzY2FwZWRTdHJpbmcoc3Vic3RyaW5nKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm9ybWF0dGVyID0gX2luZGV4NS5kZWZhdWx0W2ZpcnN0Q2hhcmFjdGVyXTtcbiAgICAgICAgaWYgKGZvcm1hdHRlcikge1xuICAgICAgICAgIGlmICghb3B0aW9ucy51c2VBZGRpdGlvbmFsV2Vla1llYXJUb2tlbnMgJiYgKDAsIF9pbmRleDguaXNQcm90ZWN0ZWRXZWVrWWVhclRva2VuKShzdWJzdHJpbmcpKSB7XG4gICAgICAgICAgICAoMCwgX2luZGV4OC50aHJvd1Byb3RlY3RlZEVycm9yKShzdWJzdHJpbmcsIGRpcnR5Rm9ybWF0U3RyLCBkaXJ0eURhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIW9wdGlvbnMudXNlQWRkaXRpb25hbERheU9mWWVhclRva2VucyAmJiAoMCwgX2luZGV4OC5pc1Byb3RlY3RlZERheU9mWWVhclRva2VuKShzdWJzdHJpbmcpKSB7XG4gICAgICAgICAgICAoMCwgX2luZGV4OC50aHJvd1Byb3RlY3RlZEVycm9yKShzdWJzdHJpbmcsIGRpcnR5Rm9ybWF0U3RyLCBkaXJ0eURhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZm9ybWF0dGVyKHV0Y0RhdGUsIHN1YnN0cmluZywgbG9jYWxlLmxvY2FsaXplLCBmb3JtYXR0ZXJPcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmlyc3RDaGFyYWN0ZXIubWF0Y2godW5lc2NhcGVkTGF0aW5DaGFyYWN0ZXJSZWdFeHApKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJGb3JtYXQgc3RyaW5nIGNvbnRhaW5zIGFuIHVuZXNjYXBlZCBsYXRpbiBhbHBoYWJldCBjaGFyYWN0ZXIgYFwiICsgZmlyc3RDaGFyYWN0ZXIgKyBcImBcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1YnN0cmluZztcbiAgICAgIH0pLmpvaW4oXCJcIik7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBjbGVhbkVzY2FwZWRTdHJpbmcoaW5wdXQpIHtcbiAgICAgIHJldHVybiBpbnB1dC5tYXRjaChlc2NhcGVkU3RyaW5nUmVnRXhwKVsxXS5yZXBsYWNlKGRvdWJsZVF1b3RlUmVnRXhwLCBcIidcIik7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2Zvcm1hdC1udW1iZXIvaW5kZXguanNcbnZhciByZXF1aXJlX2Zvcm1hdF9udW1iZXIgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZm9ybWF0LW51bWJlci9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZm9ybWF0dGVyO1xuICAgIG1vZHVsZS5leHBvcnRzLmRlZmF1bHQgPSBmb3JtYXR0ZXI7XG4gICAgZnVuY3Rpb24gZm9ybWF0dGVyKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgb3B0aW9ucy5uZWdhdGl2ZVR5cGUgPSBvcHRpb25zLm5lZ2F0aXZlVHlwZSB8fCAob3B0aW9ucy5uZWdhdGl2ZSA9PT0gXCJSXCIgPyBcInJpZ2h0XCIgOiBcImxlZnRcIik7XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubmVnYXRpdmVMZWZ0U3ltYm9sICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5uZWdhdGl2ZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwibGVmdFwiOlxuICAgICAgICAgICAgb3B0aW9ucy5uZWdhdGl2ZUxlZnRTeW1ib2wgPSBcIi1cIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJicmFja2V0c1wiOlxuICAgICAgICAgICAgb3B0aW9ucy5uZWdhdGl2ZUxlZnRTeW1ib2wgPSBcIihcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBvcHRpb25zLm5lZ2F0aXZlTGVmdFN5bWJvbCA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0U3ltYm9sICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHN3aXRjaCAob3B0aW9ucy5uZWdhdGl2ZVR5cGUpIHtcbiAgICAgICAgICBjYXNlIFwicmlnaHRcIjpcbiAgICAgICAgICAgIG9wdGlvbnMubmVnYXRpdmVSaWdodFN5bWJvbCA9IFwiLVwiO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImJyYWNrZXRzXCI6XG4gICAgICAgICAgICBvcHRpb25zLm5lZ2F0aXZlUmlnaHRTeW1ib2wgPSBcIilcIjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBvcHRpb25zLm5lZ2F0aXZlUmlnaHRTeW1ib2wgPSBcIlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdGlvbnMubmVnYXRpdmVMZWZ0T3V0ICE9PSBcImJvb2xlYW5cIikge1xuICAgICAgICBvcHRpb25zLm5lZ2F0aXZlTGVmdE91dCA9IG9wdGlvbnMubmVnYXRpdmVPdXQgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm5lZ2F0aXZlUmlnaHRPdXQgIT09IFwiYm9vbGVhblwiKSB7XG4gICAgICAgIG9wdGlvbnMubmVnYXRpdmVSaWdodE91dCA9IG9wdGlvbnMubmVnYXRpdmVPdXQgPT09IGZhbHNlID8gZmFsc2UgOiB0cnVlO1xuICAgICAgfVxuICAgICAgb3B0aW9ucy5wcmVmaXggPSBvcHRpb25zLnByZWZpeCB8fCBcIlwiO1xuICAgICAgb3B0aW9ucy5zdWZmaXggPSBvcHRpb25zLnN1ZmZpeCB8fCBcIlwiO1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLmludGVnZXJTZXBhcmF0b3IgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgb3B0aW9ucy5pbnRlZ2VyU2VwYXJhdG9yID0gdHlwZW9mIG9wdGlvbnMuc2VwYXJhdG9yID09PSBcInN0cmluZ1wiID8gb3B0aW9ucy5zZXBhcmF0b3IgOiBcIixcIjtcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMuZGVjaW1hbHNTZXBhcmF0b3IgPSB0eXBlb2Ygb3B0aW9ucy5kZWNpbWFsc1NlcGFyYXRvciA9PT0gXCJzdHJpbmdcIiA/IG9wdGlvbnMuZGVjaW1hbHNTZXBhcmF0b3IgOiBcIlwiO1xuICAgICAgb3B0aW9ucy5kZWNpbWFsID0gb3B0aW9ucy5kZWNpbWFsIHx8IFwiLlwiO1xuICAgICAgb3B0aW9ucy5wYWRMZWZ0ID0gb3B0aW9ucy5wYWRMZWZ0IHx8IC0xO1xuICAgICAgb3B0aW9ucy5wYWRSaWdodCA9IG9wdGlvbnMucGFkUmlnaHQgfHwgLTE7XG4gICAgICBmdW5jdGlvbiBmb3JtYXQ0KG51bWJlciwgb3ZlcnJpZGVPcHRpb25zKSB7XG4gICAgICAgIG92ZXJyaWRlT3B0aW9ucyA9IG92ZXJyaWRlT3B0aW9ucyB8fCB7fTtcbiAgICAgICAgaWYgKG51bWJlciB8fCBudW1iZXIgPT09IDApIHtcbiAgICAgICAgICBudW1iZXIgPSBcIlwiICsgbnVtYmVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXRwdXQgPSBbXTtcbiAgICAgICAgdmFyIG5lZ2F0aXZlID0gbnVtYmVyLmNoYXJBdCgwKSA9PT0gXCItXCI7XG4gICAgICAgIG51bWJlciA9IG51bWJlci5yZXBsYWNlKC9eXFwtL2csIFwiXCIpO1xuICAgICAgICBpZiAoIW9wdGlvbnMubmVnYXRpdmVMZWZ0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMucHJlZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChvcHRpb25zLm5lZ2F0aXZlTGVmdFN5bWJvbCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdGlvbnMubmVnYXRpdmVMZWZ0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMucHJlZml4KTtcbiAgICAgICAgfVxuICAgICAgICBudW1iZXIgPSBudW1iZXIuc3BsaXQoXCIuXCIpO1xuICAgICAgICBpZiAob3B0aW9ucy5yb3VuZCAhPSBudWxsKVxuICAgICAgICAgIHJvdW5kKG51bWJlciwgb3B0aW9ucy5yb3VuZCk7XG4gICAgICAgIGlmIChvcHRpb25zLnRydW5jYXRlICE9IG51bGwpXG4gICAgICAgICAgbnVtYmVyWzFdID0gdHJ1bmNhdGUobnVtYmVyWzFdLCBvcHRpb25zLnRydW5jYXRlKTtcbiAgICAgICAgaWYgKG9wdGlvbnMucGFkTGVmdCA+IDApXG4gICAgICAgICAgbnVtYmVyWzBdID0gcGFkTGVmdChudW1iZXJbMF0sIG9wdGlvbnMucGFkTGVmdCk7XG4gICAgICAgIGlmIChvcHRpb25zLnBhZFJpZ2h0ID4gMClcbiAgICAgICAgICBudW1iZXJbMV0gPSBwYWRSaWdodChudW1iZXJbMV0sIG9wdGlvbnMucGFkUmlnaHQpO1xuICAgICAgICBpZiAoIW92ZXJyaWRlT3B0aW9ucy5ub1NlcGFyYXRvciAmJiBudW1iZXJbMV0pXG4gICAgICAgICAgbnVtYmVyWzFdID0gYWRkRGVjaW1hbFNlcGFyYXRvcnMobnVtYmVyWzFdLCBvcHRpb25zLmRlY2ltYWxzU2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFvdmVycmlkZU9wdGlvbnMubm9TZXBhcmF0b3IgJiYgbnVtYmVyWzBdKVxuICAgICAgICAgIG51bWJlclswXSA9IGFkZEludGVnZXJTZXBhcmF0b3JzKG51bWJlclswXSwgb3B0aW9ucy5pbnRlZ2VyU2VwYXJhdG9yKTtcbiAgICAgICAgb3V0cHV0LnB1c2gobnVtYmVyWzBdKTtcbiAgICAgICAgaWYgKG51bWJlclsxXSkge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMuZGVjaW1hbCk7XG4gICAgICAgICAgb3V0cHV0LnB1c2gobnVtYmVyWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0aW9ucy5uZWdhdGl2ZVJpZ2h0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMuc3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmVnYXRpdmUpIHtcbiAgICAgICAgICBvdXRwdXQucHVzaChvcHRpb25zLm5lZ2F0aXZlUmlnaHRTeW1ib2wpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0T3V0ICYmICFvdmVycmlkZU9wdGlvbnMubm9Vbml0cykge1xuICAgICAgICAgIG91dHB1dC5wdXNoKG9wdGlvbnMuc3VmZml4KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gb3V0cHV0LmpvaW4oXCJcIik7XG4gICAgICB9XG4gICAgICBmb3JtYXQ0Lm5lZ2F0aXZlID0gb3B0aW9ucy5uZWdhdGl2ZTtcbiAgICAgIGZvcm1hdDQubmVnYXRpdmVPdXQgPSBvcHRpb25zLm5lZ2F0aXZlT3V0O1xuICAgICAgZm9ybWF0NC5uZWdhdGl2ZVR5cGUgPSBvcHRpb25zLm5lZ2F0aXZlVHlwZTtcbiAgICAgIGZvcm1hdDQubmVnYXRpdmVMZWZ0T3V0ID0gb3B0aW9ucy5uZWdhdGl2ZUxlZnRPdXQ7XG4gICAgICBmb3JtYXQ0Lm5lZ2F0aXZlTGVmdFN5bWJvbCA9IG9wdGlvbnMubmVnYXRpdmVMZWZ0U3ltYm9sO1xuICAgICAgZm9ybWF0NC5uZWdhdGl2ZVJpZ2h0T3V0ID0gb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0T3V0O1xuICAgICAgZm9ybWF0NC5uZWdhdGl2ZVJpZ2h0U3ltYm9sID0gb3B0aW9ucy5uZWdhdGl2ZVJpZ2h0U3ltYm9sO1xuICAgICAgZm9ybWF0NC5wcmVmaXggPSBvcHRpb25zLnByZWZpeDtcbiAgICAgIGZvcm1hdDQuc3VmZml4ID0gb3B0aW9ucy5zdWZmaXg7XG4gICAgICBmb3JtYXQ0LnNlcGFyYXRlID0gb3B0aW9ucy5zZXBhcmF0ZTtcbiAgICAgIGZvcm1hdDQuaW50ZWdlclNlcGFyYXRvciA9IG9wdGlvbnMuaW50ZWdlclNlcGFyYXRvcjtcbiAgICAgIGZvcm1hdDQuZGVjaW1hbHNTZXBhcmF0b3IgPSBvcHRpb25zLmRlY2ltYWxzU2VwYXJhdG9yO1xuICAgICAgZm9ybWF0NC5kZWNpbWFsID0gb3B0aW9ucy5kZWNpbWFsO1xuICAgICAgZm9ybWF0NC5wYWRMZWZ0ID0gb3B0aW9ucy5wYWRMZWZ0O1xuICAgICAgZm9ybWF0NC5wYWRSaWdodCA9IG9wdGlvbnMucGFkUmlnaHQ7XG4gICAgICBmb3JtYXQ0LnRydW5jYXRlID0gb3B0aW9ucy50cnVuY2F0ZTtcbiAgICAgIGZvcm1hdDQucm91bmQgPSBvcHRpb25zLnJvdW5kO1xuICAgICAgZnVuY3Rpb24gdW5mb3JtYXQobnVtYmVyLCBhbGxvd2VkU2VwYXJhdG9ycykge1xuICAgICAgICBhbGxvd2VkU2VwYXJhdG9ycyA9IGFsbG93ZWRTZXBhcmF0b3JzIHx8IFtdO1xuICAgICAgICBpZiAob3B0aW9ucy5hbGxvd2VkU2VwYXJhdG9ycykge1xuICAgICAgICAgIG9wdGlvbnMuYWxsb3dlZFNlcGFyYXRvcnMuZm9yRWFjaChmdW5jdGlvbihzKSB7XG4gICAgICAgICAgICBhbGxvd2VkU2VwYXJhdG9ycy5wdXNoKHMpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGFsbG93ZWRTZXBhcmF0b3JzLnB1c2gob3B0aW9ucy5pbnRlZ2VyU2VwYXJhdG9yKTtcbiAgICAgICAgYWxsb3dlZFNlcGFyYXRvcnMucHVzaChvcHRpb25zLmRlY2ltYWxzU2VwYXJhdG9yKTtcbiAgICAgICAgbnVtYmVyID0gbnVtYmVyLnJlcGxhY2Uob3B0aW9ucy5wcmVmaXgsIFwiXCIpO1xuICAgICAgICBudW1iZXIgPSBudW1iZXIucmVwbGFjZShvcHRpb25zLnN1ZmZpeCwgXCJcIik7XG4gICAgICAgIHZhciBuZXdOdW1iZXIgPSBudW1iZXI7XG4gICAgICAgIGRvIHtcbiAgICAgICAgICBudW1iZXIgPSBuZXdOdW1iZXI7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbGxvd2VkU2VwYXJhdG9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmV3TnVtYmVyID0gbmV3TnVtYmVyLnJlcGxhY2UoYWxsb3dlZFNlcGFyYXRvcnNbaV0sIFwiXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAobmV3TnVtYmVyICE9IG51bWJlcik7XG4gICAgICAgIHJldHVybiBudW1iZXI7XG4gICAgICB9XG4gICAgICBmb3JtYXQ0LnVuZm9ybWF0ID0gdW5mb3JtYXQ7XG4gICAgICBmdW5jdGlvbiB2YWxpZGF0ZShudW1iZXIsIGFsbG93ZWRTZXBhcmF0b3JzKSB7XG4gICAgICAgIG51bWJlciA9IHVuZm9ybWF0KG51bWJlciwgYWxsb3dlZFNlcGFyYXRvcnMpO1xuICAgICAgICBudW1iZXIgPSBudW1iZXIuc3BsaXQob3B0aW9ucy5kZWNpbWFsKTtcbiAgICAgICAgaWYgKG51bWJlci5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudHJ1bmNhdGUgIT0gbnVsbCAmJiBudW1iZXJbMV0gJiYgbnVtYmVyWzFdLmxlbmd0aCA+IG9wdGlvbnMudHJ1bmNhdGUpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5yb3VuZCAhPSBudWxsICYmIG51bWJlclsxXSAmJiBudW1iZXJbMV0ubGVuZ3RoID4gb3B0aW9ucy5yb3VuZCkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gL14tP1xcZCtcXC4/XFxkKiQvLnRlc3QobnVtYmVyKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZvcm1hdDQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFkZEludGVnZXJTZXBhcmF0b3JzKHgsIHNlcGFyYXRvcikge1xuICAgICAgeCArPSBcIlwiO1xuICAgICAgaWYgKCFzZXBhcmF0b3IpXG4gICAgICAgIHJldHVybiB4O1xuICAgICAgdmFyIHJneCA9IC8oXFxkKykoXFxkezN9KS87XG4gICAgICB3aGlsZSAocmd4LnRlc3QoeCkpIHtcbiAgICAgICAgeCA9IHgucmVwbGFjZShyZ3gsIFwiJDFcIiArIHNlcGFyYXRvciArIFwiJDJcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4geDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRGVjaW1hbFNlcGFyYXRvcnMoeCwgc2VwYXJhdG9yKSB7XG4gICAgICB4ICs9IFwiXCI7XG4gICAgICBpZiAoIXNlcGFyYXRvcilcbiAgICAgICAgcmV0dXJuIHg7XG4gICAgICB2YXIgcmd4ID0gLyhcXGR7M30pKFxcZCspLztcbiAgICAgIHdoaWxlIChyZ3gudGVzdCh4KSkge1xuICAgICAgICB4ID0geC5yZXBsYWNlKHJneCwgXCIkMVwiICsgc2VwYXJhdG9yICsgXCIkMlwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB4O1xuICAgIH1cbiAgICBmdW5jdGlvbiBwYWRMZWZ0KHgsIHBhZGRpbmcpIHtcbiAgICAgIHggPSB4ICsgXCJcIjtcbiAgICAgIHZhciBidWYgPSBbXTtcbiAgICAgIHdoaWxlIChidWYubGVuZ3RoICsgeC5sZW5ndGggPCBwYWRkaW5nKSB7XG4gICAgICAgIGJ1Zi5wdXNoKFwiMFwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBidWYuam9pbihcIlwiKSArIHg7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHBhZFJpZ2h0KHgsIHBhZGRpbmcpIHtcbiAgICAgIGlmICh4KSB7XG4gICAgICAgIHggKz0gXCJcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHggPSBcIlwiO1xuICAgICAgfVxuICAgICAgdmFyIGJ1ZiA9IFtdO1xuICAgICAgd2hpbGUgKGJ1Zi5sZW5ndGggKyB4Lmxlbmd0aCA8IHBhZGRpbmcpIHtcbiAgICAgICAgYnVmLnB1c2goXCIwXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHggKyBidWYuam9pbihcIlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdHJ1bmNhdGUoeCwgbGVuZ3RoKSB7XG4gICAgICBpZiAoeCkge1xuICAgICAgICB4ICs9IFwiXCI7XG4gICAgICB9XG4gICAgICBpZiAoeCAmJiB4Lmxlbmd0aCA+IGxlbmd0aCkge1xuICAgICAgICByZXR1cm4geC5zdWJzdHIoMCwgbGVuZ3RoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiByb3VuZChudW1iZXIsIHBsYWNlcykge1xuICAgICAgaWYgKG51bWJlclsxXSAmJiBwbGFjZXMgPj0gMCAmJiBudW1iZXJbMV0ubGVuZ3RoID4gcGxhY2VzKSB7XG4gICAgICAgIHZhciBkZWNpbSA9IG51bWJlclsxXS5zbGljZSgwLCBwbGFjZXMpO1xuICAgICAgICBpZiAoK251bWJlclsxXS5zdWJzdHIocGxhY2VzLCAxKSA+PSA1KSB7XG4gICAgICAgICAgdmFyIGxlYWRpbmd6ZXJvcyA9IFwiXCI7XG4gICAgICAgICAgd2hpbGUgKGRlY2ltLmNoYXJBdCgwKSA9PT0gXCIwXCIpIHtcbiAgICAgICAgICAgIGxlYWRpbmd6ZXJvcyA9IGxlYWRpbmd6ZXJvcyArIFwiMFwiO1xuICAgICAgICAgICAgZGVjaW0gPSBkZWNpbS5zdWJzdHIoMSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlY2ltID0gK2RlY2ltICsgMSArIFwiXCI7XG4gICAgICAgICAgZGVjaW0gPSBsZWFkaW5nemVyb3MgKyBkZWNpbTtcbiAgICAgICAgICBpZiAoZGVjaW0ubGVuZ3RoID4gcGxhY2VzKSB7XG4gICAgICAgICAgICBudW1iZXJbMF0gPSArbnVtYmVyWzBdICsgK2RlY2ltLmNoYXJBdCgwKSArIFwiXCI7XG4gICAgICAgICAgICBkZWNpbSA9IGRlY2ltLnN1YnN0cmluZygxKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbnVtYmVyWzFdID0gZGVjaW07XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9hZGREYXlzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9hZGREYXlzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZERheXMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gYWRkRGF5cztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvSW50ZWdlcigpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRGF5cyhkaXJ0eURhdGUsIGRpcnR5QW1vdW50KSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIGFtb3VudCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlBbW91bnQpO1xuICAgICAgaWYgKGlzTmFOKGFtb3VudCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgICB9XG4gICAgICBpZiAoIWFtb3VudCkge1xuICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgIH1cbiAgICAgIGRhdGUuc2V0RGF0ZShkYXRlLmdldERhdGUoKSArIGFtb3VudCk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkTW9udGhzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9hZGRNb250aHMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvYWRkTW9udGhzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGFkZE1vbnRocztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvSW50ZWdlcigpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkTW9udGhzKGRpcnR5RGF0ZSwgZGlydHlBbW91bnQpIHtcbiAgICAgICgwLCBfaW5kZXgzLmRlZmF1bHQpKDIsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgYW1vdW50ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eUFtb3VudCk7XG4gICAgICBpZiAoaXNOYU4oYW1vdW50KSkge1xuICAgICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICAgIH1cbiAgICAgIGlmICghYW1vdW50KSB7XG4gICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgfVxuICAgICAgdmFyIGRheU9mTW9udGggPSBkYXRlLmdldERhdGUoKTtcbiAgICAgIHZhciBlbmRPZkRlc2lyZWRNb250aCA9IG5ldyBEYXRlKGRhdGUuZ2V0VGltZSgpKTtcbiAgICAgIGVuZE9mRGVzaXJlZE1vbnRoLnNldE1vbnRoKGRhdGUuZ2V0TW9udGgoKSArIGFtb3VudCArIDEsIDApO1xuICAgICAgdmFyIGRheXNJbk1vbnRoID0gZW5kT2ZEZXNpcmVkTW9udGguZ2V0RGF0ZSgpO1xuICAgICAgaWYgKGRheU9mTW9udGggPj0gZGF5c0luTW9udGgpIHtcbiAgICAgICAgcmV0dXJuIGVuZE9mRGVzaXJlZE1vbnRoO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZS5zZXRGdWxsWWVhcihlbmRPZkRlc2lyZWRNb250aC5nZXRGdWxsWWVhcigpLCBlbmRPZkRlc2lyZWRNb250aC5nZXRNb250aCgpLCBkYXlPZk1vbnRoKTtcbiAgICAgICAgcmV0dXJuIGRhdGU7XG4gICAgICB9XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZC9pbmRleC5qc1xudmFyIHJlcXVpcmVfYWRkID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2FkZC9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBhZGQyO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfYWRkRGF5cygpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9hZGRNb250aHMoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXg0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICB2YXIgX2luZGV4NSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0ludGVnZXIoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhZGQyKGRpcnR5RGF0ZSwgZHVyYXRpb24pIHtcbiAgICAgICgwLCBfaW5kZXg0LmRlZmF1bHQpKDIsIGFyZ3VtZW50cyk7XG4gICAgICBpZiAoIWR1cmF0aW9uIHx8IHR5cGVvZiBkdXJhdGlvbiAhPT0gXCJvYmplY3RcIilcbiAgICAgICAgcmV0dXJuIG5ldyBEYXRlKE5hTik7XG4gICAgICB2YXIgeWVhcnMgPSBkdXJhdGlvbi55ZWFycyA/ICgwLCBfaW5kZXg1LmRlZmF1bHQpKGR1cmF0aW9uLnllYXJzKSA6IDA7XG4gICAgICB2YXIgbW9udGhzID0gZHVyYXRpb24ubW9udGhzID8gKDAsIF9pbmRleDUuZGVmYXVsdCkoZHVyYXRpb24ubW9udGhzKSA6IDA7XG4gICAgICB2YXIgd2Vla3MgPSBkdXJhdGlvbi53ZWVrcyA/ICgwLCBfaW5kZXg1LmRlZmF1bHQpKGR1cmF0aW9uLndlZWtzKSA6IDA7XG4gICAgICB2YXIgZGF5cyA9IGR1cmF0aW9uLmRheXMgPyAoMCwgX2luZGV4NS5kZWZhdWx0KShkdXJhdGlvbi5kYXlzKSA6IDA7XG4gICAgICB2YXIgaG91cnMgPSBkdXJhdGlvbi5ob3VycyA/ICgwLCBfaW5kZXg1LmRlZmF1bHQpKGR1cmF0aW9uLmhvdXJzKSA6IDA7XG4gICAgICB2YXIgbWludXRlcyA9IGR1cmF0aW9uLm1pbnV0ZXMgPyAoMCwgX2luZGV4NS5kZWZhdWx0KShkdXJhdGlvbi5taW51dGVzKSA6IDA7XG4gICAgICB2YXIgc2Vjb25kcyA9IGR1cmF0aW9uLnNlY29uZHMgPyAoMCwgX2luZGV4NS5kZWZhdWx0KShkdXJhdGlvbi5zZWNvbmRzKSA6IDA7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXgzLmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgZGF0ZVdpdGhNb250aHMgPSBtb250aHMgfHwgeWVhcnMgPyAoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlLCBtb250aHMgKyB5ZWFycyAqIDEyKSA6IGRhdGU7XG4gICAgICB2YXIgZGF0ZVdpdGhEYXlzID0gZGF5cyB8fCB3ZWVrcyA/ICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZVdpdGhNb250aHMsIGRheXMgKyB3ZWVrcyAqIDcpIDogZGF0ZVdpdGhNb250aHM7XG4gICAgICB2YXIgbWludXRlc1RvQWRkID0gbWludXRlcyArIGhvdXJzICogNjA7XG4gICAgICB2YXIgc2Vjb25kc1RvQWRkID0gc2Vjb25kcyArIG1pbnV0ZXNUb0FkZCAqIDYwO1xuICAgICAgdmFyIG1zVG9BZGQgPSBzZWNvbmRzVG9BZGQgKiAxZTM7XG4gICAgICB2YXIgZmluYWxEYXRlID0gbmV3IERhdGUoZGF0ZVdpdGhEYXlzLmdldFRpbWUoKSArIG1zVG9BZGQpO1xuICAgICAgcmV0dXJuIGZpbmFsRGF0ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0RGF0ZS9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0RGF0ZSA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXREYXRlL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldERhdGUyO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldERhdGUyKGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIGRheU9mTW9udGggPSBkYXRlLmdldERhdGUoKTtcbiAgICAgIHJldHVybiBkYXlPZk1vbnRoO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXREYXkvaW5kZXguanNcbnZhciByZXF1aXJlX2dldERheSA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXREYXkvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZ2V0RGF5MjtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXREYXkyKGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIGRheSA9IGRhdGUuZ2V0RGF5KCk7XG4gICAgICByZXR1cm4gZGF5O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRIb3Vycy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0SG91cnMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0SG91cnMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZ2V0SG91cnMyO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldEhvdXJzMihkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBob3VycyA9IGRhdGUuZ2V0SG91cnMoKTtcbiAgICAgIHJldHVybiBob3VycztcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0TWludXRlcy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0TWludXRlcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRNaW51dGVzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldE1pbnV0ZXMyO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE1pbnV0ZXMyKGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgdmFyIG1pbnV0ZXMgPSBkYXRlLmdldE1pbnV0ZXMoKTtcbiAgICAgIHJldHVybiBtaW51dGVzO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRNb250aC9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0TW9udGggPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0TW9udGgvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZ2V0TW9udGgyO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldE1vbnRoMihkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIHZhciBtb250aCA9IGRhdGUuZ2V0TW9udGgoKTtcbiAgICAgIHJldHVybiBtb250aDtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZ2V0WWVhci9pbmRleC5qc1xudmFyIHJlcXVpcmVfZ2V0WWVhciA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9nZXRZZWFyL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGdldFllYXIyO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFllYXIyKGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSkuZ2V0RnVsbFllYXIoKTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvY29tcGFyZUFzYy9pbmRleC5qc1xudmFyIHJlcXVpcmVfY29tcGFyZUFzYyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb21wYXJlQXNjL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGNvbXBhcmVBc2M7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGFyZUFzYyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlTGVmdCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlTGVmdCk7XG4gICAgICB2YXIgZGF0ZVJpZ2h0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVSaWdodCk7XG4gICAgICB2YXIgZGlmZiA9IGRhdGVMZWZ0LmdldFRpbWUoKSAtIGRhdGVSaWdodC5nZXRUaW1lKCk7XG4gICAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfSBlbHNlIGlmIChkaWZmID4gMCkge1xuICAgICAgICByZXR1cm4gMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBkaWZmO1xuICAgICAgfVxuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9kaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyWWVhcnMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZGlmZmVyZW5jZUluQ2FsZW5kYXJZZWFycztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGVMZWZ0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVMZWZ0KTtcbiAgICAgIHZhciBkYXRlUmlnaHQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgICAgIHJldHVybiBkYXRlTGVmdC5nZXRGdWxsWWVhcigpIC0gZGF0ZVJpZ2h0LmdldEZ1bGxZZWFyKCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJblllYXJzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9kaWZmZXJlbmNlSW5ZZWFycyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5ZZWFycy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBkaWZmZXJlbmNlSW5ZZWFycztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9kaWZmZXJlbmNlSW5DYWxlbmRhclllYXJzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2NvbXBhcmVBc2MoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZmVyZW5jZUluWWVhcnMoZGlydHlEYXRlTGVmdCwgZGlydHlEYXRlUmlnaHQpIHtcbiAgICAgICgwLCBfaW5kZXg0LmRlZmF1bHQpKDIsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZUxlZnQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZUxlZnQpO1xuICAgICAgdmFyIGRhdGVSaWdodCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlUmlnaHQpO1xuICAgICAgdmFyIHNpZ24gPSAoMCwgX2luZGV4My5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KTtcbiAgICAgIHZhciBkaWZmZXJlbmNlID0gTWF0aC5hYnMoKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZUxlZnQsIGRhdGVSaWdodCkpO1xuICAgICAgZGF0ZUxlZnQuc2V0RnVsbFllYXIoMTU4NCk7XG4gICAgICBkYXRlUmlnaHQuc2V0RnVsbFllYXIoMTU4NCk7XG4gICAgICB2YXIgaXNMYXN0WWVhck5vdEZ1bGwgPSAoMCwgX2luZGV4My5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSA9PT0gLXNpZ247XG4gICAgICB2YXIgcmVzdWx0ID0gc2lnbiAqIChkaWZmZXJlbmNlIC0gTnVtYmVyKGlzTGFzdFllYXJOb3RGdWxsKSk7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSAwID8gMCA6IHJlc3VsdDtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJNb250aHMvaW5kZXguanNcbnZhciByZXF1aXJlX2RpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJbkNhbGVuZGFyTW9udGhzKGRpcnR5RGF0ZUxlZnQsIGRpcnR5RGF0ZVJpZ2h0KSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGVMZWZ0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVMZWZ0KTtcbiAgICAgIHZhciBkYXRlUmlnaHQgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgICAgIHZhciB5ZWFyRGlmZiA9IGRhdGVMZWZ0LmdldEZ1bGxZZWFyKCkgLSBkYXRlUmlnaHQuZ2V0RnVsbFllYXIoKTtcbiAgICAgIHZhciBtb250aERpZmYgPSBkYXRlTGVmdC5nZXRNb250aCgpIC0gZGF0ZVJpZ2h0LmdldE1vbnRoKCk7XG4gICAgICByZXR1cm4geWVhckRpZmYgKiAxMiArIG1vbnRoRGlmZjtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZW5kT2ZEYXkvaW5kZXguanNcbnZhciByZXF1aXJlX2VuZE9mRGF5ID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mRGF5L2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGVuZE9mRGF5O1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuZE9mRGF5KGRpcnR5RGF0ZSkge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMSwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGUpO1xuICAgICAgZGF0ZS5zZXRIb3VycygyMywgNTksIDU5LCA5OTkpO1xuICAgICAgcmV0dXJuIGRhdGU7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2VuZE9mTW9udGgvaW5kZXguanNcbnZhciByZXF1aXJlX2VuZE9mTW9udGggPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZW5kT2ZNb250aC9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBlbmRPZk1vbnRoO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGVuZE9mTW9udGgoZGlydHlEYXRlKSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICB2YXIgbW9udGggPSBkYXRlLmdldE1vbnRoKCk7XG4gICAgICBkYXRlLnNldEZ1bGxZZWFyKGRhdGUuZ2V0RnVsbFllYXIoKSwgbW9udGggKyAxLCAwKTtcbiAgICAgIGRhdGUuc2V0SG91cnMoMjMsIDU5LCA1OSwgOTk5KTtcbiAgICAgIHJldHVybiBkYXRlO1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9pc0xhc3REYXlPZk1vbnRoL2luZGV4LmpzXG52YXIgcmVxdWlyZV9pc0xhc3REYXlPZk1vbnRoID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2lzTGFzdERheU9mTW9udGgvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gaXNMYXN0RGF5T2ZNb250aDtcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9lbmRPZkRheSgpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9lbmRPZk1vbnRoKCkpO1xuICAgIHZhciBfaW5kZXg0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGlzTGFzdERheU9mTW9udGgoZGlydHlEYXRlKSB7XG4gICAgICAoMCwgX2luZGV4NC5kZWZhdWx0KSgxLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRhdGUgPSAoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZSk7XG4gICAgICByZXR1cm4gKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZSkuZ2V0VGltZSgpID09PSAoMCwgX2luZGV4My5kZWZhdWx0KShkYXRlKS5nZXRUaW1lKCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbk1vbnRocy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZGlmZmVyZW5jZUluTW9udGhzID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbk1vbnRocy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBkaWZmZXJlbmNlSW5Nb250aHM7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZGlmZmVyZW5jZUluQ2FsZW5kYXJNb250aHMoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfY29tcGFyZUFzYygpKTtcbiAgICB2YXIgX2luZGV4NCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfaXNMYXN0RGF5T2ZNb250aCgpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJbk1vbnRocyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICAgICAgKDAsIF9pbmRleDQuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlTGVmdCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlTGVmdCk7XG4gICAgICB2YXIgZGF0ZVJpZ2h0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVSaWdodCk7XG4gICAgICB2YXIgc2lnbiA9ICgwLCBfaW5kZXgzLmRlZmF1bHQpKGRhdGVMZWZ0LCBkYXRlUmlnaHQpO1xuICAgICAgdmFyIGRpZmZlcmVuY2UgPSBNYXRoLmFicygoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSk7XG4gICAgICB2YXIgcmVzdWx0O1xuICAgICAgaWYgKGRpZmZlcmVuY2UgPCAxKSB7XG4gICAgICAgIHJlc3VsdCA9IDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoZGF0ZUxlZnQuZ2V0TW9udGgoKSA9PT0gMSAmJiBkYXRlTGVmdC5nZXREYXRlKCkgPiAyNykge1xuICAgICAgICAgIGRhdGVMZWZ0LnNldERhdGUoMzApO1xuICAgICAgICB9XG4gICAgICAgIGRhdGVMZWZ0LnNldE1vbnRoKGRhdGVMZWZ0LmdldE1vbnRoKCkgLSBzaWduICogZGlmZmVyZW5jZSk7XG4gICAgICAgIHZhciBpc0xhc3RNb250aE5vdEZ1bGwgPSAoMCwgX2luZGV4My5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSA9PT0gLXNpZ247XG4gICAgICAgIGlmICgoMCwgX2luZGV4NS5kZWZhdWx0KSgoMCwgX2luZGV4LmRlZmF1bHQpKGRpcnR5RGF0ZUxlZnQpKSAmJiBkaWZmZXJlbmNlID09PSAxICYmICgwLCBfaW5kZXgzLmRlZmF1bHQpKGRpcnR5RGF0ZUxlZnQsIGRhdGVSaWdodCkgPT09IDEpIHtcbiAgICAgICAgICBpc0xhc3RNb250aE5vdEZ1bGwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSBzaWduICogKGRpZmZlcmVuY2UgLSBOdW1iZXIoaXNMYXN0TW9udGhOb3RGdWxsKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSAwID8gMCA6IHJlc3VsdDtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3RhcnRPZkRheS9pbmRleC5qc1xudmFyIHJlcXVpcmVfc3RhcnRPZkRheSA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdGFydE9mRGF5L2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHN0YXJ0T2ZEYXk7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3RhcnRPZkRheShkaXJ0eURhdGUpIHtcbiAgICAgICgwLCBfaW5kZXgyLmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZSA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlKTtcbiAgICAgIGRhdGUuc2V0SG91cnMoMCwgMCwgMCwgMCk7XG4gICAgICByZXR1cm4gZGF0ZTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9kaWZmZXJlbmNlSW5DYWxlbmRhckRheXMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2dldFRpbWV6b25lT2Zmc2V0SW5NaWxsaXNlY29uZHMoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfc3RhcnRPZkRheSgpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICB2YXIgTUlMTElTRUNPTkRTX0lOX0RBWSA9IDg2NGU1O1xuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJbkNhbGVuZGFyRGF5cyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBzdGFydE9mRGF5TGVmdCA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZUxlZnQpO1xuICAgICAgdmFyIHN0YXJ0T2ZEYXlSaWdodCA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRpcnR5RGF0ZVJpZ2h0KTtcbiAgICAgIHZhciB0aW1lc3RhbXBMZWZ0ID0gc3RhcnRPZkRheUxlZnQuZ2V0VGltZSgpIC0gKDAsIF9pbmRleC5kZWZhdWx0KShzdGFydE9mRGF5TGVmdCk7XG4gICAgICB2YXIgdGltZXN0YW1wUmlnaHQgPSBzdGFydE9mRGF5UmlnaHQuZ2V0VGltZSgpIC0gKDAsIF9pbmRleC5kZWZhdWx0KShzdGFydE9mRGF5UmlnaHQpO1xuICAgICAgcmV0dXJuIE1hdGgucm91bmQoKHRpbWVzdGFtcExlZnQgLSB0aW1lc3RhbXBSaWdodCkgLyBNSUxMSVNFQ09ORFNfSU5fREFZKTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluRGF5cy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZGlmZmVyZW5jZUluRGF5cyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5EYXlzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGRpZmZlcmVuY2VJbkRheXM7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0RhdGUoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZGlmZmVyZW5jZUluQ2FsZW5kYXJEYXlzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNvbXBhcmVMb2NhbEFzYyhkYXRlTGVmdCwgZGF0ZVJpZ2h0KSB7XG4gICAgICB2YXIgZGlmZiA9IGRhdGVMZWZ0LmdldEZ1bGxZZWFyKCkgLSBkYXRlUmlnaHQuZ2V0RnVsbFllYXIoKSB8fCBkYXRlTGVmdC5nZXRNb250aCgpIC0gZGF0ZVJpZ2h0LmdldE1vbnRoKCkgfHwgZGF0ZUxlZnQuZ2V0RGF0ZSgpIC0gZGF0ZVJpZ2h0LmdldERhdGUoKSB8fCBkYXRlTGVmdC5nZXRIb3VycygpIC0gZGF0ZVJpZ2h0LmdldEhvdXJzKCkgfHwgZGF0ZUxlZnQuZ2V0TWludXRlcygpIC0gZGF0ZVJpZ2h0LmdldE1pbnV0ZXMoKSB8fCBkYXRlTGVmdC5nZXRTZWNvbmRzKCkgLSBkYXRlUmlnaHQuZ2V0U2Vjb25kcygpIHx8IGRhdGVMZWZ0LmdldE1pbGxpc2Vjb25kcygpIC0gZGF0ZVJpZ2h0LmdldE1pbGxpc2Vjb25kcygpO1xuICAgICAgaWYgKGRpZmYgPCAwKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH0gZWxzZSBpZiAoZGlmZiA+IDApIHtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZGlmZjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZmVyZW5jZUluRGF5cyhkaXJ0eURhdGVMZWZ0LCBkaXJ0eURhdGVSaWdodCkge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkYXRlTGVmdCA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGlydHlEYXRlTGVmdCk7XG4gICAgICB2YXIgZGF0ZVJpZ2h0ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eURhdGVSaWdodCk7XG4gICAgICB2YXIgc2lnbiA9IGNvbXBhcmVMb2NhbEFzYyhkYXRlTGVmdCwgZGF0ZVJpZ2h0KTtcbiAgICAgIHZhciBkaWZmZXJlbmNlID0gTWF0aC5hYnMoKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZUxlZnQsIGRhdGVSaWdodCkpO1xuICAgICAgZGF0ZUxlZnQuc2V0RGF0ZShkYXRlTGVmdC5nZXREYXRlKCkgLSBzaWduICogZGlmZmVyZW5jZSk7XG4gICAgICB2YXIgaXNMYXN0RGF5Tm90RnVsbCA9IE51bWJlcihjb21wYXJlTG9jYWxBc2MoZGF0ZUxlZnQsIGRhdGVSaWdodCkgPT09IC1zaWduKTtcbiAgICAgIHZhciByZXN1bHQgPSBzaWduICogKGRpZmZlcmVuY2UgLSBpc0xhc3REYXlOb3RGdWxsKTtcbiAgICAgIHJldHVybiByZXN1bHQgPT09IDAgPyAwIDogcmVzdWx0O1xuICAgIH1cbiAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb25zdGFudHMvaW5kZXguanNcbnZhciByZXF1aXJlX2NvbnN0YW50cyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9jb25zdGFudHMvaW5kZXguanNcIihleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuc2Vjb25kc0luTWludXRlID0gZXhwb3J0cy5zZWNvbmRzSW5Ib3VyID0gZXhwb3J0cy5xdWFydGVyc0luWWVhciA9IGV4cG9ydHMubW9udGhzSW5ZZWFyID0gZXhwb3J0cy5tb250aHNJblF1YXJ0ZXIgPSBleHBvcnRzLm1pbnV0ZXNJbkhvdXIgPSBleHBvcnRzLm1pblRpbWUgPSBleHBvcnRzLm1pbGxpc2Vjb25kc0luU2Vjb25kID0gZXhwb3J0cy5taWxsaXNlY29uZHNJbkhvdXIgPSBleHBvcnRzLm1pbGxpc2Vjb25kc0luTWludXRlID0gZXhwb3J0cy5tYXhUaW1lID0gZXhwb3J0cy5kYXlzSW5XZWVrID0gdm9pZCAwO1xuICAgIHZhciBkYXlzSW5XZWVrID0gNztcbiAgICBleHBvcnRzLmRheXNJbldlZWsgPSBkYXlzSW5XZWVrO1xuICAgIHZhciBtYXhUaW1lID0gTWF0aC5wb3coMTAsIDgpICogMjQgKiA2MCAqIDYwICogMWUzO1xuICAgIGV4cG9ydHMubWF4VGltZSA9IG1heFRpbWU7XG4gICAgdmFyIG1pbGxpc2Vjb25kc0luTWludXRlID0gNmU0O1xuICAgIGV4cG9ydHMubWlsbGlzZWNvbmRzSW5NaW51dGUgPSBtaWxsaXNlY29uZHNJbk1pbnV0ZTtcbiAgICB2YXIgbWlsbGlzZWNvbmRzSW5Ib3VyID0gMzZlNTtcbiAgICBleHBvcnRzLm1pbGxpc2Vjb25kc0luSG91ciA9IG1pbGxpc2Vjb25kc0luSG91cjtcbiAgICB2YXIgbWlsbGlzZWNvbmRzSW5TZWNvbmQgPSAxZTM7XG4gICAgZXhwb3J0cy5taWxsaXNlY29uZHNJblNlY29uZCA9IG1pbGxpc2Vjb25kc0luU2Vjb25kO1xuICAgIHZhciBtaW5UaW1lID0gLW1heFRpbWU7XG4gICAgZXhwb3J0cy5taW5UaW1lID0gbWluVGltZTtcbiAgICB2YXIgbWludXRlc0luSG91ciA9IDYwO1xuICAgIGV4cG9ydHMubWludXRlc0luSG91ciA9IG1pbnV0ZXNJbkhvdXI7XG4gICAgdmFyIG1vbnRoc0luUXVhcnRlciA9IDM7XG4gICAgZXhwb3J0cy5tb250aHNJblF1YXJ0ZXIgPSBtb250aHNJblF1YXJ0ZXI7XG4gICAgdmFyIG1vbnRoc0luWWVhciA9IDEyO1xuICAgIGV4cG9ydHMubW9udGhzSW5ZZWFyID0gbW9udGhzSW5ZZWFyO1xuICAgIHZhciBxdWFydGVyc0luWWVhciA9IDQ7XG4gICAgZXhwb3J0cy5xdWFydGVyc0luWWVhciA9IHF1YXJ0ZXJzSW5ZZWFyO1xuICAgIHZhciBzZWNvbmRzSW5Ib3VyID0gMzYwMDtcbiAgICBleHBvcnRzLnNlY29uZHNJbkhvdXIgPSBzZWNvbmRzSW5Ib3VyO1xuICAgIHZhciBzZWNvbmRzSW5NaW51dGUgPSA2MDtcbiAgICBleHBvcnRzLnNlY29uZHNJbk1pbnV0ZSA9IHNlY29uZHNJbk1pbnV0ZTtcbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMvaW5kZXguanNcbnZhciByZXF1aXJlX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9EYXRlKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcyhkYXRlTGVmdCwgZGF0ZVJpZ2h0KSB7XG4gICAgICAoMCwgX2luZGV4Mi5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgcmV0dXJuICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZUxlZnQpLmdldFRpbWUoKSAtICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZVJpZ2h0KS5nZXRUaW1lKCk7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL19saWIvcm91bmRpbmdNZXRob2RzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9yb3VuZGluZ01ldGhvZHMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvX2xpYi9yb3VuZGluZ01ldGhvZHMvaW5kZXguanNcIihleHBvcnRzKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZ2V0Um91bmRpbmdNZXRob2QgPSBnZXRSb3VuZGluZ01ldGhvZDtcbiAgICB2YXIgcm91bmRpbmdNYXAgPSB7XG4gICAgICBjZWlsOiBNYXRoLmNlaWwsXG4gICAgICByb3VuZDogTWF0aC5yb3VuZCxcbiAgICAgIGZsb29yOiBNYXRoLmZsb29yLFxuICAgICAgdHJ1bmM6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZSA8IDAgPyBNYXRoLmNlaWwodmFsdWUpIDogTWF0aC5mbG9vcih2YWx1ZSk7XG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVmYXVsdFJvdW5kaW5nTWV0aG9kID0gXCJ0cnVuY1wiO1xuICAgIGZ1bmN0aW9uIGdldFJvdW5kaW5nTWV0aG9kKG1ldGhvZCkge1xuICAgICAgcmV0dXJuIG1ldGhvZCA/IHJvdW5kaW5nTWFwW21ldGhvZF0gOiByb3VuZGluZ01hcFtkZWZhdWx0Um91bmRpbmdNZXRob2RdO1xuICAgIH1cbiAgfVxufSk7XG5cbi8vIC4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5Ib3Vycy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZGlmZmVyZW5jZUluSG91cnMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluSG91cnMvaW5kZXguanNcIihleHBvcnRzLCBtb2R1bGUpIHtcbiAgICBcInVzZSBzdHJpY3RcIjtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHtcbiAgICAgIHZhbHVlOiB0cnVlXG4gICAgfSk7XG4gICAgZXhwb3J0cy5kZWZhdWx0ID0gZGlmZmVyZW5jZUluSG91cnM7XG4gICAgdmFyIF9pbmRleCA9IHJlcXVpcmVfY29uc3RhbnRzKCk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZGlmZmVyZW5jZUluTWlsbGlzZWNvbmRzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3JlcXVpcmVkQXJncygpKTtcbiAgICB2YXIgX2luZGV4NCA9IHJlcXVpcmVfcm91bmRpbmdNZXRob2RzKCk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaWZmZXJlbmNlSW5Ib3VycyhkYXRlTGVmdCwgZGF0ZVJpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRpZmYgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSAvIF9pbmRleC5taWxsaXNlY29uZHNJbkhvdXI7XG4gICAgICByZXR1cm4gKDAsIF9pbmRleDQuZ2V0Um91bmRpbmdNZXRob2QpKG9wdGlvbnMgPT09IG51bGwgfHwgb3B0aW9ucyA9PT0gdm9pZCAwID8gdm9pZCAwIDogb3B0aW9ucy5yb3VuZGluZ01ldGhvZCkoZGlmZik7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2RpZmZlcmVuY2VJbk1pbnV0ZXMvaW5kZXguanNcbnZhciByZXF1aXJlX2RpZmZlcmVuY2VJbk1pbnV0ZXMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluTWludXRlcy9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBkaWZmZXJlbmNlSW5NaW51dGVzO1xuICAgIHZhciBfaW5kZXggPSByZXF1aXJlX2NvbnN0YW50cygpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2RpZmZlcmVuY2VJbk1pbGxpc2Vjb25kcygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDQgPSByZXF1aXJlX3JvdW5kaW5nTWV0aG9kcygpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGlmZmVyZW5jZUluTWludXRlcyhkYXRlTGVmdCwgZGF0ZVJpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAoMCwgX2luZGV4My5kZWZhdWx0KSgyLCBhcmd1bWVudHMpO1xuICAgICAgdmFyIGRpZmYgPSAoMCwgX2luZGV4Mi5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSAvIF9pbmRleC5taWxsaXNlY29uZHNJbk1pbnV0ZTtcbiAgICAgIHJldHVybiAoMCwgX2luZGV4NC5nZXRSb3VuZGluZ01ldGhvZCkob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJvdW5kaW5nTWV0aG9kKShkaWZmKTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvZGlmZmVyZW5jZUluU2Vjb25kcy9pbmRleC5qc1xudmFyIHJlcXVpcmVfZGlmZmVyZW5jZUluU2Vjb25kcyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9kaWZmZXJlbmNlSW5TZWNvbmRzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IGRpZmZlcmVuY2VJblNlY29uZHM7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9kaWZmZXJlbmNlSW5NaWxsaXNlY29uZHMoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIHZhciBfaW5kZXgzID0gcmVxdWlyZV9yb3VuZGluZ01ldGhvZHMoKTtcbiAgICBmdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpZmZlcmVuY2VJblNlY29uZHMoZGF0ZUxlZnQsIGRhdGVSaWdodCwgb3B0aW9ucykge1xuICAgICAgKDAsIF9pbmRleDIuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIHZhciBkaWZmID0gKDAsIF9pbmRleC5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KSAvIDFlMztcbiAgICAgIHJldHVybiAoMCwgX2luZGV4My5nZXRSb3VuZGluZ01ldGhvZCkob3B0aW9ucyA9PT0gbnVsbCB8fCBvcHRpb25zID09PSB2b2lkIDAgPyB2b2lkIDAgOiBvcHRpb25zLnJvdW5kaW5nTWV0aG9kKShkaWZmKTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3ViRGF5cy9pbmRleC5qc1xudmFyIHJlcXVpcmVfc3ViRGF5cyA9IF9fY29tbW9uSlMoe1xuICBcIi4uLy4uL25vZGVfbW9kdWxlcy9kYXRlLWZucy9zdWJEYXlzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHN1YkRheXM7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV90b0ludGVnZXIoKSk7XG4gICAgdmFyIF9pbmRleDIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfYWRkRGF5cygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBzdWJEYXlzKGRpcnR5RGF0ZSwgZGlydHlBbW91bnQpIHtcbiAgICAgICgwLCBfaW5kZXgzLmRlZmF1bHQpKDIsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgYW1vdW50ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eUFtb3VudCk7XG4gICAgICByZXR1cm4gKDAsIF9pbmRleDIuZGVmYXVsdCkoZGlydHlEYXRlLCAtYW1vdW50KTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3ViTW9udGhzL2luZGV4LmpzXG52YXIgcmVxdWlyZV9zdWJNb250aHMgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3ViTW9udGhzL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHN1Yk1vbnRocztcbiAgICB2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvSW50ZWdlcigpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9hZGRNb250aHMoKSk7XG4gICAgdmFyIF9pbmRleDMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfcmVxdWlyZWRBcmdzKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3ViTW9udGhzKGRpcnR5RGF0ZSwgZGlydHlBbW91bnQpIHtcbiAgICAgICgwLCBfaW5kZXgzLmRlZmF1bHQpKDIsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgYW1vdW50ID0gKDAsIF9pbmRleC5kZWZhdWx0KShkaXJ0eUFtb3VudCk7XG4gICAgICByZXR1cm4gKDAsIF9pbmRleDIuZGVmYXVsdCkoZGlydHlEYXRlLCAtYW1vdW50KTtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyAuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3ViL2luZGV4LmpzXG52YXIgcmVxdWlyZV9zdWIgPSBfX2NvbW1vbkpTKHtcbiAgXCIuLi8uLi9ub2RlX21vZHVsZXMvZGF0ZS1mbnMvc3ViL2luZGV4LmpzXCIoZXhwb3J0cywgbW9kdWxlKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7XG4gICAgICB2YWx1ZTogdHJ1ZVxuICAgIH0pO1xuICAgIGV4cG9ydHMuZGVmYXVsdCA9IHN1YjI7XG4gICAgdmFyIF9pbmRleCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9zdWJEYXlzKCkpO1xuICAgIHZhciBfaW5kZXgyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3N1Yk1vbnRocygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfdG9JbnRlZ2VyKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc3ViMihkYXRlLCBkdXJhdGlvbikge1xuICAgICAgKDAsIF9pbmRleDMuZGVmYXVsdCkoMiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICghZHVyYXRpb24gfHwgdHlwZW9mIGR1cmF0aW9uICE9PSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm4gbmV3IERhdGUoTmFOKTtcbiAgICAgIHZhciB5ZWFycyA9IGR1cmF0aW9uLnllYXJzID8gKDAsIF9pbmRleDQuZGVmYXVsdCkoZHVyYXRpb24ueWVhcnMpIDogMDtcbiAgICAgIHZhciBtb250aHMgPSBkdXJhdGlvbi5tb250aHMgPyAoMCwgX2luZGV4NC5kZWZhdWx0KShkdXJhdGlvbi5tb250aHMpIDogMDtcbiAgICAgIHZhciB3ZWVrcyA9IGR1cmF0aW9uLndlZWtzID8gKDAsIF9pbmRleDQuZGVmYXVsdCkoZHVyYXRpb24ud2Vla3MpIDogMDtcbiAgICAgIHZhciBkYXlzID0gZHVyYXRpb24uZGF5cyA/ICgwLCBfaW5kZXg0LmRlZmF1bHQpKGR1cmF0aW9uLmRheXMpIDogMDtcbiAgICAgIHZhciBob3VycyA9IGR1cmF0aW9uLmhvdXJzID8gKDAsIF9pbmRleDQuZGVmYXVsdCkoZHVyYXRpb24uaG91cnMpIDogMDtcbiAgICAgIHZhciBtaW51dGVzID0gZHVyYXRpb24ubWludXRlcyA/ICgwLCBfaW5kZXg0LmRlZmF1bHQpKGR1cmF0aW9uLm1pbnV0ZXMpIDogMDtcbiAgICAgIHZhciBzZWNvbmRzID0gZHVyYXRpb24uc2Vjb25kcyA/ICgwLCBfaW5kZXg0LmRlZmF1bHQpKGR1cmF0aW9uLnNlY29uZHMpIDogMDtcbiAgICAgIHZhciBkYXRlV2l0aG91dE1vbnRocyA9ICgwLCBfaW5kZXgyLmRlZmF1bHQpKGRhdGUsIG1vbnRocyArIHllYXJzICogMTIpO1xuICAgICAgdmFyIGRhdGVXaXRob3V0RGF5cyA9ICgwLCBfaW5kZXguZGVmYXVsdCkoZGF0ZVdpdGhvdXRNb250aHMsIGRheXMgKyB3ZWVrcyAqIDcpO1xuICAgICAgdmFyIG1pbnV0ZXN0b1N1YiA9IG1pbnV0ZXMgKyBob3VycyAqIDYwO1xuICAgICAgdmFyIHNlY29uZHN0b1N1YiA9IHNlY29uZHMgKyBtaW51dGVzdG9TdWIgKiA2MDtcbiAgICAgIHZhciBtc3RvU3ViID0gc2Vjb25kc3RvU3ViICogMWUzO1xuICAgICAgdmFyIGZpbmFsRGF0ZSA9IG5ldyBEYXRlKGRhdGVXaXRob3V0RGF5cy5nZXRUaW1lKCkgLSBtc3RvU3ViKTtcbiAgICAgIHJldHVybiBmaW5hbERhdGU7XG4gICAgfVxuICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0O1xuICB9XG59KTtcblxuLy8gLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2ludGVydmFsVG9EdXJhdGlvbi9pbmRleC5qc1xudmFyIHJlcXVpcmVfaW50ZXJ2YWxUb0R1cmF0aW9uID0gX19jb21tb25KUyh7XG4gIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2RhdGUtZm5zL2ludGVydmFsVG9EdXJhdGlvbi9pbmRleC5qc1wiKGV4cG9ydHMsIG1vZHVsZSkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwge1xuICAgICAgdmFsdWU6IHRydWVcbiAgICB9KTtcbiAgICBleHBvcnRzLmRlZmF1bHQgPSBpbnRlcnZhbFRvRHVyYXRpb24yO1xuICAgIHZhciBfaW5kZXggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfY29tcGFyZUFzYygpKTtcbiAgICB2YXIgX2luZGV4MiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9kaWZmZXJlbmNlSW5ZZWFycygpKTtcbiAgICB2YXIgX2luZGV4MyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9kaWZmZXJlbmNlSW5Nb250aHMoKSk7XG4gICAgdmFyIF9pbmRleDQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfZGlmZmVyZW5jZUluRGF5cygpKTtcbiAgICB2YXIgX2luZGV4NSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9kaWZmZXJlbmNlSW5Ib3VycygpKTtcbiAgICB2YXIgX2luZGV4NiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9kaWZmZXJlbmNlSW5NaW51dGVzKCkpO1xuICAgIHZhciBfaW5kZXg3ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX2RpZmZlcmVuY2VJblNlY29uZHMoKSk7XG4gICAgdmFyIF9pbmRleDggPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfaXNWYWxpZCgpKTtcbiAgICB2YXIgX2luZGV4OSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZV9yZXF1aXJlZEFyZ3MoKSk7XG4gICAgdmFyIF9pbmRleDEwID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlX3RvRGF0ZSgpKTtcbiAgICB2YXIgX2luZGV4MTEgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmVfc3ViKCkpO1xuICAgIGZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7XG4gICAgICByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW50ZXJ2YWxUb0R1cmF0aW9uMihfcmVmKSB7XG4gICAgICB2YXIgc3RhcnQgPSBfcmVmLnN0YXJ0LCBlbmQgPSBfcmVmLmVuZDtcbiAgICAgICgwLCBfaW5kZXg5LmRlZmF1bHQpKDEsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgZGF0ZUxlZnQgPSAoMCwgX2luZGV4MTAuZGVmYXVsdCkoc3RhcnQpO1xuICAgICAgdmFyIGRhdGVSaWdodCA9ICgwLCBfaW5kZXgxMC5kZWZhdWx0KShlbmQpO1xuICAgICAgaWYgKCEoMCwgX2luZGV4OC5kZWZhdWx0KShkYXRlTGVmdCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJTdGFydCBEYXRlIGlzIGludmFsaWRcIik7XG4gICAgICB9XG4gICAgICBpZiAoISgwLCBfaW5kZXg4LmRlZmF1bHQpKGRhdGVSaWdodCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJFbmQgRGF0ZSBpcyBpbnZhbGlkXCIpO1xuICAgICAgfVxuICAgICAgdmFyIGR1cmF0aW9uID0ge1xuICAgICAgICB5ZWFyczogMCxcbiAgICAgICAgbW9udGhzOiAwLFxuICAgICAgICBkYXlzOiAwLFxuICAgICAgICBob3VyczogMCxcbiAgICAgICAgbWludXRlczogMCxcbiAgICAgICAgc2Vjb25kczogMFxuICAgICAgfTtcbiAgICAgIHZhciBzaWduID0gKDAsIF9pbmRleC5kZWZhdWx0KShkYXRlTGVmdCwgZGF0ZVJpZ2h0KTtcbiAgICAgIGR1cmF0aW9uLnllYXJzID0gTWF0aC5hYnMoKDAsIF9pbmRleDIuZGVmYXVsdCkoZGF0ZUxlZnQsIGRhdGVSaWdodCkpO1xuICAgICAgdmFyIHJlbWFpbmluZ01vbnRocyA9ICgwLCBfaW5kZXgxMS5kZWZhdWx0KShkYXRlTGVmdCwge1xuICAgICAgICB5ZWFyczogc2lnbiAqIGR1cmF0aW9uLnllYXJzXG4gICAgICB9KTtcbiAgICAgIGR1cmF0aW9uLm1vbnRocyA9IE1hdGguYWJzKCgwLCBfaW5kZXgzLmRlZmF1bHQpKHJlbWFpbmluZ01vbnRocywgZGF0ZVJpZ2h0KSk7XG4gICAgICB2YXIgcmVtYWluaW5nRGF5cyA9ICgwLCBfaW5kZXgxMS5kZWZhdWx0KShyZW1haW5pbmdNb250aHMsIHtcbiAgICAgICAgbW9udGhzOiBzaWduICogZHVyYXRpb24ubW9udGhzXG4gICAgICB9KTtcbiAgICAgIGR1cmF0aW9uLmRheXMgPSBNYXRoLmFicygoMCwgX2luZGV4NC5kZWZhdWx0KShyZW1haW5pbmdEYXlzLCBkYXRlUmlnaHQpKTtcbiAgICAgIHZhciByZW1haW5pbmdIb3VycyA9ICgwLCBfaW5kZXgxMS5kZWZhdWx0KShyZW1haW5pbmdEYXlzLCB7XG4gICAgICAgIGRheXM6IHNpZ24gKiBkdXJhdGlvbi5kYXlzXG4gICAgICB9KTtcbiAgICAgIGR1cmF0aW9uLmhvdXJzID0gTWF0aC5hYnMoKDAsIF9pbmRleDUuZGVmYXVsdCkocmVtYWluaW5nSG91cnMsIGRhdGVSaWdodCkpO1xuICAgICAgdmFyIHJlbWFpbmluZ01pbnV0ZXMgPSAoMCwgX2luZGV4MTEuZGVmYXVsdCkocmVtYWluaW5nSG91cnMsIHtcbiAgICAgICAgaG91cnM6IHNpZ24gKiBkdXJhdGlvbi5ob3Vyc1xuICAgICAgfSk7XG4gICAgICBkdXJhdGlvbi5taW51dGVzID0gTWF0aC5hYnMoKDAsIF9pbmRleDYuZGVmYXVsdCkocmVtYWluaW5nTWludXRlcywgZGF0ZVJpZ2h0KSk7XG4gICAgICB2YXIgcmVtYWluaW5nU2Vjb25kcyA9ICgwLCBfaW5kZXgxMS5kZWZhdWx0KShyZW1haW5pbmdNaW51dGVzLCB7XG4gICAgICAgIG1pbnV0ZXM6IHNpZ24gKiBkdXJhdGlvbi5taW51dGVzXG4gICAgICB9KTtcbiAgICAgIGR1cmF0aW9uLnNlY29uZHMgPSBNYXRoLmFicygoMCwgX2luZGV4Ny5kZWZhdWx0KShyZW1haW5pbmdTZWNvbmRzLCBkYXRlUmlnaHQpKTtcbiAgICAgIHJldHVybiBkdXJhdGlvbjtcbiAgICB9XG4gICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7XG4gIH1cbn0pO1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0NTMgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBnZXRCbG9ja0NvbGxlY3Rpb25JZCxcbiAgZ2V0QmxvY2tQYXJlbnRQYWdlIGFzIGdldEJsb2NrUGFyZW50UGFnZTIsXG4gIGdldFRleHRDb250ZW50IGFzIGdldFRleHRDb250ZW50NFxufSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5pbXBvcnQgeyB1c2VMb2NhbFN0b3JhZ2UsIHVzZVdpbmRvd1NpemUgfSBmcm9tIFwicmVhY3QtdXNlXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhZ2UtaWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0MjAgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBnZXRCbG9ja0ljb24sIGdldEJsb2NrVGl0bGUgYXMgZ2V0QmxvY2tUaXRsZTMgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5cbi8vIHNyYy9jb250ZXh0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxOCBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2NvbXBvbmVudHMvYXNzZXQtd3JhcHBlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTQgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBwYXJzZVBhZ2VJZCBhcyBwYXJzZVBhZ2VJZDIgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5cbi8vIHNyYy91dGlscy50c1xuaW1wb3J0IHsgaXNVcmwsIGZvcm1hdERhdGUsIGZvcm1hdE5vdGlvbkRhdGVUaW1lIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuXG4vLyBzcmMvbWFwLWltYWdlLXVybC50c1xudmFyIGRlZmF1bHRNYXBJbWFnZVVybCA9ICh1cmwsIGJsb2NrKSA9PiB7XG4gIGlmICghdXJsKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKHVybC5zdGFydHNXaXRoKFwiZGF0YTpcIikpIHtcbiAgICByZXR1cm4gdXJsO1xuICB9XG4gIGlmICh1cmwuc3RhcnRzV2l0aChcImh0dHBzOi8vaW1hZ2VzLnVuc3BsYXNoLmNvbVwiKSkge1xuICAgIHJldHVybiB1cmw7XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgIGlmICh1LnBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvc2VjdXJlLm5vdGlvbi1zdGF0aWMuY29tXCIpICYmIHUuaG9zdG5hbWUuZW5kc1dpdGgoXCIuYW1hem9uYXdzLmNvbVwiKSkge1xuICAgICAgaWYgKHUuc2VhcmNoUGFyYW1zLmhhcyhcIlgtQW16LUNyZWRlbnRpYWxcIikgJiYgdS5zZWFyY2hQYXJhbXMuaGFzKFwiWC1BbXotU2lnbmF0dXJlXCIpICYmIHUuc2VhcmNoUGFyYW1zLmhhcyhcIlgtQW16LUFsZ29yaXRobVwiKSkge1xuICAgICAgICByZXR1cm4gdXJsO1xuICAgICAgfVxuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIGlmICh1cmwuc3RhcnRzV2l0aChcIi9pbWFnZXNcIikpIHtcbiAgICB1cmwgPSBgaHR0cHM6Ly93d3cubm90aW9uLnNvJHt1cmx9YDtcbiAgfVxuICB1cmwgPSBgaHR0cHM6Ly93d3cubm90aW9uLnNvJHt1cmwuc3RhcnRzV2l0aChcIi9pbWFnZVwiKSA/IHVybCA6IGAvaW1hZ2UvJHtlbmNvZGVVUklDb21wb25lbnQodXJsKX1gfWA7XG4gIGNvbnN0IG5vdGlvbkltYWdlVXJsVjIgPSBuZXcgVVJMKHVybCk7XG4gIGxldCB0YWJsZSA9IGJsb2NrLnBhcmVudF90YWJsZSA9PT0gXCJzcGFjZVwiID8gXCJibG9ja1wiIDogYmxvY2sucGFyZW50X3RhYmxlO1xuICBpZiAodGFibGUgPT09IFwiY29sbGVjdGlvblwiIHx8IHRhYmxlID09PSBcInRlYW1cIikge1xuICAgIHRhYmxlID0gXCJibG9ja1wiO1xuICB9XG4gIG5vdGlvbkltYWdlVXJsVjIuc2VhcmNoUGFyYW1zLnNldChcInRhYmxlXCIsIHRhYmxlKTtcbiAgbm90aW9uSW1hZ2VVcmxWMi5zZWFyY2hQYXJhbXMuc2V0KFwiaWRcIiwgYmxvY2suaWQpO1xuICBub3Rpb25JbWFnZVVybFYyLnNlYXJjaFBhcmFtcy5zZXQoXCJjYWNoZVwiLCBcInYyXCIpO1xuICB1cmwgPSBub3Rpb25JbWFnZVVybFYyLnRvU3RyaW5nKCk7XG4gIHJldHVybiB1cmw7XG59O1xuXG4vLyBzcmMvbWFwLXBhZ2UtdXJsLnRzXG52YXIgZGVmYXVsdE1hcFBhZ2VVcmwgPSAocm9vdFBhZ2VJZCkgPT4gKHBhZ2VJZCkgPT4ge1xuICBwYWdlSWQgPSAocGFnZUlkIHx8IFwiXCIpLnJlcGxhY2UoLy0vZywgXCJcIik7XG4gIGlmIChyb290UGFnZUlkICYmIHBhZ2VJZCA9PT0gcm9vdFBhZ2VJZCkge1xuICAgIHJldHVybiBcIi9cIjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gYC8ke3BhZ2VJZH1gO1xuICB9XG59O1xuXG4vLyBzcmMvdXRpbHMudHNcbnZhciBjcyA9ICguLi5jbGFzc2VzKSA9PiBjbGFzc2VzLmZpbHRlcigoYSkgPT4gISFhKS5qb2luKFwiIFwiKTtcbnZhciBnZXRIYXNoRnJhZ21lbnRWYWx1ZSA9ICh1cmwpID0+IHtcbiAgcmV0dXJuIHVybC5pbmNsdWRlcyhcIiNcIikgPyB1cmwucmVwbGFjZSgvXi4rKCMuKykkLywgXCIkMVwiKSA6IFwiXCI7XG59O1xudmFyIGlzQnJvd3NlciA9IHR5cGVvZiB3aW5kb3cgIT09IFwidW5kZWZpbmVkXCI7XG52YXIgeW91dHViZURvbWFpbnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IFNldChbXG4gIFwieW91dHUuYmVcIixcbiAgXCJ5b3V0dWJlLmNvbVwiLFxuICBcInd3dy55b3V0dWJlLmNvbVwiLFxuICBcInlvdXR1YmUtbm9jb29raWUuY29tXCIsXG4gIFwid3d3LnlvdXR1YmUtbm9jb29raWUuY29tXCJcbl0pO1xudmFyIGdldFlvdXR1YmVJZCA9ICh1cmwpID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IGhvc3RuYW1lIH0gPSBuZXcgVVJMKHVybCk7XG4gICAgaWYgKCF5b3V0dWJlRG9tYWlucy5oYXMoaG9zdG5hbWUpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVnRXhwID0gL14uKih5b3V0dVxcLmJlXFwvfHZcXC98dVxcL1xcd1xcL3xlbWJlZFxcL3x3YXRjaFxcP3Y9fCZ2PSkoW14jJj9dKikuKi9pO1xuICAgIGNvbnN0IG1hdGNoID0gdXJsLm1hdGNoKHJlZ0V4cCk7XG4gICAgaWYgKG1hdGNoICYmIG1hdGNoWzJdLmxlbmd0aCA9PSAxMSkge1xuICAgICAgcmV0dXJuIG1hdGNoWzJdO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvZW9pLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1naXRodWIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVHaXRIdWIocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAyNjAgMjYwXCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QuY3JlYXRlRWxlbWVudChcImdcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMjguMDAxMDYsMCBDNTcuMzE3MjkyNiwwIDAsNTcuMzA2Njk0MiAwLDEyOC4wMDEwNiBDMCwxODQuNTU1MjgxIDM2LjY3NjE5OTcsMjMyLjUzNTU0MiA4Ny41MzQ5MzcsMjQ5LjQ2MDg5OSBDOTMuOTMyMDIyMywyNTAuNjQ1Nzc5IDk2LjI4MDU4OCwyNDYuNjg0MTY1IDk2LjI4MDU4OCwyNDMuMzAzMzMzIEM5Ni4yODA1ODgsMjQwLjI1MTA0NSA5Ni4xNjE4ODc4LDIzMC4xNjc4OTkgOTYuMTA2Nzc3LDIxOS40NzIxNzYgQzYwLjQ5Njc1ODUsMjI3LjIxNTIzNSA1Mi45ODI2MjA3LDIwNC4zNjk3MTIgNTIuOTgyNjIwNywyMDQuMzY5NzEyIEM0Ny4xNTk5NTg0LDE4OS41NzQ1OTggMzguNzcwNDA4LDE4NS42NDA1MzggMzguNzcwNDA4LDE4NS42NDA1MzggQzI3LjE1Njg3ODUsMTc3LjY5NjExMyAzOS42NDU4MjA2LDE3Ny44NTkzMjUgMzkuNjQ1ODIwNiwxNzcuODU5MzI1IEM1Mi40OTkzNDE5LDE3OC43NjIyOTMgNTkuMjY3MzY1LDE5MS4wNDk4NyA1OS4yNjczNjUsMTkxLjA0OTg3IEM3MC42ODM3Njc1LDIxMC42MTg0MjMgODkuMjExNTc1MywyMDQuOTYxMDkzIDk2LjUxNTg2ODUsMjAxLjY5MDQ4MiBDOTcuNjY0NzE1NSwxOTMuNDE3NTEyIDEwMC45ODE5NTksMTg3Ljc3MDc4IDEwNC42NDI1ODMsMTg0LjU3NDM1NyBDNzYuMjExNzk5LDE4MS4zMzc2NiA0Ni4zMjQ4MTksMTcwLjM2MjE0NCA0Ni4zMjQ4MTksMTIxLjMxNTcwMiBDNDYuMzI0ODE5LDEwNy4zNDA4ODkgNTEuMzI1MDU4OCw5NS45MjIzNjgyIDU5LjUxMzI0MzcsODYuOTU4MzkzNyBDNTguMTg0MjI2OCw4My43MzQ0MTUyIDUzLjgwMjkyMjksNzAuNzE1NTYyIDYwLjc1MzIzNTQsNTMuMDg0MzYzNiBDNjAuNzUzMjM1NCw1My4wODQzNjM2IDcxLjUwMTk1MDEsNDkuNjQ0MTgxMyA5NS45NjI2NDEyLDY2LjIwNDk1OTUgQzEwNi4xNzI5NjcsNjMuMzY4ODc2IDExNy4xMjMwNDcsNjEuOTQ2NTk0OSAxMjguMDAxMDYsNjEuODk3ODQzMiBDMTM4Ljg3OTA3Myw2MS45NDY1OTQ5IDE0OS44Mzc2MzIsNjMuMzY4ODc2IDE2MC4wNjcwMzMsNjYuMjA0OTU5NSBDMTg0LjQ5ODA1LDQ5LjY0NDE4MTMgMTk1LjIzMTkyNiw1My4wODQzNjM2IDE5NS4yMzE5MjYsNTMuMDg0MzYzNiBDMjAyLjE5OTE5Nyw3MC43MTU1NjIgMTk3LjgxNTc3Myw4My43MzQ0MTUyIDE5Ni40ODY3NTYsODYuOTU4MzkzNyBDMjA0LjY5NDAxOCw5NS45MjIzNjgyIDIwOS42NjAzNDMsMTA3LjM0MDg4OSAyMDkuNjYwMzQzLDEyMS4zMTU3MDIgQzIwOS42NjAzNDMsMTcwLjQ3ODcyNSAxNzkuNzE2MTMzLDE4MS4zMDM3NDcgMTUxLjIxMzI4MSwxODQuNDcyNjE0IEMxNTUuODA0NDMsMTg4LjQ0NDgyOCAxNTkuODk1MzQyLDE5Ni4yMzQ1MTggMTU5Ljg5NTM0MiwyMDguMTc2NTkzIEMxNTkuODk1MzQyLDIyNS4zMDMzMTcgMTU5Ljc0Njk2OCwyMzkuMDg3MzYxIDE1OS43NDY5NjgsMjQzLjMwMzMzMyBDMTU5Ljc0Njk2OCwyNDYuNzA5NjAxIDE2Mi4wNTEwMiwyNTAuNzAwODkgMTY4LjUzOTI1LDI0OS40NDM5NDEgQzIxOS4zNzA0MzIsMjMyLjQ5OTUwNyAyNTYsMTg0LjUzNjIwNCAyNTYsMTI4LjAwMTA2IEMyNTYsNTcuMzA2Njk0MiAxOTguNjkxMTg3LDAgMTI4LjAwMTA2LDAgWiBNNDcuOTQwNTU5MywxODIuMzQwMjEyIEM0Ny42NTg2NDY1LDE4Mi45NzYxMDUgNDYuNjU4MTc0NSwxODMuMTY2ODczIDQ1Ljc0NjcyNzcsMTgyLjczMDIyNyBDNDQuODE4MzIzNSwxODIuMzEyNjU2IDQ0LjI5Njg5MTQsMTgxLjQ0NTcyMiA0NC41OTc4ODA4LDE4MC44MDc3MSBDNDQuODczNDM0NCwxODAuMTUyNzM5IDQ1Ljg3NjAyNiwxNzkuOTcwNDUgNDYuODAyMzEwMywxODAuNDA5MjE2IEM0Ny43MzI4MzQyLDE4MC44MjY3ODYgNDguMjYyNzQ1MSwxODEuNzAyMTk5IDQ3Ljk0MDU1OTMsMTgyLjM0MDIxMiBaIE01NC4yMzY3ODkyLDE4Ny45NTgyNTQgQzUzLjYyNjMzMTgsMTg4LjUyNDE5OSA1Mi40MzI5NzIzLDE4OC4yNjEzNjMgNTEuNjIzMjY4MiwxODcuMzY2ODc0IEM1MC43ODYwMDg4LDE4Ni40NzQ1MDQgNTAuNjI5MTU1MywxODUuMjgxMTQ0IDUxLjI0ODA5MTIsMTg0LjcwNjcyIEM1MS44Nzc2MjU0LDE4NC4xNDA3NzUgNTMuMDM0OTUxMiwxODQuNDA1NzMxIDUzLjg3NDMzMDIsMTg1LjI5ODEwMSBDNTQuNzExNTg5MiwxODYuMjAxMDY5IDU0Ljg3NDgwMTksMTg3LjM4NTk1IDU0LjIzNjc4OTIsMTg3Ljk1ODI1NCBaIE01OC41NTYyNDEzLDE5NS4xNDYzNDcgQzU3Ljc3MTk3MzIsMTk1LjY5MTA5NiA1Ni40ODk1ODg2LDE5NS4xODAyNjEgNTUuNjk2ODQxNywxOTQuMDQyMDEzIEM1NC45MTI1NzMzLDE5Mi45MDM3NjQgNTQuOTEyNTczMywxOTEuNTM4NzEzIDU1LjcxMzc5OSwxOTAuOTkxODQ1IEM1Ni41MDg2NjUxLDE5MC40NDQ5NzcgNTcuNzcxOTczMiwxOTAuOTM2NzM1IDU4LjU3NTMxODEsMTkyLjA2NjUwNSBDNTkuMzU3NDY2OSwxOTMuMjIzODMgNTkuMzU3NDY2OSwxOTQuNTg4ODggNTguNTU2MjQxMywxOTUuMTQ2MzQ3IFogTTY1Ljg2MTM1OTIsMjAzLjQ3MTE3NCBDNjUuMTU5NzU3MSwyMDQuMjQ0ODQ2IDYzLjY2NTQwODMsMjA0LjAzNzEyIDYyLjU3MTY3MTcsMjAyLjk4MTUzOCBDNjEuNDUyNDk5OSwyMDEuOTQ5MjcgNjEuMTQwOTEyMiwyMDAuNDg0NTk2IDYxLjg0NDYzNDEsMTk5LjcxMDkyNiBDNjIuNTU0NzE0NiwxOTguOTM1MTM3IDY0LjA1NzU0MjIsMTk5LjE1MzQ2IDY1LjE1OTc1NzEsMjAwLjIwMDU2NCBDNjYuMjcwNDUwNiwyMDEuMjMwNzEyIDY2LjYwOTU5MzYsMjAyLjcwNTk4NCA2NS44NjEzNTkyLDIwMy40NzExNzQgWiBNNzUuMzAyNTE1MSwyMDYuMjgxNTQyIEM3NC45OTMwNDc0LDIwNy4yODQxMzQgNzMuNTUzODA5LDIwNy43Mzk4NTcgNzIuMTAzOTcyNCwyMDcuMzEzODA5IEM3MC42NTYyNTU2LDIwNi44NzUwNDMgNjkuNzA4Nzc0OCwyMDUuNzAwNzYxIDcwLjAwMTI4NTcsMjA0LjY4NzU3MSBDNzAuMzAyMjc1LDIwMy42Nzg2MjEgNzEuNzQ3ODcyMSwyMDMuMjAzODIgNzMuMjA4MzA2OSwyMDMuNjU5NTQzIEM3NC42NTM5MDQxLDIwNC4wOTYxOSA3NS42MDM1MDQ4LDIwNS4yNjE5OTQgNzUuMzAyNTE1MSwyMDYuMjgxNTQyIFogTTg2LjA0Njk0NywyMDcuNDczNjI3IEM4Ni4wODI5ODA2LDIwOC41MjkyMDkgODQuODUzNTg3MSwyMDkuNDA0NjIyIDgzLjMzMTY4MjksMjA5LjQyMzcgQzgxLjgwMTMsMjA5LjQ1NzYxNCA4MC41NjM0MjgsMjA4LjYwMzM5OCA4MC41NDY0NzA4LDIwNy41NjQ3NzIgQzgwLjU0NjQ3MDgsMjA2LjQ5ODU5MSA4MS43NDgzMDg4LDIwNS42MzE2NTcgODMuMjc4NjkxNywyMDUuNjA2MjIxIEM4NC44MDA1OTYyLDIwNS41NzY1NDYgODYuMDQ2OTQ3LDIwNi40MjQ0MDMgODYuMDQ2OTQ3LDIwNy40NzM2MjcgWiBNOTYuNjAyMTQ3MSwyMDcuMDY5MDIzIEM5Ni43ODQ0MzY2LDIwOC4wOTkxNzEgOTUuNzI2NzM0MSwyMDkuMTU2ODcyIDk0LjIxNTQyOCwyMDkuNDM4Nzg1IEM5Mi43Mjk1NTc3LDIwOS43MTAwOTkgOTEuMzUzOTA4NiwyMDkuMDc0MjA2IDkxLjE2NTI2MDMsMjA4LjA1MjUzOCBDOTAuOTgwODUxNSwyMDYuOTk2OTU1IDkyLjA1NzYzMDYsMjA1LjkzOTI1MyA5My41NDEzODEzLDIwNS42NjU4MiBDOTUuMDU0ODA3LDIwNS40MDI5ODQgOTYuNDA5MjU5NiwyMDYuMDIxOTE5IDk2LjYwMjE0NzEsMjA3LjA2OTAyMyBaXCIsXG4gICAgZmlsbDogXCIjMTYxNjE0XCJcbiAgfSkpKTtcbn1cbnZhciB0eXBlX2dpdGh1Yl9kZWZhdWx0ID0gU3ZnVHlwZUdpdEh1YjtcblxuLy8gc3JjL2NvbXBvbmVudHMvZW9pLnRzeFxudmFyIEVPSSA9ICh7IGJsb2NrLCBpbmxpbmUsIGNsYXNzTmFtZSB9KSA9PiB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCB7IGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3QgeyBvcmlnaW5hbF91cmwsIGF0dHJpYnV0ZXMsIGRvbWFpbiB9ID0gKGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5mb3JtYXQpIHx8IHt9O1xuICBpZiAoIW9yaWdpbmFsX3VybCB8fCAhYXR0cmlidXRlcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHRpdGxlID0gKF9hID0gYXR0cmlidXRlcy5maW5kKChhdHRyKSA9PiBhdHRyLmlkID09PSBcInRpdGxlXCIpKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWVzWzBdO1xuICBsZXQgb3duZXIgPSAoX2IgPSBhdHRyaWJ1dGVzLmZpbmQoKGF0dHIpID0+IGF0dHIuaWQgPT09IFwib3duZXJcIikpID09IG51bGwgPyB2b2lkIDAgOiBfYi52YWx1ZXNbMF07XG4gIGNvbnN0IGxhc3RVcGRhdGVkQXQgPSAoX2MgPSBhdHRyaWJ1dGVzLmZpbmQoKGF0dHIpID0+IGF0dHIuaWQgPT09IFwidXBkYXRlZF9hdFwiKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnZhbHVlc1swXTtcbiAgY29uc3QgbGFzdFVwZGF0ZWQgPSBsYXN0VXBkYXRlZEF0ID8gZm9ybWF0Tm90aW9uRGF0ZVRpbWUobGFzdFVwZGF0ZWRBdCkgOiBudWxsO1xuICBsZXQgZXh0ZXJuYWxJbWFnZTtcbiAgc3dpdGNoIChkb21haW4pIHtcbiAgICBjYXNlIFwiZ2l0aHViLmNvbVwiOlxuICAgICAgZXh0ZXJuYWxJbWFnZSA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudCh0eXBlX2dpdGh1Yl9kZWZhdWx0LCBudWxsKTtcbiAgICAgIGlmIChvd25lcikge1xuICAgICAgICBjb25zdCBwYXJ0cyA9IG93bmVyLnNwbGl0KFwiL1wiKTtcbiAgICAgICAgb3duZXIgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBpZiAodHJ1ZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcbiAgICAgICAgICBgVW5zdXBwb3J0ZWQgZXh0ZXJuYWxfb2JqZWN0X2luc3RhbmNlIGRvbWFpbiBcIiR7ZG9tYWlufVwiYCxcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeShibG9jaywgbnVsbCwgMilcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5MaW5rLCB7XG4gICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCIsXG4gICAgaHJlZjogb3JpZ2luYWxfdXJsLFxuICAgIGNsYXNzTmFtZTogY3MoXG4gICAgICBcIm5vdGlvbi1leHRlcm5hbFwiLFxuICAgICAgaW5saW5lID8gXCJub3Rpb24tZXh0ZXJuYWwtbWVudGlvblwiIDogXCJub3Rpb24tZXh0ZXJuYWwtYmxvY2sgbm90aW9uLXJvd1wiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKVxuICB9LCBleHRlcm5hbEltYWdlICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1leHRlcm5hbC1pbWFnZVwiXG4gIH0sIGV4dGVybmFsSW1hZ2UpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tZXh0ZXJuYWwtZGVzY3JpcHRpb25cIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QyLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tZXh0ZXJuYWwtdGl0bGVcIlxuICB9LCB0aXRsZSksIChvd25lciB8fCBsYXN0VXBkYXRlZCkgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWV4dGVybmFsLXN1YnRpdGxlXCJcbiAgfSwgb3duZXIgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0Mi5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCBvd25lciksIG93bmVyICYmIGxhc3RVcGRhdGVkICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCIgXFx1MjAyMiBcIiksIGxhc3RVcGRhdGVkICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIuY3JlYXRlRWxlbWVudChcInNwYW5cIiwgbnVsbCwgXCJVcGRhdGVkIFwiLCBsYXN0VXBkYXRlZCkpKSk7XG59O1xuXG4vLyBzcmMvY29tcG9uZW50cy90ZXh0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgcGFyc2VQYWdlSWQgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2dyYWNlZnVsLWltYWdlLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QzIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgSW1nIH0gZnJvbSBcInJlYWN0LWltYWdlXCI7XG52YXIgR3JhY2VmdWxJbWFnZSA9IChwcm9wcykgPT4ge1xuICBpZiAoaXNCcm93c2VyKSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMuY3JlYXRlRWxlbWVudChJbWcsIF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcykpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzLmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gIH1cbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL3BhZ2UtdGl0bGUudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDQgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBnZXRCbG9ja1RpdGxlIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xudmFyIFBhZ2VUaXRsZUltcGwgPSAoX2EpID0+IHtcbiAgdmFyIF9iID0gX2EsIHsgYmxvY2ssIGNsYXNzTmFtZSwgZGVmYXVsdEljb24gfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXCJibG9ja1wiLCBcImNsYXNzTmFtZVwiLCBcImRlZmF1bHRJY29uXCJdKTtcbiAgdmFyIF9hMiwgX2IyO1xuICBjb25zdCB7IHJlY29yZE1hcCB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBpZiAoIWJsb2NrKVxuICAgIHJldHVybiBudWxsO1xuICBpZiAoYmxvY2sudHlwZSA9PT0gXCJjb2xsZWN0aW9uX3ZpZXdfcGFnZVwiIHx8IGJsb2NrLnR5cGUgPT09IFwiY29sbGVjdGlvbl92aWV3XCIpIHtcbiAgICBjb25zdCB0aXRsZSA9IGdldEJsb2NrVGl0bGUoYmxvY2ssIHJlY29yZE1hcCk7XG4gICAgaWYgKCF0aXRsZSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHRpdGxlRGVjb3JhdGlvbiA9IFtbdGl0bGVdXTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLXBhZ2UtdGl0bGVcIiwgY2xhc3NOYW1lKVxuICAgIH0sIHJlc3QpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoUGFnZUljb24sIHtcbiAgICAgIGJsb2NrLFxuICAgICAgZGVmYXVsdEljb24sXG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLXBhZ2UtdGl0bGUtaWNvblwiXG4gICAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wYWdlLXRpdGxlLXRleHRcIlxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICB2YWx1ZTogdGl0bGVEZWNvcmF0aW9uLFxuICAgICAgYmxvY2tcbiAgICB9KSkpO1xuICB9XG4gIGlmICghKChfYTIgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnRpdGxlKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLXBhZ2UtdGl0bGVcIiwgY2xhc3NOYW1lKVxuICB9LCByZXN0KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFBhZ2VJY29uLCB7XG4gICAgYmxvY2ssXG4gICAgZGVmYXVsdEljb24sXG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wYWdlLXRpdGxlLWljb25cIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wYWdlLXRpdGxlLXRleHRcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIHZhbHVlOiAoX2IyID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMi50aXRsZSxcbiAgICBibG9ja1xuICB9KSkpO1xufTtcbnZhciBQYWdlVGl0bGUgPSBSZWFjdDQubWVtbyhQYWdlVGl0bGVJbXBsKTtcblxuLy8gc3JjL2NvbXBvbmVudHMvdGV4dC50c3hcbnZhciBUZXh0ID0gKHsgdmFsdWUsIGJsb2NrLCBsaW5rUHJvcHMsIGxpbmtQcm90b2NvbCB9KSA9PiB7XG4gIGNvbnN0IHsgY29tcG9uZW50cywgcmVjb3JkTWFwLCBtYXBQYWdlVXJsLCBtYXBJbWFnZVVybCwgcm9vdERvbWFpbiB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFJlYWN0NS5GcmFnbWVudCwgbnVsbCwgdmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLm1hcCgoW3RleHQsIGRlY29yYXRpb25zXSwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWRlY29yYXRpb25zKSB7XG4gICAgICBpZiAodGV4dCA9PT0gXCIsXCIpIHtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgc3R5bGU6IHsgcGFkZGluZzogXCIwLjVlbVwiIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFJlYWN0NS5GcmFnbWVudCwge1xuICAgICAgICAgIGtleTogaW5kZXhcbiAgICAgICAgfSwgdGV4dCk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdHRlZCA9IGRlY29yYXRpb25zLnJlZHVjZShcbiAgICAgIChlbGVtZW50LCBkZWNvcmF0b3IpID0+IHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgICAgICAgc3dpdGNoIChkZWNvcmF0b3JbMF0pIHtcbiAgICAgICAgICBjYXNlIFwicFwiOiB7XG4gICAgICAgICAgICBjb25zdCBibG9ja0lkID0gZGVjb3JhdG9yWzFdO1xuICAgICAgICAgICAgY29uc3QgbGlua2VkQmxvY2sgPSAoX2EgPSByZWNvcmRNYXAuYmxvY2tbYmxvY2tJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYS52YWx1ZTtcbiAgICAgICAgICAgIGlmICghbGlua2VkQmxvY2spIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1wicFwiIG1pc3NpbmcgYmxvY2snLCBibG9ja0lkKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGFnZUxpbmssIHtcbiAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rXCIsXG4gICAgICAgICAgICAgIGhyZWY6IG1hcFBhZ2VVcmwoYmxvY2tJZClcbiAgICAgICAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChQYWdlVGl0bGUsIHtcbiAgICAgICAgICAgICAgYmxvY2s6IGxpbmtlZEJsb2NrXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJcXHUyMDIzXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IGxpbmtUeXBlID0gZGVjb3JhdG9yWzFdWzBdO1xuICAgICAgICAgICAgY29uc3QgaWQgPSBkZWNvcmF0b3JbMV1bMV07XG4gICAgICAgICAgICBzd2l0Y2ggKGxpbmtUeXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJ1XCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCB1c2VyID0gKF9iID0gcmVjb3JkTWFwLm5vdGlvbl91c2VyW2lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghdXNlcikge1xuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1wiXFx1MjAyM1wiIG1pc3NpbmcgdXNlcicsIGlkKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gW3VzZXIuZ2l2ZW5fbmFtZSwgdXNlci5mYW1pbHlfbmFtZV0uZmlsdGVyKEJvb2xlYW4pLmpvaW4oXCIgXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoR3JhY2VmdWxJbWFnZSwge1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi11c2VyXCIsXG4gICAgICAgICAgICAgICAgICBzcmM6IG1hcEltYWdlVXJsKHVzZXIucHJvZmlsZV9waG90bywgYmxvY2spLFxuICAgICAgICAgICAgICAgICAgYWx0OiBuYW1lXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGNvbnN0IGxpbmtlZEJsb2NrID0gKF9jID0gcmVjb3JkTWFwLmJsb2NrW2lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICghbGlua2VkQmxvY2spIHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdcIlxcdTIwMjNcIiBtaXNzaW5nIGJsb2NrJywgbGlua1R5cGUsIGlkKTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGFnZUxpbmssIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saW5rXCIsXG4gICAgICAgICAgICAgICAgICBocmVmOiBtYXBQYWdlVXJsKGlkKVxuICAgICAgICAgICAgICAgIH0sIGxpbmtQcm9wcyksIHtcbiAgICAgICAgICAgICAgICAgIHRhcmdldDogXCJfYmxhbmtcIixcbiAgICAgICAgICAgICAgICAgIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCJcbiAgICAgICAgICAgICAgICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFBhZ2VUaXRsZSwge1xuICAgICAgICAgICAgICAgICAgYmxvY2s6IGxpbmtlZEJsb2NrXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJoXCI6XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogYG5vdGlvbi0ke2RlY29yYXRvclsxXX1gXG4gICAgICAgICAgICB9LCBlbGVtZW50KTtcbiAgICAgICAgICBjYXNlIFwiY1wiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImNvZGVcIiwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWlubGluZS1jb2RlXCJcbiAgICAgICAgICAgIH0sIGVsZW1lbnQpO1xuICAgICAgICAgIGNhc2UgXCJiXCI6XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwiYlwiLCBudWxsLCBlbGVtZW50KTtcbiAgICAgICAgICBjYXNlIFwiaVwiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcImVtXCIsIG51bGwsIGVsZW1lbnQpO1xuICAgICAgICAgIGNhc2UgXCJzXCI6XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFwic1wiLCBudWxsLCBlbGVtZW50KTtcbiAgICAgICAgICBjYXNlIFwiX1wiOlxuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWlubGluZS11bmRlcnNjb3JlXCJcbiAgICAgICAgICAgIH0sIGVsZW1lbnQpO1xuICAgICAgICAgIGNhc2UgXCJlXCI6XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuRXF1YXRpb24sIHtcbiAgICAgICAgICAgICAgbWF0aDogZGVjb3JhdG9yWzFdLFxuICAgICAgICAgICAgICBpbmxpbmU6IHRydWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIGNhc2UgXCJtXCI6XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgICBjYXNlIFwiYVwiOiB7XG4gICAgICAgICAgICBjb25zdCB2ID0gZGVjb3JhdG9yWzFdO1xuICAgICAgICAgICAgY29uc3QgcGF0aG5hbWUgPSB2LnN1YnN0cigxKTtcbiAgICAgICAgICAgIGNvbnN0IGlkID0gcGFyc2VQYWdlSWQocGF0aG5hbWUsIHsgdXVpZDogdHJ1ZSB9KTtcbiAgICAgICAgICAgIGlmICgodlswXSA9PT0gXCIvXCIgfHwgdi5pbmNsdWRlcyhyb290RG9tYWluKSkgJiYgaWQpIHtcbiAgICAgICAgICAgICAgY29uc3QgaHJlZiA9IHYuaW5jbHVkZXMocm9vdERvbWFpbikgPyB2IDogYCR7bWFwUGFnZVVybChpZCl9JHtnZXRIYXNoRnJhZ21lbnRWYWx1ZSh2KX1gO1xuICAgICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGFnZUxpbmssIF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWxpbmtcIixcbiAgICAgICAgICAgICAgICBocmVmXG4gICAgICAgICAgICAgIH0sIGxpbmtQcm9wcyksIGVsZW1lbnQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkxpbmssIF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWxpbmtcIixcbiAgICAgICAgICAgICAgICBocmVmOiBsaW5rUHJvdG9jb2wgPyBgJHtsaW5rUHJvdG9jb2x9OiR7ZGVjb3JhdG9yWzFdfWAgOiBkZWNvcmF0b3JbMV1cbiAgICAgICAgICAgICAgfSwgbGlua1Byb3BzKSwgZWxlbWVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJkXCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHYgPSBkZWNvcmF0b3JbMV07XG4gICAgICAgICAgICBjb25zdCB0eXBlID0gdiA9PSBudWxsID8gdm9pZCAwIDogdi50eXBlO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT09IFwiZGF0ZVwiKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHN0YXJ0RGF0ZSA9IHYuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZvcm1hdERhdGUoc3RhcnREYXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gXCJkYXRlcmFuZ2VcIikge1xuICAgICAgICAgICAgICBjb25zdCBzdGFydERhdGUgPSB2LnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIGNvbnN0IGVuZERhdGUgPSB2LmVuZF9kYXRlO1xuICAgICAgICAgICAgICByZXR1cm4gYCR7Zm9ybWF0RGF0ZShzdGFydERhdGUpfSBcXHUyMTkyICR7Zm9ybWF0RGF0ZShlbmREYXRlKX1gO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ1XCI6IHtcbiAgICAgICAgICAgIGNvbnN0IHVzZXJJZCA9IGRlY29yYXRvclsxXTtcbiAgICAgICAgICAgIGNvbnN0IHVzZXIgPSAoX2QgPSByZWNvcmRNYXAubm90aW9uX3VzZXJbdXNlcklkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLnZhbHVlO1xuICAgICAgICAgICAgaWYgKCF1c2VyKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibWlzc2luZyB1c2VyXCIsIHVzZXJJZCk7XG4gICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgbmFtZSA9IFt1c2VyLmdpdmVuX25hbWUsIHVzZXIuZmFtaWx5X25hbWVdLmZpbHRlcihCb29sZWFuKS5qb2luKFwiIFwiKTtcbiAgICAgICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1LmNyZWF0ZUVsZW1lbnQoR3JhY2VmdWxJbWFnZSwge1xuICAgICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLXVzZXJcIixcbiAgICAgICAgICAgICAgc3JjOiBtYXBJbWFnZVVybCh1c2VyLnByb2ZpbGVfcGhvdG8sIGJsb2NrKSxcbiAgICAgICAgICAgICAgYWx0OiBuYW1lXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcImVvaVwiOiB7XG4gICAgICAgICAgICBjb25zdCBibG9ja0lkID0gZGVjb3JhdG9yWzFdO1xuICAgICAgICAgICAgY29uc3QgZXh0ZXJuYWxPYmplY3RJbnN0YW5jZSA9IChfZSA9IHJlY29yZE1hcC5ibG9ja1tibG9ja0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChFT0ksIHtcbiAgICAgICAgICAgICAgYmxvY2s6IGV4dGVybmFsT2JqZWN0SW5zdGFuY2UsXG4gICAgICAgICAgICAgIGlubGluZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICBpZiAodHJ1ZSkge1xuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInVuc3VwcG9ydGVkIHRleHQgZm9ybWF0XCIsIGRlY29yYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUuY3JlYXRlRWxlbWVudChSZWFjdDUuRnJhZ21lbnQsIG51bGwsIHRleHQpXG4gICAgKTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NS5jcmVhdGVFbGVtZW50KFJlYWN0NS5GcmFnbWVudCwge1xuICAgICAga2V5OiBpbmRleFxuICAgIH0sIGZvcm1hdHRlZCk7XG4gIH0pKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2xhenktaW1hZ2UudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDYgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBub3JtYWxpemVVcmwgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5pbXBvcnQgeyBJbWFnZVN0YXRlLCBMYXp5SW1hZ2VGdWxsIH0gZnJvbSBcInJlYWN0LWxhenktaW1hZ2VzXCI7XG52YXIgTGF6eUltYWdlID0gKF9hKSA9PiB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgc3JjLFxuICAgIGFsdCxcbiAgICBjbGFzc05hbWUsXG4gICAgc3R5bGUsXG4gICAgem9vbWFibGUgPSBmYWxzZSxcbiAgICBwcmlvcml0eSA9IGZhbHNlLFxuICAgIGhlaWdodFxuICB9ID0gX2IsIHJlc3QgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcInNyY1wiLFxuICAgIFwiYWx0XCIsXG4gICAgXCJjbGFzc05hbWVcIixcbiAgICBcInN0eWxlXCIsXG4gICAgXCJ6b29tYWJsZVwiLFxuICAgIFwicHJpb3JpdHlcIixcbiAgICBcImhlaWdodFwiXG4gIF0pO1xuICB2YXIgX2EyLCBfYjIsIF9jO1xuICBjb25zdCB7IHJlY29yZE1hcCwgem9vbSwgcHJldmlld0ltYWdlcywgZm9yY2VDdXN0b21JbWFnZXMsIGNvbXBvbmVudHMgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qgem9vbVJlZiA9IFJlYWN0Ni51c2VSZWYoem9vbSA/IHpvb20uY2xvbmUoKSA6IG51bGwpO1xuICBjb25zdCBwcmV2aWV3SW1hZ2UgPSBwcmV2aWV3SW1hZ2VzID8gKF9jID0gKF9hMiA9IHJlY29yZE1hcCA9PSBudWxsID8gdm9pZCAwIDogcmVjb3JkTWFwLnByZXZpZXdfaW1hZ2VzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyW3NyY10pICE9IG51bGwgPyBfYyA6IChfYjIgPSByZWNvcmRNYXAgPT0gbnVsbCA/IHZvaWQgMCA6IHJlY29yZE1hcC5wcmV2aWV3X2ltYWdlcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iMltub3JtYWxpemVVcmwoc3JjKV0gOiBudWxsO1xuICBjb25zdCBvbkxvYWQgPSBSZWFjdDYudXNlQ2FsbGJhY2soXG4gICAgKGUpID0+IHtcbiAgICAgIGlmICh6b29tYWJsZSAmJiAoZS50YXJnZXQuc3JjIHx8IGUudGFyZ2V0LnNyY3NldCkpIHtcbiAgICAgICAgaWYgKHpvb21SZWYuY3VycmVudCkge1xuICAgICAgICAgIDtcbiAgICAgICAgICB6b29tUmVmLmN1cnJlbnQuYXR0YWNoKGUudGFyZ2V0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgW3pvb21SZWYsIHpvb21hYmxlXVxuICApO1xuICBjb25zdCBhdHRhY2hab29tID0gUmVhY3Q2LnVzZUNhbGxiYWNrKFxuICAgIChpbWFnZSkgPT4ge1xuICAgICAgaWYgKHpvb21SZWYuY3VycmVudCAmJiBpbWFnZSkge1xuICAgICAgICA7XG4gICAgICAgIHpvb21SZWYuY3VycmVudC5hdHRhY2goaW1hZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgW3pvb21SZWZdXG4gICk7XG4gIGNvbnN0IGF0dGFjaFpvb21SZWYgPSBSZWFjdDYudXNlTWVtbyhcbiAgICAoKSA9PiB6b29tYWJsZSA/IGF0dGFjaFpvb20gOiB2b2lkIDAsXG4gICAgW3pvb21hYmxlLCBhdHRhY2hab29tXVxuICApO1xuICBpZiAocHJldmlld0ltYWdlKSB7XG4gICAgY29uc3QgYXNwZWN0UmF0aW8gPSBwcmV2aWV3SW1hZ2Uub3JpZ2luYWxIZWlnaHQgLyBwcmV2aWV3SW1hZ2Uub3JpZ2luYWxXaWR0aDtcbiAgICBpZiAoY29tcG9uZW50cy5JbWFnZSkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkltYWdlLCB7XG4gICAgICAgIHNyYyxcbiAgICAgICAgYWx0LFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgY2xhc3NOYW1lLFxuICAgICAgICB3aWR0aDogcHJldmlld0ltYWdlLm9yaWdpbmFsV2lkdGgsXG4gICAgICAgIGhlaWdodDogcHJldmlld0ltYWdlLm9yaWdpbmFsSGVpZ2h0LFxuICAgICAgICBibHVyRGF0YVVSTDogcHJldmlld0ltYWdlLmRhdGFVUklCYXNlNjQsXG4gICAgICAgIHBsYWNlaG9sZGVyOiBcImJsdXJcIixcbiAgICAgICAgcHJpb3JpdHksXG4gICAgICAgIG9uTG9hZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoTGF6eUltYWdlRnVsbCwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBzcmNcbiAgICB9LCByZXN0KSwge1xuICAgICAgZXhwZXJpbWVudGFsRGVjb2RlOiB0cnVlXG4gICAgfSksICh7IGltYWdlU3RhdGUsIHJlZiB9KSA9PiB7XG4gICAgICBjb25zdCBpc0xvYWRlZCA9IGltYWdlU3RhdGUgPT09IEltYWdlU3RhdGUuTG9hZFN1Y2Nlc3M7XG4gICAgICBjb25zdCB3cmFwcGVyU3R5bGUgPSB7XG4gICAgICAgIHdpZHRoOiBcIjEwMCVcIlxuICAgICAgfTtcbiAgICAgIGNvbnN0IGltZ1N0eWxlID0ge307XG4gICAgICBpZiAoaGVpZ2h0KSB7XG4gICAgICAgIHdyYXBwZXJTdHlsZS5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbWdTdHlsZS5wb3NpdGlvbiA9IFwiYWJzb2x1dGVcIjtcbiAgICAgICAgd3JhcHBlclN0eWxlLnBhZGRpbmdCb3R0b20gPSBgJHthc3BlY3RSYXRpbyAqIDEwMH0lYDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgICAgIFwibGF6eS1pbWFnZS13cmFwcGVyXCIsXG4gICAgICAgICAgaXNMb2FkZWQgJiYgXCJsYXp5LWltYWdlLWxvYWRlZFwiLFxuICAgICAgICAgIGNsYXNzTmFtZVxuICAgICAgICApLFxuICAgICAgICBzdHlsZTogd3JhcHBlclN0eWxlXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibGF6eS1pbWFnZS1wcmV2aWV3XCIsXG4gICAgICAgIHNyYzogcHJldmlld0ltYWdlLmRhdGFVUklCYXNlNjQsXG4gICAgICAgIGFsdCxcbiAgICAgICAgcmVmLFxuICAgICAgICBzdHlsZSxcbiAgICAgICAgZGVjb2Rpbmc6IFwiYXN5bmNcIlxuICAgICAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYuY3JlYXRlRWxlbWVudChcImltZ1wiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJsYXp5LWltYWdlLXJlYWxcIixcbiAgICAgICAgc3JjLFxuICAgICAgICBhbHQsXG4gICAgICAgIHJlZjogYXR0YWNoWm9vbVJlZixcbiAgICAgICAgc3R5bGU6IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBzdHlsZSksIGltZ1N0eWxlKSxcbiAgICAgICAgd2lkdGg6IHByZXZpZXdJbWFnZS5vcmlnaW5hbFdpZHRoLFxuICAgICAgICBoZWlnaHQ6IHByZXZpZXdJbWFnZS5vcmlnaW5hbEhlaWdodCxcbiAgICAgICAgZGVjb2Rpbmc6IFwiYXN5bmNcIixcbiAgICAgICAgbG9hZGluZzogXCJsYXp5XCJcbiAgICAgIH0pKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBpZiAoY29tcG9uZW50cy5JbWFnZSAmJiBmb3JjZUN1c3RvbUltYWdlcykge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDYuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkltYWdlLCB7XG4gICAgICAgIHNyYyxcbiAgICAgICAgYWx0LFxuICAgICAgICBjbGFzc05hbWUsXG4gICAgICAgIHN0eWxlLFxuICAgICAgICB3aWR0aDogbnVsbCxcbiAgICAgICAgaGVpZ2h0OiBoZWlnaHQgfHwgbnVsbCxcbiAgICAgICAgcHJpb3JpdHksXG4gICAgICAgIG9uTG9hZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q2LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgc3R5bGUsXG4gICAgICBzcmMsXG4gICAgICBhbHQsXG4gICAgICByZWY6IGF0dGFjaFpvb21SZWYsXG4gICAgICBsb2FkaW5nOiBcImxhenlcIixcbiAgICAgIGRlY29kaW5nOiBcImFzeW5jXCJcbiAgICB9LCByZXN0KSk7XG4gIH1cbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2hlYWRlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTEgZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgeyBnZXRQYWdlQnJlYWRjcnVtYnMgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5pbXBvcnQgeyB1c2VIb3RrZXlzIH0gZnJvbSBcInJlYWN0LWhvdGtleXMtaG9va1wiO1xuXG4vLyBzcmMvaWNvbnMvc2VhcmNoLWljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDcgZnJvbSBcInJlYWN0XCI7XG52YXIgU2VhcmNoSWNvbiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBfYSA9IHByb3BzLCB7IGNsYXNzTmFtZSB9ID0gX2EsIHJlc3QgPSBfX29ialJlc3QoX2EsIFtcImNsYXNzTmFtZVwiXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q3LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24taWNvblwiLCBjbGFzc05hbWUpLFxuICAgIHZpZXdCb3g6IFwiMCAwIDE3IDE3XCJcbiAgfSwgcmVzdCksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDcuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTYuNzgwMjcgMTMuNjcyOUM4LjI0ODA1IDEzLjY3MjkgOS42MDE1NiAxMy4xOTgyIDEwLjcwOSAxMi40MDcyTDE0Ljg3NSAxNi41NzMyQzE1LjA2ODQgMTYuNzY2NiAxNS4zMjMyIDE2Ljg2MzMgMTUuNTk1NyAxNi44NjMzQzE2LjE2NyAxNi44NjMzIDE2LjU3MTMgMTYuNDIzOCAxNi41NzEzIDE1Ljg2MTNDMTYuNTcxMyAxNS41OTc3IDE2LjQ4MzQgMTUuMzUxNiAxNi4yOSAxNS4xNTgyTDEyLjE1MDQgMTEuMDA5OEMxMy4wMjA1IDkuODY3MTkgMTMuNTM5MSA4LjQ1MjE1IDEzLjUzOTEgNi45MTQwNkMxMy41MzkxIDMuMTk2MjkgMTAuNDk4IDAuMTU1MjczIDYuNzgwMjcgMC4xNTUyNzNDMy4wNjI1IDAuMTU1MjczIDAuMDIxNDg0NCAzLjE5NjI5IDAuMDIxNDg0NCA2LjkxNDA2QzAuMDIxNDg0NCAxMC42MzE4IDMuMDYyNSAxMy42NzI5IDYuNzgwMjcgMTMuNjcyOVpNNi43ODAyNyAxMi4yMTM5QzMuODc5ODggMTIuMjEzOSAxLjQ4MDQ3IDkuODE0NDUgMS40ODA0NyA2LjkxNDA2QzEuNDgwNDcgNC4wMTM2NyAzLjg3OTg4IDEuNjE0MjYgNi43ODAyNyAxLjYxNDI2QzkuNjgwNjYgMS42MTQyNiAxMi4wODAxIDQuMDEzNjcgMTIuMDgwMSA2LjkxNDA2QzEyLjA4MDEgOS44MTQ0NSA5LjY4MDY2IDEyLjIxMzkgNi43ODAyNyAxMi4yMTM5WlwiXG4gIH0pKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL3NlYXJjaC1kaWFsb2cudHN4XG52YXIgaW1wb3J0X2xvZGFzaCA9IF9fdG9FU00ocmVxdWlyZV9sb2Rhc2goKSwgMSk7XG5pbXBvcnQgKiBhcyBSZWFjdDEwIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0QmxvY2tQYXJlbnRQYWdlLCBnZXRCbG9ja1RpdGxlIGFzIGdldEJsb2NrVGl0bGUyIH0gZnJvbSBcIm5vdGlvbi11dGlsc1wiO1xuXG4vLyBzcmMvaWNvbnMvY2xlYXItaWNvbi50c3hcbmltcG9ydCAqIGFzIFJlYWN0OCBmcm9tIFwicmVhY3RcIjtcbnZhciBDbGVhckljb24gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgX2EgPSBwcm9wcywgeyBjbGFzc05hbWUgfSA9IF9hLCByZXN0ID0gX19vYmpSZXN0KF9hLCBbXCJjbGFzc05hbWVcIl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24taWNvblwiLCBjbGFzc05hbWUpXG4gIH0sIHJlc3QpLCB7XG4gICAgdmlld0JveDogXCIwIDAgMzAgMzBcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0OC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTUsMEM2LjcxNiwwLDAsNi43MTYsMCwxNXM2LjcxNiwxNSwxNSwxNXMxNS02LjcxNiwxNS0xNVMyMy4yODQsMCwxNSwweiBNMjIsMjAuNkwyMC42LDIyTDE1LDE2LjRMOS40LDIyTDgsMjAuNmw1LjYtNS42IEw4LDkuNEw5LjQsOGw1LjYsNS42TDIwLjYsOEwyMiw5LjRMMTYuNCwxNUwyMiwyMC42elwiXG4gIH0pKTtcbn07XG5cbi8vIHNyYy9pY29ucy9sb2FkaW5nLWljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDkgZnJvbSBcInJlYWN0XCI7XG52YXIgTG9hZGluZ0ljb24gPSAocHJvcHMpID0+IHtcbiAgY29uc3QgX2EgPSBwcm9wcywgeyBjbGFzc05hbWUgfSA9IF9hLCByZXN0ID0gX19vYmpSZXN0KF9hLCBbXCJjbGFzc05hbWVcIl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24taWNvblwiLCBjbGFzc05hbWUpXG4gIH0sIHJlc3QpLCB7XG4gICAgdmlld0JveDogXCIwIDAgMjQgMjRcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwiZGVmc1wiLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJsaW5lYXJHcmFkaWVudFwiLCB7XG4gICAgeDE6IFwiMjguMTU0Mjk2OSVcIixcbiAgICB5MTogXCI2My43NDAyMzQ0JVwiLFxuICAgIHgyOiBcIjc0LjYyODkwNjIlXCIsXG4gICAgeTI6IFwiMTcuNzgzMjAzMSVcIixcbiAgICBpZDogXCJsaW5lYXJHcmFkaWVudC0xXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgc3RvcENvbG9yOiBcInJnYmEoMTY0LCAxNjQsIDE2NCwgMSlcIixcbiAgICBvZmZzZXQ6IFwiMCVcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwic3RvcFwiLCB7XG4gICAgc3RvcENvbG9yOiBcInJnYmEoMTY0LCAxNjQsIDE2NCwgMClcIixcbiAgICBzdG9wT3BhY2l0eTogXCIwXCIsXG4gICAgb2Zmc2V0OiBcIjEwMCVcIlxuICB9KSkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICBpZDogXCJQYWdlLTFcIixcbiAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjFcIixcbiAgICBmaWxsOiBcIm5vbmVcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKC0yMzYuMDAwMDAwLCAtMjg2LjAwMDAwMClcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJnXCIsIHtcbiAgICB0cmFuc2Zvcm06IFwidHJhbnNsYXRlKDIzOC4wMDAwMDAsIDI4Ni4wMDAwMDApXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0OS5jcmVhdGVFbGVtZW50KFwiY2lyY2xlXCIsIHtcbiAgICBpZDogXCJPdmFsLTJcIixcbiAgICBzdHJva2U6IFwidXJsKCNsaW5lYXJHcmFkaWVudC0xKVwiLFxuICAgIHN0cm9rZVdpZHRoOiBcIjRcIixcbiAgICBjeDogXCIxMFwiLFxuICAgIGN5OiBcIjEyXCIsXG4gICAgcjogXCIxMFwiXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q5LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMCwyIEM0LjQ3NzE1MjUsMiAwLDYuNDc3MTUyNSAwLDEyXCIsXG4gICAgaWQ6IFwiT3ZhbC0yXCIsXG4gICAgc3Ryb2tlOiBcInJnYmEoMTY0LCAxNjQsIDE2NCwgMSlcIixcbiAgICBzdHJva2VXaWR0aDogXCI0XCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDkuY3JlYXRlRWxlbWVudChcInJlY3RcIiwge1xuICAgIGlkOiBcIlJlY3RhbmdsZS0xXCIsXG4gICAgZmlsbDogXCJyZ2JhKDE2NCwgMTY0LCAxNjQsIDEpXCIsXG4gICAgeDogXCI4XCIsXG4gICAgeTogXCIwXCIsXG4gICAgd2lkdGg6IFwiNFwiLFxuICAgIGhlaWdodDogXCI0XCIsXG4gICAgcng6IFwiOFwiXG4gIH0pKSkpKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL3NlYXJjaC1kaWFsb2cudHN4XG52YXIgU2VhcmNoRGlhbG9nID0gY2xhc3MgZXh0ZW5kcyBSZWFjdDEwLkNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBpc0xvYWRpbmc6IGZhbHNlLFxuICAgICAgcXVlcnk6IFwiXCIsXG4gICAgICBzZWFyY2hSZXN1bHQ6IG51bGwsXG4gICAgICBzZWFyY2hFcnJvcjogbnVsbFxuICAgIH07XG4gICAgdGhpcy5fb25BZnRlck9wZW4gPSAoKSA9PiB7XG4gICAgICBpZiAodGhpcy5faW5wdXRSZWYuY3VycmVudCkge1xuICAgICAgICB0aGlzLl9pbnB1dFJlZi5jdXJyZW50LmZvY3VzKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9vbkNoYW5nZVF1ZXJ5ID0gKGUpID0+IHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gZS50YXJnZXQudmFsdWU7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgcXVlcnkgfSk7XG4gICAgICBpZiAoIXF1ZXJ5LnRyaW0oKSkge1xuICAgICAgICB0aGlzLnNldFN0YXRlKHsgaXNMb2FkaW5nOiBmYWxzZSwgc2VhcmNoUmVzdWx0OiBudWxsLCBzZWFyY2hFcnJvcjogbnVsbCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc2VhcmNoKCk7XG4gICAgICB9XG4gICAgfTtcbiAgICB0aGlzLl9vbkNsZWFyUXVlcnkgPSAoKSA9PiB7XG4gICAgICB0aGlzLl9vbkNoYW5nZVF1ZXJ5KHsgdGFyZ2V0OiB7IHZhbHVlOiBcIlwiIH0gfSk7XG4gICAgfTtcbiAgICB0aGlzLl93YXJtdXBTZWFyY2ggPSAoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCB7IHNlYXJjaE5vdGlvbiwgcm9vdEJsb2NrSWQgfSA9IHRoaXMucHJvcHM7XG4gICAgICB5aWVsZCBzZWFyY2hOb3Rpb24oe1xuICAgICAgICBxdWVyeTogXCJcIixcbiAgICAgICAgYW5jZXN0b3JJZDogcm9vdEJsb2NrSWRcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuX3NlYXJjaEltcGwgPSAoKSA9PiBfX2FzeW5jKHRoaXMsIG51bGwsIGZ1bmN0aW9uKiAoKSB7XG4gICAgICBjb25zdCB7IHNlYXJjaE5vdGlvbiwgcm9vdEJsb2NrSWQgfSA9IHRoaXMucHJvcHM7XG4gICAgICBjb25zdCB7IHF1ZXJ5IH0gPSB0aGlzLnN0YXRlO1xuICAgICAgaWYgKCFxdWVyeS50cmltKCkpIHtcbiAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IGlzTG9hZGluZzogZmFsc2UsIHNlYXJjaFJlc3VsdDogbnVsbCwgc2VhcmNoRXJyb3I6IG51bGwgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IHRydWUgfSk7XG4gICAgICBjb25zdCByZXN1bHQgPSB5aWVsZCBzZWFyY2hOb3Rpb24oe1xuICAgICAgICBxdWVyeSxcbiAgICAgICAgYW5jZXN0b3JJZDogcm9vdEJsb2NrSWRcbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJzZWFyY2hcIiwgcXVlcnksIHJlc3VsdCk7XG4gICAgICBsZXQgc2VhcmNoUmVzdWx0ID0gbnVsbDtcbiAgICAgIGxldCBzZWFyY2hFcnJvciA9IG51bGw7XG4gICAgICBpZiAocmVzdWx0LmVycm9yIHx8IHJlc3VsdC5lcnJvcklkKSB7XG4gICAgICAgIHNlYXJjaEVycm9yID0gcmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VhcmNoUmVzdWx0ID0gX19zcHJlYWRWYWx1ZXMoe30sIHJlc3VsdCk7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBzZWFyY2hSZXN1bHQucmVzdWx0cy5tYXAoKHJlc3VsdDIpID0+IHtcbiAgICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICAgIGNvbnN0IGJsb2NrID0gKF9hID0gc2VhcmNoUmVzdWx0LnJlY29yZE1hcC5ibG9ja1tyZXN1bHQyLmlkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnZhbHVlO1xuICAgICAgICAgIGlmICghYmxvY2spXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgY29uc3QgdGl0bGUgPSBnZXRCbG9ja1RpdGxlMihibG9jaywgc2VhcmNoUmVzdWx0LnJlY29yZE1hcCk7XG4gICAgICAgICAgaWYgKCF0aXRsZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQyLnRpdGxlID0gdGl0bGU7XG4gICAgICAgICAgcmVzdWx0Mi5ibG9jayA9IGJsb2NrO1xuICAgICAgICAgIHJlc3VsdDIucmVjb3JkTWFwID0gc2VhcmNoUmVzdWx0LnJlY29yZE1hcDtcbiAgICAgICAgICByZXN1bHQyLnBhZ2UgPSBnZXRCbG9ja1BhcmVudFBhZ2UoYmxvY2ssIHNlYXJjaFJlc3VsdC5yZWNvcmRNYXAsIHtcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZVxuICAgICAgICAgIH0pIHx8IGJsb2NrO1xuICAgICAgICAgIGlmICghcmVzdWx0Mi5wYWdlLmlkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgoX2IgPSByZXN1bHQyLmhpZ2hsaWdodCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnRleHQpIHtcbiAgICAgICAgICAgIHJlc3VsdDIuaGlnaGxpZ2h0Lmh0bWwgPSByZXN1bHQyLmhpZ2hsaWdodC50ZXh0LnJlcGxhY2UoLzxnemtOZm9VVT4vZ2ksIFwiPGI+XCIpLnJlcGxhY2UoLzxcXC9nemtOZm9VVT4vZ2ksIFwiPC9iPlwiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDI7XG4gICAgICAgIH0pLmZpbHRlcihCb29sZWFuKTtcbiAgICAgICAgY29uc3Qgc2VhcmNoUmVzdWx0c01hcCA9IHJlc3VsdHMucmVkdWNlKFxuICAgICAgICAgIChtYXAsIHJlc3VsdDIpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIG1hcCksIHtcbiAgICAgICAgICAgIFtyZXN1bHQyLnBhZ2UuaWRdOiByZXN1bHQyXG4gICAgICAgICAgfSksXG4gICAgICAgICAge31cbiAgICAgICAgKTtcbiAgICAgICAgc2VhcmNoUmVzdWx0LnJlc3VsdHMgPSBPYmplY3QudmFsdWVzKHNlYXJjaFJlc3VsdHNNYXApO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMuc3RhdGUucXVlcnkgPT09IHF1ZXJ5KSB7XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoeyBpc0xvYWRpbmc6IGZhbHNlLCBzZWFyY2hSZXN1bHQsIHNlYXJjaEVycm9yIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHRoaXMuX2lucHV0UmVmID0gUmVhY3QxMC5jcmVhdGVSZWYoKTtcbiAgfVxuICBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLl9zZWFyY2ggPSAoMCwgaW1wb3J0X2xvZGFzaC5kZWZhdWx0KSh0aGlzLl9zZWFyY2hJbXBsLmJpbmQodGhpcyksIDFlMyk7XG4gICAgdGhpcy5fd2FybXVwU2VhcmNoKCk7XG4gIH1cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgaXNPcGVuLCBvbkNsb3NlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgaXNMb2FkaW5nLCBxdWVyeSwgc2VhcmNoUmVzdWx0LCBzZWFyY2hFcnJvciB9ID0gdGhpcy5zdGF0ZTtcbiAgICBjb25zdCBoYXNRdWVyeSA9ICEhcXVlcnkudHJpbSgpO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KE5vdGlvbkNvbnRleHRDb25zdW1lciwgbnVsbCwgKGN0eDIpID0+IHtcbiAgICAgIGNvbnN0IHsgY29tcG9uZW50cywgZGVmYXVsdFBhZ2VJY29uLCBtYXBQYWdlVXJsIH0gPSBjdHgyO1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5Nb2RhbCwge1xuICAgICAgICBpc09wZW4sXG4gICAgICAgIGNvbnRlbnRMYWJlbDogXCJTZWFyY2hcIixcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1zZWFyY2hcIixcbiAgICAgICAgb3ZlcmxheUNsYXNzTmFtZTogXCJub3Rpb24tc2VhcmNoLW92ZXJsYXlcIixcbiAgICAgICAgb25SZXF1ZXN0Q2xvc2U6IG9uQ2xvc2UsXG4gICAgICAgIG9uQWZ0ZXJPcGVuOiB0aGlzLl9vbkFmdGVyT3BlblxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJxdWlja0ZpbmRNZW51XCJcbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwic2VhcmNoQmFyXCJcbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwiaW5saW5lSWNvblwiXG4gICAgICB9LCBpc0xvYWRpbmcgPyAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KExvYWRpbmdJY29uLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJsb2FkaW5nSWNvblwiXG4gICAgICB9KSA6IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoU2VhcmNoSWNvbiwgbnVsbCkpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwic2VhcmNoSW5wdXRcIixcbiAgICAgICAgcGxhY2Vob2xkZXI6IFwiU2VhcmNoXCIsXG4gICAgICAgIHZhbHVlOiBxdWVyeSxcbiAgICAgICAgcmVmOiB0aGlzLl9pbnB1dFJlZixcbiAgICAgICAgb25DaGFuZ2U6IHRoaXMuX29uQ2hhbmdlUXVlcnlcbiAgICAgIH0pLCBxdWVyeSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgcm9sZTogXCJidXR0b25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBcImNsZWFyQnV0dG9uXCIsXG4gICAgICAgIG9uQ2xpY2s6IHRoaXMuX29uQ2xlYXJRdWVyeVxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChDbGVhckljb24sIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcImNsZWFySWNvblwiXG4gICAgICB9KSkpLCBoYXNRdWVyeSAmJiBzZWFyY2hSZXN1bHQgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChSZWFjdDEwLkZyYWdtZW50LCBudWxsLCBzZWFyY2hSZXN1bHQucmVzdWx0cy5sZW5ndGggPyAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KE5vdGlvbkNvbnRleHRQcm92aWRlciwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY3R4MiksIHtcbiAgICAgICAgcmVjb3JkTWFwOiBzZWFyY2hSZXN1bHQucmVjb3JkTWFwXG4gICAgICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyZXN1bHRzUGFuZVwiXG4gICAgICB9LCBzZWFyY2hSZXN1bHQucmVzdWx0cy5tYXAoKHJlc3VsdCkgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGFnZUxpbmssIHtcbiAgICAgICAgICBrZXk6IHJlc3VsdC5pZCxcbiAgICAgICAgICBjbGFzc05hbWU6IGNzKFwicmVzdWx0XCIsIFwibm90aW9uLXBhZ2UtbGlua1wiKSxcbiAgICAgICAgICBocmVmOiBtYXBQYWdlVXJsKFxuICAgICAgICAgICAgcmVzdWx0LnBhZ2UuaWQsXG4gICAgICAgICAgICBzZWFyY2hSZXN1bHQucmVjb3JkTWFwXG4gICAgICAgICAgKVxuICAgICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFBhZ2VUaXRsZSwge1xuICAgICAgICAgIGJsb2NrOiByZXN1bHQucGFnZSxcbiAgICAgICAgICBkZWZhdWx0SWNvbjogZGVmYXVsdFBhZ2VJY29uXG4gICAgICAgIH0pLCAoKF9hID0gcmVzdWx0LmhpZ2hsaWdodCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmh0bWwpICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tc2VhcmNoLXJlc3VsdC1oaWdobGlnaHRcIixcbiAgICAgICAgICBkYW5nZXJvdXNseVNldElubmVySFRNTDoge1xuICAgICAgICAgICAgX19odG1sOiByZXN1bHQuaGlnaGxpZ2h0Lmh0bWxcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH0pKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcImZvb3RlclwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJyZXN1bHRzRm9vdGVyXCJcbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwicmVzdWx0c0NvdW50XCJcbiAgICAgIH0sIHNlYXJjaFJlc3VsdC50b3RhbCksIHNlYXJjaFJlc3VsdC50b3RhbCA9PT0gMSA/IFwiIHJlc3VsdFwiIDogXCIgcmVzdWx0c1wiKSkpIDogLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub1Jlc3VsdHNQYW5lXCJcbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibm9SZXN1bHRzXCJcbiAgICAgIH0sIFwiTm8gcmVzdWx0c1wiKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTAuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub1Jlc3VsdHNEZXRhaWxcIlxuICAgICAgfSwgXCJUcnkgZGlmZmVyZW50IHNlYXJjaCB0ZXJtc1wiKSkpLCBoYXNRdWVyeSAmJiAhc2VhcmNoUmVzdWx0ICYmIHNlYXJjaEVycm9yICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICBjbGFzc05hbWU6IFwibm9SZXN1bHRzUGFuZVwiXG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vUmVzdWx0c1wiXG4gICAgICB9LCBcIlNlYXJjaCBlcnJvclwiKSkpKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvaGVhZGVyLnRzeFxudmFyIEhlYWRlciA9ICh7IGJsb2NrIH0pID0+IHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXCJoZWFkZXJcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24taGVhZGVyXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1uYXYtaGVhZGVyXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChCcmVhZGNydW1icywge1xuICAgIGJsb2NrXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFNlYXJjaCwge1xuICAgIGJsb2NrXG4gIH0pKSk7XG59O1xudmFyIEJyZWFkY3J1bWJzID0gKHsgYmxvY2ssIHJvb3RPbmx5ID0gZmFsc2UgfSkgPT4ge1xuICBjb25zdCB7IHJlY29yZE1hcCwgbWFwUGFnZVVybCwgY29tcG9uZW50cyB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCBicmVhZGNydW1icyA9IFJlYWN0MTEudXNlTWVtbygoKSA9PiB7XG4gICAgY29uc3QgYnJlYWRjcnVtYnMyID0gZ2V0UGFnZUJyZWFkY3J1bWJzKHJlY29yZE1hcCwgYmxvY2suaWQpO1xuICAgIGlmIChyb290T25seSkge1xuICAgICAgcmV0dXJuIFticmVhZGNydW1iczJbMF1dLmZpbHRlcihCb29sZWFuKTtcbiAgICB9XG4gICAgcmV0dXJuIGJyZWFkY3J1bWJzMjtcbiAgfSwgW3JlY29yZE1hcCwgYmxvY2suaWQsIHJvb3RPbmx5XSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwiYnJlYWRjcnVtYnNcIixcbiAgICBrZXk6IFwiYnJlYWRjcnVtYnNcIlxuICB9LCBicmVhZGNydW1icy5tYXAoKGJyZWFkY3J1bWIsIGluZGV4KSA9PiB7XG4gICAgaWYgKCFicmVhZGNydW1iKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcGFnZUxpbmtQcm9wcyA9IHt9O1xuICAgIGNvbnN0IGNvbXBvbmVudE1hcCA9IHtcbiAgICAgIHBhZ2VMaW5rOiBjb21wb25lbnRzLlBhZ2VMaW5rXG4gICAgfTtcbiAgICBpZiAoYnJlYWRjcnVtYi5hY3RpdmUpIHtcbiAgICAgIGNvbXBvbmVudE1hcC5wYWdlTGluayA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcImRpdlwiLCBfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcGFnZUxpbmtQcm9wcy5ocmVmID0gbWFwUGFnZVVybChicmVhZGNydW1iLnBhZ2VJZCk7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KFJlYWN0MTEuRnJhZ21lbnQsIHtcbiAgICAgIGtleTogYnJlYWRjcnVtYi5wYWdlSWRcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMS5jcmVhdGVFbGVtZW50KGNvbXBvbmVudE1hcC5wYWdlTGluaywgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgY2xhc3NOYW1lOiBjcyhcImJyZWFkY3J1bWJcIiwgYnJlYWRjcnVtYi5hY3RpdmUgJiYgXCJhY3RpdmVcIilcbiAgICB9LCBwYWdlTGlua1Byb3BzKSwgYnJlYWRjcnVtYi5pY29uICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoUGFnZUljb24sIHtcbiAgICAgIGNsYXNzTmFtZTogXCJpY29uXCIsXG4gICAgICBibG9jazogYnJlYWRjcnVtYi5ibG9ja1xuICAgIH0pLCBicmVhZGNydW1iLnRpdGxlICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJ0aXRsZVwiXG4gICAgfSwgYnJlYWRjcnVtYi50aXRsZSkpLCBpbmRleCA8IGJyZWFkY3J1bWJzLmxlbmd0aCAtIDEgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcInNwYWNlclwiXG4gICAgfSwgXCIvXCIpKTtcbiAgfSkpO1xufTtcbnZhciBTZWFyY2ggPSAoeyBibG9jaywgc2VhcmNoLCB0aXRsZSA9IFwiU2VhcmNoXCIgfSkgPT4ge1xuICBjb25zdCB7IHNlYXJjaE5vdGlvbiwgcm9vdFBhZ2VJZCwgaXNTaG93aW5nU2VhcmNoLCBvbkhpZGVTZWFyY2ggfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qgb25TZWFyY2hOb3Rpb24gPSBzZWFyY2ggfHwgc2VhcmNoTm90aW9uO1xuICBjb25zdCBbaXNTZWFyY2hPcGVuLCBzZXRJc1NlYXJjaE9wZW5dID0gUmVhY3QxMS51c2VTdGF0ZShpc1Nob3dpbmdTZWFyY2gpO1xuICBSZWFjdDExLnVzZUVmZmVjdCgoKSA9PiB7XG4gICAgc2V0SXNTZWFyY2hPcGVuKGlzU2hvd2luZ1NlYXJjaCk7XG4gIH0sIFtpc1Nob3dpbmdTZWFyY2hdKTtcbiAgY29uc3Qgb25PcGVuU2VhcmNoID0gUmVhY3QxMS51c2VDYWxsYmFjaygoKSA9PiB7XG4gICAgc2V0SXNTZWFyY2hPcGVuKHRydWUpO1xuICB9LCBbXSk7XG4gIGNvbnN0IG9uQ2xvc2VTZWFyY2ggPSBSZWFjdDExLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBzZXRJc1NlYXJjaE9wZW4oZmFsc2UpO1xuICAgIGlmIChvbkhpZGVTZWFyY2gpIHtcbiAgICAgIG9uSGlkZVNlYXJjaCgpO1xuICAgIH1cbiAgfSwgW29uSGlkZVNlYXJjaF0pO1xuICB1c2VIb3RrZXlzKFwiY21kK3BcIiwgKGV2ZW50KSA9PiB7XG4gICAgb25PcGVuU2VhcmNoKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgfSk7XG4gIHVzZUhvdGtleXMoXCJjbWQra1wiLCAoZXZlbnQpID0+IHtcbiAgICBvbk9wZW5TZWFyY2goKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICB9KTtcbiAgY29uc3QgaGFzU2VhcmNoID0gISFvblNlYXJjaE5vdGlvbjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMS5GcmFnbWVudCwgbnVsbCwgaGFzU2VhcmNoICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDExLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIHJvbGU6IFwiYnV0dG9uXCIsXG4gICAgY2xhc3NOYW1lOiBjcyhcImJyZWFkY3J1bWJcIiwgXCJidXR0b25cIiwgXCJub3Rpb24tc2VhcmNoLWJ1dHRvblwiKSxcbiAgICBvbkNsaWNrOiBvbk9wZW5TZWFyY2hcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChTZWFyY2hJY29uLCB7XG4gICAgY2xhc3NOYW1lOiBcInNlYXJjaEljb25cIlxuICB9KSwgdGl0bGUgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ0aXRsZVwiXG4gIH0sIHRpdGxlKSksIGlzU2VhcmNoT3BlbiAmJiBoYXNTZWFyY2ggJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTEuY3JlYXRlRWxlbWVudChTZWFyY2hEaWFsb2csIHtcbiAgICBpc09wZW46IGlzU2VhcmNoT3BlbixcbiAgICByb290QmxvY2tJZDogcm9vdFBhZ2VJZCB8fCAoYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLmlkKSxcbiAgICBvbkNsb3NlOiBvbkNsb3NlU2VhcmNoLFxuICAgIHNlYXJjaE5vdGlvbjogb25TZWFyY2hOb3Rpb25cbiAgfSkpO1xufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYXNzZXQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDEzIGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgZ2V0VGV4dENvbnRlbnQgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5cbi8vIHNyYy9jb21wb25lbnRzL2xpdGUteW91dHViZS1lbWJlZC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTIgZnJvbSBcInJlYWN0XCI7XG52YXIgcXMgPSAocGFyYW1zKSA9PiB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChcbiAgICAoa2V5KSA9PiBgJHtlbmNvZGVVUklDb21wb25lbnQoa2V5KX09JHtlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tleV0pfWBcbiAgKS5qb2luKFwiJlwiKTtcbn07XG52YXIgTGl0ZVlvdVR1YmVFbWJlZCA9ICh7XG4gIGlkLFxuICBkZWZhdWx0UGxheSA9IGZhbHNlLFxuICBtdXRlID0gZmFsc2UsXG4gIGxhenlJbWFnZSA9IGZhbHNlLFxuICBpZnJhbWVUaXRsZSA9IFwiWW91VHViZSB2aWRlb1wiLFxuICBhbHQgPSBcIlZpZGVvIHByZXZpZXdcIixcbiAgcGFyYW1zID0ge30sXG4gIGFkTGlua3NQcmVjb25uZWN0ID0gdHJ1ZSxcbiAgc3R5bGUsXG4gIGNsYXNzTmFtZVxufSkgPT4ge1xuICBjb25zdCBtdXRlUGFyYW0gPSBtdXRlIHx8IGRlZmF1bHRQbGF5ID8gXCIxXCIgOiBcIjBcIjtcbiAgY29uc3QgcXVlcnlTdHJpbmcgPSBSZWFjdDEyLnVzZU1lbW8oXG4gICAgKCkgPT4gcXMoX19zcHJlYWRWYWx1ZXMoeyBhdXRvcGxheTogXCIxXCIsIG11dGU6IG11dGVQYXJhbSB9LCBwYXJhbXMpKSxcbiAgICBbbXV0ZVBhcmFtLCBwYXJhbXNdXG4gICk7XG4gIGNvbnN0IHJlc29sdXRpb24gPSBcImhxZGVmYXVsdFwiO1xuICBjb25zdCBwb3N0ZXJVcmwgPSBgaHR0cHM6Ly9pLnl0aW1nLmNvbS92aS8ke2lkfS8ke3Jlc29sdXRpb259LmpwZ2A7XG4gIGNvbnN0IHl0VXJsID0gXCJodHRwczovL3d3dy55b3V0dWJlLW5vY29va2llLmNvbVwiO1xuICBjb25zdCBpZnJhbWVTcmMgPSBgJHt5dFVybH0vZW1iZWQvJHtpZH0/JHtxdWVyeVN0cmluZ31gO1xuICBjb25zdCBbaXNQcmVjb25uZWN0ZWQsIHNldElzUHJlY29ubmVjdGVkXSA9IFJlYWN0MTIudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCBbaWZyYW1lSW5pdGlhbGl6ZWQsIHNldElmcmFtZUluaXRpYWxpemVkXSA9IFJlYWN0MTIudXNlU3RhdGUoZGVmYXVsdFBsYXkpO1xuICBjb25zdCBbaXNJZnJhbWVMb2FkZWQsIHNldElzSWZyYW1lTG9hZGVkXSA9IFJlYWN0MTIudXNlU3RhdGUoZmFsc2UpO1xuICBjb25zdCB3YXJtQ29ubmVjdGlvbnMgPSBSZWFjdDEyLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoaXNQcmVjb25uZWN0ZWQpXG4gICAgICByZXR1cm47XG4gICAgc2V0SXNQcmVjb25uZWN0ZWQodHJ1ZSk7XG4gIH0sIFtpc1ByZWNvbm5lY3RlZF0pO1xuICBjb25zdCBvbkxvYWRJZnJhbWUgPSBSZWFjdDEyLnVzZUNhbGxiYWNrKCgpID0+IHtcbiAgICBpZiAoaWZyYW1lSW5pdGlhbGl6ZWQpXG4gICAgICByZXR1cm47XG4gICAgc2V0SWZyYW1lSW5pdGlhbGl6ZWQodHJ1ZSk7XG4gIH0sIFtpZnJhbWVJbml0aWFsaXplZF0pO1xuICBjb25zdCBvbklmcmFtZUxvYWRlZCA9IFJlYWN0MTIudXNlQ2FsbGJhY2soKCkgPT4ge1xuICAgIHNldElzSWZyYW1lTG9hZGVkKHRydWUpO1xuICB9LCBbXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFJlYWN0MTIuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHtcbiAgICByZWw6IFwicHJlbG9hZFwiLFxuICAgIGhyZWY6IHBvc3RlclVybCxcbiAgICBhczogXCJpbWFnZVwiXG4gIH0pLCBpc1ByZWNvbm5lY3RlZCAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFJlYWN0MTIuRnJhZ21lbnQsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJsaW5rXCIsIHtcbiAgICByZWw6IFwicHJlY29ubmVjdFwiLFxuICAgIGhyZWY6IHl0VXJsXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFwibGlua1wiLCB7XG4gICAgcmVsOiBcInByZWNvbm5lY3RcIixcbiAgICBocmVmOiBcImh0dHBzOi8vd3d3Lmdvb2dsZS5jb21cIlxuICB9KSksIGlzUHJlY29ubmVjdGVkICYmIGFkTGlua3NQcmVjb25uZWN0ICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoUmVhY3QxMi5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcImxpbmtcIiwge1xuICAgIHJlbDogXCJwcmVjb25uZWN0XCIsXG4gICAgaHJlZjogXCJodHRwczovL3N0YXRpYy5kb3VibGVjbGljay5uZXRcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcImxpbmtcIiwge1xuICAgIHJlbDogXCJwcmVjb25uZWN0XCIsXG4gICAgaHJlZjogXCJodHRwczovL2dvb2dsZWFkcy5nLmRvdWJsZWNsaWNrLm5ldFwiXG4gIH0pKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgb25DbGljazogb25Mb2FkSWZyYW1lLFxuICAgIG9uUG9pbnRlck92ZXI6IHdhcm1Db25uZWN0aW9ucyxcbiAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgXCJub3Rpb24teXQtbGl0ZVwiLFxuICAgICAgaXNJZnJhbWVMb2FkZWQgJiYgXCJub3Rpb24teXQtbG9hZGVkXCIsXG4gICAgICBpZnJhbWVJbml0aWFsaXplZCAmJiBcIm5vdGlvbi15dC1pbml0aWFsaXplZFwiLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKSxcbiAgICBzdHlsZVxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMi5jcmVhdGVFbGVtZW50KFwiaW1nXCIsIHtcbiAgICBzcmM6IHBvc3RlclVybCxcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLXl0LXRodW1ibmFpbFwiLFxuICAgIGxvYWRpbmc6IGxhenlJbWFnZSA/IFwibGF6eVwiIDogdm9pZCAwLFxuICAgIGFsdFxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi15dC1wbGF5YnRuXCJcbiAgfSksIGlmcmFtZUluaXRpYWxpemVkICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEyLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiwge1xuICAgIHdpZHRoOiBcIjU2MFwiLFxuICAgIGhlaWdodDogXCIzMTVcIixcbiAgICBmcmFtZUJvcmRlcjogXCIwXCIsXG4gICAgYWxsb3c6IFwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGVuY3J5cHRlZC1tZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmVcIixcbiAgICBhbGxvd0Z1bGxTY3JlZW46IHRydWUsXG4gICAgdGl0bGU6IGlmcmFtZVRpdGxlLFxuICAgIHNyYzogaWZyYW1lU3JjLFxuICAgIG9uTG9hZDogb25JZnJhbWVMb2FkZWRcbiAgfSkpKTtcbn07XG5cbi8vIHNyYy9jb21wb25lbnRzL2Fzc2V0LnRzeFxudmFyIGlzU2VydmVyID0gdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIjtcbnZhciBzdXBwb3J0ZWRBc3NldFR5cGVzID0gW1xuICBcInZpZGVvXCIsXG4gIFwiaW1hZ2VcIixcbiAgXCJlbWJlZFwiLFxuICBcImZpZ21hXCIsXG4gIFwidHlwZWZvcm1cIixcbiAgXCJleGNhbGlkcmF3XCIsXG4gIFwibWFwc1wiLFxuICBcInR3ZWV0XCIsXG4gIFwicGRmXCIsXG4gIFwiZ2lzdFwiLFxuICBcImNvZGVwZW5cIixcbiAgXCJkcml2ZVwiXG5dO1xudmFyIEFzc2V0ID0gKHsgYmxvY2ssIHpvb21hYmxlID0gdHJ1ZSwgY2hpbGRyZW4gfSkgPT4ge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2o7XG4gIGNvbnN0IHsgcmVjb3JkTWFwLCBtYXBJbWFnZVVybCwgY29tcG9uZW50cyB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBpZiAoIWJsb2NrIHx8ICFzdXBwb3J0ZWRBc3NldFR5cGVzLmluY2x1ZGVzKGJsb2NrLnR5cGUpKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3Qgc3R5bGUgPSB7XG4gICAgcG9zaXRpb246IFwicmVsYXRpdmVcIixcbiAgICBkaXNwbGF5OiBcImZsZXhcIixcbiAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICBhbGlnblNlbGY6IFwiY2VudGVyXCIsXG4gICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgIG1heFdpZHRoOiBcIjEwMCVcIixcbiAgICBmbGV4RGlyZWN0aW9uOiBcImNvbHVtblwiXG4gIH07XG4gIGNvbnN0IGFzc2V0U3R5bGUgPSB7fTtcbiAgaWYgKGJsb2NrLmZvcm1hdCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGJsb2NrX2FzcGVjdF9yYXRpbyxcbiAgICAgIGJsb2NrX2hlaWdodCxcbiAgICAgIGJsb2NrX3dpZHRoLFxuICAgICAgYmxvY2tfZnVsbF93aWR0aCxcbiAgICAgIGJsb2NrX3BhZ2Vfd2lkdGgsXG4gICAgICBibG9ja19wcmVzZXJ2ZV9zY2FsZVxuICAgIH0gPSBibG9jay5mb3JtYXQ7XG4gICAgaWYgKGJsb2NrX2Z1bGxfd2lkdGggfHwgYmxvY2tfcGFnZV93aWR0aCkge1xuICAgICAgaWYgKGJsb2NrX2Z1bGxfd2lkdGgpIHtcbiAgICAgICAgc3R5bGUud2lkdGggPSBcIjEwMHZ3XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgfVxuICAgICAgaWYgKGJsb2NrLnR5cGUgPT09IFwidmlkZW9cIikge1xuICAgICAgICBpZiAoYmxvY2tfaGVpZ2h0KSB7XG4gICAgICAgICAgc3R5bGUuaGVpZ2h0ID0gYmxvY2tfaGVpZ2h0O1xuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrX2FzcGVjdF9yYXRpbykge1xuICAgICAgICAgIHN0eWxlLnBhZGRpbmdCb3R0b20gPSBgJHtibG9ja19hc3BlY3RfcmF0aW8gKiAxMDB9JWA7XG4gICAgICAgIH0gZWxzZSBpZiAoYmxvY2tfcHJlc2VydmVfc2NhbGUpIHtcbiAgICAgICAgICBzdHlsZS5vYmplY3RGaXQgPSBcImNvbnRhaW5cIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChibG9ja19hc3BlY3RfcmF0aW8gJiYgYmxvY2sudHlwZSAhPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHN0eWxlLnBhZGRpbmdCb3R0b20gPSBgJHtibG9ja19hc3BlY3RfcmF0aW8gKiAxMDB9JWA7XG4gICAgICB9IGVsc2UgaWYgKGJsb2NrX2hlaWdodCkge1xuICAgICAgICBzdHlsZS5oZWlnaHQgPSBibG9ja19oZWlnaHQ7XG4gICAgICB9IGVsc2UgaWYgKGJsb2NrX3ByZXNlcnZlX3NjYWxlKSB7XG4gICAgICAgIGlmIChibG9jay50eXBlID09PSBcImltYWdlXCIpIHtcbiAgICAgICAgICBzdHlsZS5oZWlnaHQgPSBcIjEwMCVcIjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gXCI3NSVcIjtcbiAgICAgICAgICBzdHlsZS5taW5IZWlnaHQgPSAxMDA7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc3dpdGNoICgoX2EgPSBibG9jay5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5ibG9ja19hbGlnbm1lbnQpIHtcbiAgICAgICAgY2FzZSBcImNlbnRlclwiOiB7XG4gICAgICAgICAgc3R5bGUuYWxpZ25TZWxmID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwibGVmdFwiOiB7XG4gICAgICAgICAgc3R5bGUuYWxpZ25TZWxmID0gXCJzdGFydFwiO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJyaWdodFwiOiB7XG4gICAgICAgICAgc3R5bGUuYWxpZ25TZWxmID0gXCJlbmRcIjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGJsb2NrX3dpZHRoKSB7XG4gICAgICAgIHN0eWxlLndpZHRoID0gYmxvY2tfd2lkdGg7XG4gICAgICB9XG4gICAgICBpZiAoYmxvY2tfcHJlc2VydmVfc2NhbGUgJiYgYmxvY2sudHlwZSAhPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIjUwJVwiO1xuICAgICAgICBzdHlsZS5taW5IZWlnaHQgPSAxMDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAoYmxvY2tfaGVpZ2h0ICYmIGJsb2NrLnR5cGUgIT09IFwiaW1hZ2VcIikge1xuICAgICAgICAgIHN0eWxlLmhlaWdodCA9IGJsb2NrX2hlaWdodDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICBhc3NldFN0eWxlLm9iamVjdEZpdCA9IFwiY292ZXJcIjtcbiAgICB9IGVsc2UgaWYgKGJsb2NrX3ByZXNlcnZlX3NjYWxlKSB7XG4gICAgICBhc3NldFN0eWxlLm9iamVjdEZpdCA9IFwiY29udGFpblwiO1xuICAgIH1cbiAgfVxuICBsZXQgc291cmNlID0gKChfYiA9IHJlY29yZE1hcC5zaWduZWRfdXJscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9iW2Jsb2NrLmlkXSkgfHwgKChfZSA9IChfZCA9IChfYyA9IGJsb2NrLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYy5zb3VyY2UpID09IG51bGwgPyB2b2lkIDAgOiBfZFswXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lWzBdKTtcbiAgbGV0IGNvbnRlbnQgPSBudWxsO1xuICBpZiAoIXNvdXJjZSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGlmIChibG9jay50eXBlID09PSBcInR3ZWV0XCIpIHtcbiAgICBjb25zdCBzcmMgPSBzb3VyY2U7XG4gICAgaWYgKCFzcmMpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBpZCA9IHNyYy5zcGxpdChcIj9cIilbMF0uc3BsaXQoXCIvXCIpLnBvcCgpO1xuICAgIGlmICghaWQpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBzdHlsZTogX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgYXNzZXRTdHlsZSksIHtcbiAgICAgICAgbWF4V2lkdGg6IDQyMCxcbiAgICAgICAgd2lkdGg6IFwiMTAwJVwiLFxuICAgICAgICBtYXJnaW5MZWZ0OiBcImF1dG9cIixcbiAgICAgICAgbWFyZ2luUmlnaHQ6IFwiYXV0b1wiXG4gICAgICB9KVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5Ud2VldCwge1xuICAgICAgaWRcbiAgICB9KSk7XG4gIH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJwZGZcIikge1xuICAgIHN0eWxlLm92ZXJmbG93ID0gXCJhdXRvXCI7XG4gICAgc3R5bGUuYmFja2dyb3VuZCA9IFwicmdiKDIyNiwgMjI2LCAyMjYpXCI7XG4gICAgc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICBpZiAoIXN0eWxlLnBhZGRpbmcpIHtcbiAgICAgIHN0eWxlLnBhZGRpbmcgPSBcIjhweCAxNnB4XCI7XG4gICAgfVxuICAgIGlmICghaXNTZXJ2ZXIpIHtcbiAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGRmLCB7XG4gICAgICAgIGZpbGU6IHNvdXJjZVxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiZW1iZWRcIiB8fCBibG9jay50eXBlID09PSBcInZpZGVvXCIgfHwgYmxvY2sudHlwZSA9PT0gXCJmaWdtYVwiIHx8IGJsb2NrLnR5cGUgPT09IFwidHlwZWZvcm1cIiB8fCBibG9jay50eXBlID09PSBcImdpc3RcIiB8fCBibG9jay50eXBlID09PSBcIm1hcHNcIiB8fCBibG9jay50eXBlID09PSBcImV4Y2FsaWRyYXdcIiB8fCBibG9jay50eXBlID09PSBcImNvZGVwZW5cIiB8fCBibG9jay50eXBlID09PSBcImRyaXZlXCIpIHtcbiAgICBpZiAoYmxvY2sudHlwZSA9PT0gXCJ2aWRlb1wiICYmIHNvdXJjZSAmJiBzb3VyY2UuaW5kZXhPZihcInlvdXR1YmVcIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwieW91dHUuYmVcIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwidmltZW9cIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwid2lzdGlhXCIpIDwgMCAmJiBzb3VyY2UuaW5kZXhPZihcImxvb21cIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwidmlkZW9hc2tcIikgPCAwICYmIHNvdXJjZS5pbmRleE9mKFwiZ2V0Y2xvdWRhcHBcIikgPCAwKSB7XG4gICAgICBzdHlsZS5wYWRkaW5nQm90dG9tID0gdm9pZCAwO1xuICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoXCJ2aWRlb1wiLCB7XG4gICAgICAgIHBsYXlzSW5saW5lOiB0cnVlLFxuICAgICAgICBjb250cm9sczogdHJ1ZSxcbiAgICAgICAgcHJlbG9hZDogXCJtZXRhZGF0YVwiLFxuICAgICAgICBzdHlsZTogYXNzZXRTdHlsZSxcbiAgICAgICAgc3JjOiBzb3VyY2UsXG4gICAgICAgIHRpdGxlOiBibG9jay50eXBlXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHNyYyA9ICgoX2YgPSBibG9jay5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfZi5kaXNwbGF5X3NvdXJjZSkgfHwgc291cmNlO1xuICAgICAgaWYgKHNyYykge1xuICAgICAgICBjb25zdCB5b3V0dWJlVmlkZW9JZCA9IGJsb2NrLnR5cGUgPT09IFwidmlkZW9cIiA/IGdldFlvdXR1YmVJZChzcmMpIDogbnVsbDtcbiAgICAgICAgaWYgKHlvdXR1YmVWaWRlb0lkKSB7XG4gICAgICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoTGl0ZVlvdVR1YmVFbWJlZCwge1xuICAgICAgICAgICAgaWQ6IHlvdXR1YmVWaWRlb0lkLFxuICAgICAgICAgICAgc3R5bGU6IGFzc2V0U3R5bGUsXG4gICAgICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWFzc2V0LW9iamVjdC1maXRcIlxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKGJsb2NrLnR5cGUgPT09IFwiZ2lzdFwiKSB7XG4gICAgICAgICAgaWYgKCFzcmMuZW5kc1dpdGgoXCIucGliYlwiKSkge1xuICAgICAgICAgICAgc3JjID0gYCR7c3JjfS5waWJiYDtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzZXRTdHlsZS53aWR0aCA9IFwiMTAwJVwiO1xuICAgICAgICAgIHN0eWxlLnBhZGRpbmdCb3R0b20gPSBcIjUwJVwiO1xuICAgICAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIsIHtcbiAgICAgICAgICAgIHN0eWxlOiBhc3NldFN0eWxlLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1hc3NldC1vYmplY3QtZml0XCIsXG4gICAgICAgICAgICBzcmMsXG4gICAgICAgICAgICB0aXRsZTogXCJHaXRIdWIgR2lzdFwiLFxuICAgICAgICAgICAgZnJhbWVCb3JkZXI6IFwiMFwiLFxuICAgICAgICAgICAgbG9hZGluZzogXCJsYXp5XCIsXG4gICAgICAgICAgICBzY3JvbGxpbmc6IFwiYXV0b1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIiwge1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1hc3NldC1vYmplY3QtZml0XCIsXG4gICAgICAgICAgICBzdHlsZTogYXNzZXRTdHlsZSxcbiAgICAgICAgICAgIHNyYyxcbiAgICAgICAgICAgIHRpdGxlOiBgaWZyYW1lICR7YmxvY2sudHlwZX1gLFxuICAgICAgICAgICAgZnJhbWVCb3JkZXI6IFwiMFwiLFxuICAgICAgICAgICAgYWxsb3dGdWxsU2NyZWVuOiB0cnVlLFxuICAgICAgICAgICAgbG9hZGluZzogXCJsYXp5XCIsXG4gICAgICAgICAgICBzY3JvbGxpbmc6IFwiYXV0b1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgaWYgKHNvdXJjZS5pbmNsdWRlcyhcImZpbGUubm90aW9uLnNvXCIpKSB7XG4gICAgICBzb3VyY2UgPSAoX2kgPSAoX2ggPSAoX2cgPSBibG9jay5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2cuc291cmNlKSA9PSBudWxsID8gdm9pZCAwIDogX2hbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfaVswXTtcbiAgICB9XG4gICAgY29uc3Qgc3JjID0gbWFwSW1hZ2VVcmwoc291cmNlLCBibG9jayk7XG4gICAgY29uc3QgY2FwdGlvbiA9IGdldFRleHRDb250ZW50KChfaiA9IGJsb2NrLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfai5jYXB0aW9uKTtcbiAgICBjb25zdCBhbHQgPSBjYXB0aW9uIHx8IFwibm90aW9uIGltYWdlXCI7XG4gICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDEzLmNyZWF0ZUVsZW1lbnQoTGF6eUltYWdlLCB7XG4gICAgICBzcmMsXG4gICAgICBhbHQsXG4gICAgICB6b29tYWJsZSxcbiAgICAgIGhlaWdodDogc3R5bGUuaGVpZ2h0LFxuICAgICAgc3R5bGU6IGFzc2V0U3R5bGVcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTMuY3JlYXRlRWxlbWVudChSZWFjdDEzLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3QxMy5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBzdHlsZVxuICB9LCBjb250ZW50LCBibG9jay50eXBlID09PSBcImltYWdlXCIgJiYgY2hpbGRyZW4pLCBibG9jay50eXBlICE9PSBcImltYWdlXCIgJiYgY2hpbGRyZW4pO1xufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvYXNzZXQtd3JhcHBlci50c3hcbnZhciB1cmxTdHlsZSA9IHsgd2lkdGg6IFwiMTAwJVwiIH07XG52YXIgQXNzZXRXcmFwcGVyID0gKHsgYmxvY2tJZCwgYmxvY2sgfSkgPT4ge1xuICB2YXIgX2EsIF9iLCBfYywgX2QsIF9lLCBfZjtcbiAgY29uc3QgdmFsdWUgPSBibG9jaztcbiAgY29uc3QgeyBjb21wb25lbnRzLCBtYXBQYWdlVXJsLCByb290RG9tYWluLCB6b29tIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGxldCBpc1VSTCA9IGZhbHNlO1xuICBpZiAoYmxvY2sudHlwZSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgY29uc3QgY2FwdGlvbiA9IChfYyA9IChfYiA9IChfYSA9IHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS5wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FwdGlvbikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2NbMF07XG4gICAgaWYgKGNhcHRpb24pIHtcbiAgICAgIGNvbnN0IGlkID0gcGFyc2VQYWdlSWQyKGNhcHRpb24sIHsgdXVpZDogdHJ1ZSB9KTtcbiAgICAgIGNvbnN0IGlzUGFnZSA9IGNhcHRpb24uY2hhckF0KDApID09PSBcIi9cIiAmJiBpZDtcbiAgICAgIGlmIChpc1BhZ2UgfHwgaXNWYWxpZFVSTChjYXB0aW9uKSkge1xuICAgICAgICBpc1VSTCA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNvbnN0IGZpZ3VyZSA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE0LmNyZWF0ZUVsZW1lbnQoXCJmaWd1cmVcIiwge1xuICAgIGNsYXNzTmFtZTogY3MoXG4gICAgICBcIm5vdGlvbi1hc3NldC13cmFwcGVyXCIsXG4gICAgICBgbm90aW9uLWFzc2V0LXdyYXBwZXItJHtibG9jay50eXBlfWAsXG4gICAgICAoKF9kID0gdmFsdWUuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2QuYmxvY2tfZnVsbF93aWR0aCkgJiYgXCJub3Rpb24tYXNzZXQtd3JhcHBlci1mdWxsXCIsXG4gICAgICBibG9ja0lkXG4gICAgKVxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3QxNC5jcmVhdGVFbGVtZW50KEFzc2V0LCB7XG4gICAgYmxvY2s6IHZhbHVlLFxuICAgIHpvb21hYmxlOiB6b29tICYmICFpc1VSTFxuICB9LCAoKF9lID0gdmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfZS5jYXB0aW9uKSAmJiAhaXNVUkwgJiYgLyogQF9fUFVSRV9fICovIFJlYWN0MTQuY3JlYXRlRWxlbWVudChcImZpZ2NhcHRpb25cIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYXNzZXQtY2FwdGlvblwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE0LmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgIHZhbHVlOiB2YWx1ZS5wcm9wZXJ0aWVzLmNhcHRpb24sXG4gICAgYmxvY2tcbiAgfSkpKSk7XG4gIGlmIChpc1VSTCkge1xuICAgIGNvbnN0IGNhcHRpb24gPSAoX2YgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9mLmNhcHRpb25bMF1bMF07XG4gICAgY29uc3QgaWQgPSBwYXJzZVBhZ2VJZDIoY2FwdGlvbiwgeyB1dWlkOiB0cnVlIH0pO1xuICAgIGNvbnN0IGlzUGFnZSA9IGNhcHRpb24uY2hhckF0KDApID09PSBcIi9cIiAmJiBpZDtcbiAgICBjb25zdCBjYXB0aW9uSG9zdG5hbWUgPSBleHRyYWN0SG9zdG5hbWUoY2FwdGlvbik7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE0LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5QYWdlTGluaywge1xuICAgICAgc3R5bGU6IHVybFN0eWxlLFxuICAgICAgaHJlZjogaXNQYWdlID8gbWFwUGFnZVVybChpZCkgOiBjYXB0aW9uLFxuICAgICAgdGFyZ2V0OiBjYXB0aW9uSG9zdG5hbWUgJiYgY2FwdGlvbkhvc3RuYW1lICE9PSByb290RG9tYWluICYmICFjYXB0aW9uLnN0YXJ0c1dpdGgoXCIvXCIpID8gXCJibGFua19cIiA6IG51bGxcbiAgICB9LCBmaWd1cmUpO1xuICB9XG4gIHJldHVybiBmaWd1cmU7XG59O1xuZnVuY3Rpb24gaXNWYWxpZFVSTChzdHIpIHtcbiAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoXG4gICAgXCJeKGh0dHBzPzpcXFxcL1xcXFwvKT8oKChbYS16XFxcXGRdKFthLXpcXFxcZC1dKlthLXpcXFxcZF0pKilcXFxcLikrW2Etel17Mix9fCgoXFxcXGR7MSwzfVxcXFwuKXszfVxcXFxkezEsM30pKShcXFxcOlxcXFxkKyk/KFxcXFwvWy1hLXpcXFxcZCVfLn4rXSopKihcXFxcP1s7JmEtelxcXFxkJV8ufis9LV0qKT8oXFxcXCNbLWEtelxcXFxkX10qKT8kXCIsXG4gICAgXCJpXCJcbiAgKTtcbiAgcmV0dXJuICEhcGF0dGVybi50ZXN0KHN0cik7XG59XG5mdW5jdGlvbiBleHRyYWN0SG9zdG5hbWUodXJsKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgaG9zdG5hbWUgPSBuZXcgVVJMKHVybCkuaG9zdG5hbWU7XG4gICAgcmV0dXJuIGhvc3RuYW1lO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4gXCJcIjtcbiAgfVxufVxuXG4vLyBzcmMvY29tcG9uZW50cy9jaGVja2JveC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTYgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9pY29ucy9jaGVjay50c3hcbmltcG9ydCAqIGFzIFJlYWN0MTUgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdDaGVjayhwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTUuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE1LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk01LjUgMTJMMTQgMy41IDEyLjUgMmwtNyA3LTQtNC4wMDNMMCA2LjQ5OXpcIlxuICB9KSk7XG59XG52YXIgY2hlY2tfZGVmYXVsdCA9IFN2Z0NoZWNrO1xuXG4vLyBzcmMvY29tcG9uZW50cy9jaGVja2JveC50c3hcbnZhciBDaGVja2JveCA9ICh7IGlzQ2hlY2tlZCB9KSA9PiB7XG4gIGxldCBjb250ZW50ID0gbnVsbDtcbiAgaWYgKGlzQ2hlY2tlZCkge1xuICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QxNi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tcHJvcGVydHktY2hlY2tib3gtY2hlY2tlZFwiXG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTYuY3JlYXRlRWxlbWVudChjaGVja19kZWZhdWx0LCBudWxsKSk7XG4gIH0gZWxzZSB7XG4gICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE2LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eS1jaGVja2JveC11bmNoZWNrZWRcIlxuICAgIH0pO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxNi5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eSBub3Rpb24tcHJvcGVydHktY2hlY2tib3hcIlxuICB9LCBjb250ZW50KTtcbn07XG5cbi8vIHNyYy9uZXh0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QxNyBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCBpc0VxdWFsIGZyb20gXCJyZWFjdC1mYXN0LWNvbXBhcmVcIjtcbnZhciB3cmFwTmV4dEltYWdlID0gKE5leHRJbWFnZSkgPT4ge1xuICByZXR1cm4gUmVhY3QxNy5tZW1vKGZ1bmN0aW9uIFJlYWN0Tm90aW9uWE5leHRJbWFnZShfYSkge1xuICAgIHZhciBfYiA9IF9hLCB7XG4gICAgICBzcmMsXG4gICAgICBhbHQsXG4gICAgICB3aWR0aCxcbiAgICAgIGhlaWdodCxcbiAgICAgIGNsYXNzTmFtZSxcbiAgICAgIHN0eWxlLFxuICAgICAgbGF5b3V0XG4gICAgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXG4gICAgICBcInNyY1wiLFxuICAgICAgXCJhbHRcIixcbiAgICAgIFwid2lkdGhcIixcbiAgICAgIFwiaGVpZ2h0XCIsXG4gICAgICBcImNsYXNzTmFtZVwiLFxuICAgICAgXCJzdHlsZVwiLFxuICAgICAgXCJsYXlvdXRcIlxuICAgIF0pO1xuICAgIGlmICghbGF5b3V0KSB7XG4gICAgICBsYXlvdXQgPSB3aWR0aCAmJiBoZWlnaHQgPyBcImludHJpbnNpY1wiIDogXCJmaWxsXCI7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxNy5jcmVhdGVFbGVtZW50KE5leHRJbWFnZSwgX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgY2xhc3NOYW1lLFxuICAgICAgc3JjLFxuICAgICAgYWx0LFxuICAgICAgd2lkdGg6IGxheW91dCA9PT0gXCJpbnRyaW5zaWNcIiAmJiB3aWR0aCxcbiAgICAgIGhlaWdodDogbGF5b3V0ID09PSBcImludHJpbnNpY1wiICYmIGhlaWdodCxcbiAgICAgIG9iamVjdEZpdDogc3R5bGUgPT0gbnVsbCA/IHZvaWQgMCA6IHN0eWxlLm9iamVjdEZpdCxcbiAgICAgIG9iamVjdFBvc2l0aW9uOiBzdHlsZSA9PSBudWxsID8gdm9pZCAwIDogc3R5bGUub2JqZWN0UG9zaXRpb24sXG4gICAgICBsYXlvdXRcbiAgICB9LCByZXN0KSk7XG4gIH0sIGlzRXF1YWwpO1xufTtcbnZhciB3cmFwTmV4dExpbmsgPSAoTmV4dExpbmspID0+IGZ1bmN0aW9uIFJlYWN0Tm90aW9uWE5leHRMaW5rKF9hKSB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgaHJlZixcbiAgICBhcyxcbiAgICBwYXNzSHJlZixcbiAgICBwcmVmZXRjaCxcbiAgICByZXBsYWNlLFxuICAgIHNjcm9sbCxcbiAgICBzaGFsbG93LFxuICAgIGxvY2FsZVxuICB9ID0gX2IsIGxpbmtQcm9wcyA9IF9fb2JqUmVzdChfYiwgW1xuICAgIFwiaHJlZlwiLFxuICAgIFwiYXNcIixcbiAgICBcInBhc3NIcmVmXCIsXG4gICAgXCJwcmVmZXRjaFwiLFxuICAgIFwicmVwbGFjZVwiLFxuICAgIFwic2Nyb2xsXCIsXG4gICAgXCJzaGFsbG93XCIsXG4gICAgXCJsb2NhbGVcIlxuICBdKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE3LmNyZWF0ZUVsZW1lbnQoTmV4dExpbmssIHtcbiAgICBocmVmLFxuICAgIGFzLFxuICAgIHBhc3NIcmVmLFxuICAgIHByZWZldGNoLFxuICAgIHJlcGxhY2UsXG4gICAgc2Nyb2xsLFxuICAgIHNoYWxsb3csXG4gICAgbG9jYWxlXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE3LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIF9fc3ByZWFkVmFsdWVzKHt9LCBsaW5rUHJvcHMpKSk7XG59O1xuXG4vLyBzcmMvY29udGV4dC50c3hcbnZhciBEZWZhdWx0TGluayA9IChwcm9wcykgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0MTguY3JlYXRlRWxlbWVudChcImFcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gIHJlbDogXCJub29wZW5lciBub3JlZmVycmVyXCJcbn0sIHByb3BzKSk7XG52YXIgRGVmYXVsdExpbmtNZW1vID0gUmVhY3QxOC5tZW1vKERlZmF1bHRMaW5rKTtcbnZhciBEZWZhdWx0UGFnZUxpbmsgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE4LmNyZWF0ZUVsZW1lbnQoXCJhXCIsIF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcykpO1xudmFyIERlZmF1bHRQYWdlTGlua01lbW8gPSBSZWFjdDE4Lm1lbW8oRGVmYXVsdFBhZ2VMaW5rKTtcbnZhciBEZWZhdWx0RW1iZWQgPSAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDE4LmNyZWF0ZUVsZW1lbnQoQXNzZXRXcmFwcGVyLCBfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpKTtcbnZhciBEZWZhdWx0SGVhZGVyID0gSGVhZGVyO1xudmFyIGR1bW15TGluayA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwgeyBocmVmLCByZWwsIHRhcmdldCwgdGl0bGUgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXCJocmVmXCIsIFwicmVsXCIsIFwidGFyZ2V0XCIsIFwidGl0bGVcIl0pO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTguY3JlYXRlRWxlbWVudChcInNwYW5cIiwgX19zcHJlYWRWYWx1ZXMoe30sIHJlc3QpKTtcbn07XG52YXIgZHVtbXlDb21wb25lbnQgPSAobmFtZSkgPT4gKCkgPT4ge1xuICBjb25zb2xlLndhcm4oXG4gICAgYFdhcm5pbmc6IHVzaW5nIGVtcHR5IGNvbXBvbmVudCBcIiR7bmFtZX1cIiAoeW91IHNob3VsZCBvdmVycmlkZSB0aGlzIGluIE5vdGlvblJlbmRlcmVyLmNvbXBvbmVudHMpYFxuICApO1xuICByZXR1cm4gbnVsbDtcbn07XG52YXIgZHVtbXlPdmVycmlkZUZuID0gKF8sIGRlZmF1bHRWYWx1ZUZuKSA9PiBkZWZhdWx0VmFsdWVGbigpO1xudmFyIGRlZmF1bHRDb21wb25lbnRzID0ge1xuICBJbWFnZTogbnVsbCxcbiAgTGluazogRGVmYXVsdExpbmtNZW1vLFxuICBQYWdlTGluazogRGVmYXVsdFBhZ2VMaW5rTWVtbyxcbiAgQ2hlY2tib3gsXG4gIENhbGxvdXQ6IHZvaWQgMCxcbiAgQ29kZTogZHVtbXlDb21wb25lbnQoXCJDb2RlXCIpLFxuICBFcXVhdGlvbjogZHVtbXlDb21wb25lbnQoXCJFcXVhdGlvblwiKSxcbiAgQ29sbGVjdGlvbjogZHVtbXlDb21wb25lbnQoXCJDb2xsZWN0aW9uXCIpLFxuICBQcm9wZXJ0eTogdm9pZCAwLFxuICBwcm9wZXJ0eVRleHRWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVNlbGVjdFZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5UmVsYXRpb25WYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUZvcm11bGFWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eVRpdGxlVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlQZXJzb25WYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUZpbGVWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUNoZWNrYm94VmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlVcmxWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eUVtYWlsVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlQaG9uZU51bWJlclZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5TnVtYmVyVmFsdWU6IGR1bW15T3ZlcnJpZGVGbixcbiAgcHJvcGVydHlMYXN0RWRpdGVkVGltZVZhbHVlOiBkdW1teU92ZXJyaWRlRm4sXG4gIHByb3BlcnR5Q3JlYXRlZFRpbWVWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBwcm9wZXJ0eURhdGVWYWx1ZTogZHVtbXlPdmVycmlkZUZuLFxuICBQZGY6IGR1bW15Q29tcG9uZW50KFwiUGRmXCIpLFxuICBUd2VldDogZHVtbXlDb21wb25lbnQoXCJUd2VldFwiKSxcbiAgTW9kYWw6IGR1bW15Q29tcG9uZW50KFwiTW9kYWxcIiksXG4gIEhlYWRlcjogRGVmYXVsdEhlYWRlcixcbiAgRW1iZWQ6IERlZmF1bHRFbWJlZFxufTtcbnZhciBkZWZhdWx0Tm90aW9uQ29udGV4dCA9IHtcbiAgcmVjb3JkTWFwOiB7XG4gICAgYmxvY2s6IHt9LFxuICAgIGNvbGxlY3Rpb246IHt9LFxuICAgIGNvbGxlY3Rpb25fdmlldzoge30sXG4gICAgY29sbGVjdGlvbl9xdWVyeToge30sXG4gICAgbm90aW9uX3VzZXI6IHt9LFxuICAgIHNpZ25lZF91cmxzOiB7fVxuICB9LFxuICBjb21wb25lbnRzOiBkZWZhdWx0Q29tcG9uZW50cyxcbiAgbWFwUGFnZVVybDogZGVmYXVsdE1hcFBhZ2VVcmwoKSxcbiAgbWFwSW1hZ2VVcmw6IGRlZmF1bHRNYXBJbWFnZVVybCxcbiAgc2VhcmNoTm90aW9uOiBudWxsLFxuICBpc1Nob3dpbmdTZWFyY2g6IGZhbHNlLFxuICBvbkhpZGVTZWFyY2g6IG51bGwsXG4gIGZ1bGxQYWdlOiBmYWxzZSxcbiAgZGFya01vZGU6IGZhbHNlLFxuICBwcmV2aWV3SW1hZ2VzOiBmYWxzZSxcbiAgZm9yY2VDdXN0b21JbWFnZXM6IGZhbHNlLFxuICBzaG93Q29sbGVjdGlvblZpZXdEcm9wZG93bjogdHJ1ZSxcbiAgbGlua1RhYmxlVGl0bGVQcm9wZXJ0aWVzOiB0cnVlLFxuICBpc0xpbmtDb2xsZWN0aW9uVG9VcmxQcm9wZXJ0eTogZmFsc2UsXG4gIHNob3dUYWJsZU9mQ29udGVudHM6IGZhbHNlLFxuICBtaW5UYWJsZU9mQ29udGVudHNJdGVtczogMyxcbiAgZGVmYXVsdFBhZ2VJY29uOiBudWxsLFxuICBkZWZhdWx0UGFnZUNvdmVyOiBudWxsLFxuICBkZWZhdWx0UGFnZUNvdmVyUG9zaXRpb246IDAuNSxcbiAgem9vbTogbnVsbFxufTtcbnZhciBjdHggPSBSZWFjdDE4LmNyZWF0ZUNvbnRleHQoZGVmYXVsdE5vdGlvbkNvbnRleHQpO1xudmFyIE5vdGlvbkNvbnRleHRQcm92aWRlciA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwge1xuICAgIGNvbXBvbmVudHM6IHRoZW1lQ29tcG9uZW50cyA9IHt9LFxuICAgIGNoaWxkcmVuLFxuICAgIG1hcFBhZ2VVcmwsXG4gICAgbWFwSW1hZ2VVcmwsXG4gICAgcm9vdFBhZ2VJZFxuICB9ID0gX2IsIHJlc3QgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcImNvbXBvbmVudHNcIixcbiAgICBcImNoaWxkcmVuXCIsXG4gICAgXCJtYXBQYWdlVXJsXCIsXG4gICAgXCJtYXBJbWFnZVVybFwiLFxuICAgIFwicm9vdFBhZ2VJZFwiXG4gIF0pO1xuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyhyZXN0KSkge1xuICAgIGlmIChyZXN0W2tleV0gPT09IHZvaWQgMCkge1xuICAgICAgZGVsZXRlIHJlc3Rba2V5XTtcbiAgICB9XG4gIH1cbiAgY29uc3Qgd3JhcHBlZFRoZW1lQ29tcG9uZW50cyA9IFJlYWN0MTgudXNlTWVtbyhcbiAgICAoKSA9PiBfX3NwcmVhZFZhbHVlcyh7fSwgdGhlbWVDb21wb25lbnRzKSxcbiAgICBbdGhlbWVDb21wb25lbnRzXVxuICApO1xuICBpZiAod3JhcHBlZFRoZW1lQ29tcG9uZW50cy5uZXh0SW1hZ2UpIHtcbiAgICB3cmFwcGVkVGhlbWVDb21wb25lbnRzLkltYWdlID0gd3JhcE5leHRJbWFnZSh0aGVtZUNvbXBvbmVudHMubmV4dEltYWdlKTtcbiAgfVxuICBpZiAod3JhcHBlZFRoZW1lQ29tcG9uZW50cy5uZXh0TGluaykge1xuICAgIHdyYXBwZWRUaGVtZUNvbXBvbmVudHMubmV4dExpbmsgPSB3cmFwTmV4dExpbmsodGhlbWVDb21wb25lbnRzLm5leHRMaW5rKTtcbiAgfVxuICBmb3IgKGNvbnN0IGtleSBvZiBPYmplY3Qua2V5cyh3cmFwcGVkVGhlbWVDb21wb25lbnRzKSkge1xuICAgIGlmICghd3JhcHBlZFRoZW1lQ29tcG9uZW50c1trZXldKSB7XG4gICAgICBkZWxldGUgd3JhcHBlZFRoZW1lQ29tcG9uZW50c1trZXldO1xuICAgIH1cbiAgfVxuICBjb25zdCB2YWx1ZSA9IFJlYWN0MTgudXNlTWVtbyhcbiAgICAoKSA9PiBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBkZWZhdWx0Tm90aW9uQ29udGV4dCksIHJlc3QpLCB7XG4gICAgICByb290UGFnZUlkLFxuICAgICAgbWFwUGFnZVVybDogbWFwUGFnZVVybCAhPSBudWxsID8gbWFwUGFnZVVybCA6IGRlZmF1bHRNYXBQYWdlVXJsKHJvb3RQYWdlSWQpLFxuICAgICAgbWFwSW1hZ2VVcmw6IG1hcEltYWdlVXJsICE9IG51bGwgPyBtYXBJbWFnZVVybCA6IGRlZmF1bHRNYXBJbWFnZVVybCxcbiAgICAgIGNvbXBvbmVudHM6IF9fc3ByZWFkVmFsdWVzKF9fc3ByZWFkVmFsdWVzKHt9LCBkZWZhdWx0Q29tcG9uZW50cyksIHdyYXBwZWRUaGVtZUNvbXBvbmVudHMpXG4gICAgfSksXG4gICAgW21hcEltYWdlVXJsLCBtYXBQYWdlVXJsLCB3cmFwcGVkVGhlbWVDb21wb25lbnRzLCByb290UGFnZUlkLCByZXN0XVxuICApO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MTguY3JlYXRlRWxlbWVudChjdHguUHJvdmlkZXIsIHtcbiAgICB2YWx1ZVxuICB9LCBjaGlsZHJlbik7XG59O1xudmFyIE5vdGlvbkNvbnRleHRDb25zdW1lciA9IGN0eC5Db25zdW1lcjtcbnZhciB1c2VOb3Rpb25Db250ZXh0ID0gKCkgPT4ge1xuICByZXR1cm4gUmVhY3QxOC51c2VDb250ZXh0KGN0eCk7XG59O1xuXG4vLyBzcmMvaWNvbnMvZGVmYXVsdC1wYWdlLWljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDE5IGZyb20gXCJyZWFjdFwiO1xudmFyIERlZmF1bHRQYWdlSWNvbiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBfYSA9IHByb3BzLCB7IGNsYXNzTmFtZSB9ID0gX2EsIHJlc3QgPSBfX29ialJlc3QoX2EsIFtcImNsYXNzTmFtZVwiXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QxOS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZVxuICB9LCByZXN0KSwge1xuICAgIHZpZXdCb3g6IFwiMCAwIDMwIDMwXCIsXG4gICAgd2lkdGg6IFwiMTZcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0MTkuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTE2LDFINHYyOGgyMlYxMUwxNiwxeiBNMTYsMy44MjhMMjMuMTcyLDExSDE2VjMuODI4eiBNMjQsMjdINlYzaDh2MTBoMTBWMjd6IE04LDE3aDE0di0ySDhWMTd6IE04LDIxaDE0di0ySDhWMjF6IE04LDI1aDE0di0ySDhWMjV6XCJcbiAgfSkpO1xufTtcblxuLy8gc3JjL2NvbXBvbmVudHMvcGFnZS1pY29uLnRzeFxudmFyIGlzSWNvbkJsb2NrID0gKHZhbHVlKSA9PiB7XG4gIHJldHVybiB2YWx1ZS50eXBlID09PSBcInBhZ2VcIiB8fCB2YWx1ZS50eXBlID09PSBcImNhbGxvdXRcIiB8fCB2YWx1ZS50eXBlID09PSBcImNvbGxlY3Rpb25fdmlld1wiIHx8IHZhbHVlLnR5cGUgPT09IFwiY29sbGVjdGlvbl92aWV3X3BhZ2VcIjtcbn07XG52YXIgUGFnZUljb25JbXBsID0gKHtcbiAgYmxvY2ssXG4gIGNsYXNzTmFtZSxcbiAgaW5saW5lID0gdHJ1ZSxcbiAgaGlkZURlZmF1bHRJY29uID0gZmFsc2UsXG4gIGRlZmF1bHRJY29uXG59KSA9PiB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyBtYXBJbWFnZVVybCwgcmVjb3JkTWFwLCBkYXJrTW9kZSB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBsZXQgaXNJbWFnZSA9IGZhbHNlO1xuICBsZXQgY29udGVudCA9IG51bGw7XG4gIGlmIChpc0ljb25CbG9jayhibG9jaykpIHtcbiAgICBjb25zdCBpY29uID0gKChfYSA9IGdldEJsb2NrSWNvbihibG9jaywgcmVjb3JkTWFwKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnRyaW0oKSkgfHwgZGVmYXVsdEljb247XG4gICAgY29uc3QgdGl0bGUgPSBnZXRCbG9ja1RpdGxlMyhibG9jaywgcmVjb3JkTWFwKTtcbiAgICBpZiAoaWNvbiAmJiBpc1VybChpY29uKSkge1xuICAgICAgY29uc3QgdXJsID0gbWFwSW1hZ2VVcmwoaWNvbiwgYmxvY2spO1xuICAgICAgaXNJbWFnZSA9IHRydWU7XG4gICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0MjAuY3JlYXRlRWxlbWVudChMYXp5SW1hZ2UsIHtcbiAgICAgICAgc3JjOiB1cmwsXG4gICAgICAgIGFsdDogdGl0bGUgfHwgXCJwYWdlIGljb25cIixcbiAgICAgICAgY2xhc3NOYW1lOiBjcyhjbGFzc05hbWUsIFwibm90aW9uLXBhZ2UtaWNvblwiKVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChpY29uICYmIGljb24uc3RhcnRzV2l0aChcIi9pY29ucy9cIikpIHtcbiAgICAgIGNvbnN0IHVybCA9IFwiaHR0cHM6Ly93d3cubm90aW9uLnNvXCIgKyBpY29uICsgXCI/bW9kZT1cIiArIChkYXJrTW9kZSA/IFwiZGFya1wiIDogXCJsaWdodFwiKTtcbiAgICAgIGNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3QyMC5jcmVhdGVFbGVtZW50KExhenlJbWFnZSwge1xuICAgICAgICBzcmM6IHVybCxcbiAgICAgICAgYWx0OiB0aXRsZSB8fCBcInBhZ2UgaWNvblwiLFxuICAgICAgICBjbGFzc05hbWU6IGNzKGNsYXNzTmFtZSwgXCJub3Rpb24tcGFnZS1pY29uXCIpXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKCFpY29uKSB7XG4gICAgICBpZiAoIWhpZGVEZWZhdWx0SWNvbikge1xuICAgICAgICBpc0ltYWdlID0gdHJ1ZTtcbiAgICAgICAgY29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIwLmNyZWF0ZUVsZW1lbnQoRGVmYXVsdFBhZ2VJY29uLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjcyhjbGFzc05hbWUsIFwibm90aW9uLXBhZ2UtaWNvblwiKSxcbiAgICAgICAgICBhbHQ6IHRpdGxlID8gdGl0bGUgOiBcInBhZ2UgaWNvblwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpc0ltYWdlID0gZmFsc2U7XG4gICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0MjAuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgICBjbGFzc05hbWU6IGNzKGNsYXNzTmFtZSwgXCJub3Rpb24tcGFnZS1pY29uXCIpLFxuICAgICAgICByb2xlOiBcImltZ1wiLFxuICAgICAgICBcImFyaWEtbGFiZWxcIjogaWNvblxuICAgICAgfSwgaWNvbik7XG4gICAgfVxuICB9XG4gIGlmICghY29udGVudCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyMC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgaW5saW5lID8gXCJub3Rpb24tcGFnZS1pY29uLWlubGluZVwiIDogXCJub3Rpb24tcGFnZS1pY29uLWhlcm9cIixcbiAgICAgIGlzSW1hZ2UgPyBcIm5vdGlvbi1wYWdlLWljb24taW1hZ2VcIiA6IFwibm90aW9uLXBhZ2UtaWNvbi1zcGFuXCJcbiAgICApXG4gIH0sIGNvbnRlbnQpO1xufTtcbnZhciBQYWdlSWNvbiA9IFJlYWN0MjAubWVtbyhQYWdlSWNvbkltcGwpO1xuXG4vLyBzcmMvaWNvbnMvY29sbGVjdGlvbi12aWV3LWJvYXJkLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyMSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z0NvbGxlY3Rpb25WaWV3Qm9hcmQocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIxLmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyMS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTIgMS41SDJhLjUuNSAwIDAwLS41LjV2MTBhLjUuNSAwIDAwLjUuNWgxMGEuNS41IDAgMDAuNS0uNVYyYS41LjUgMCAwMC0uNS0uNXpNMiAwaDEwYTIgMiAwIDAxMiAydjEwYTIgMiAwIDAxLTIgMkgyYTIgMiAwIDAxLTItMlYyYTIgMiAwIDAxMi0yem0xIDNoMnY2SDNWM3ptMyAwaDJ2OEg2VjN6bTMgMGgydjRIOVYzelwiXG4gIH0pKTtcbn1cbnZhciBjb2xsZWN0aW9uX3ZpZXdfYm9hcmRfZGVmYXVsdCA9IFN2Z0NvbGxlY3Rpb25WaWV3Qm9hcmQ7XG5cbi8vIHNyYy9pY29ucy9jb2xsZWN0aW9uLXZpZXctY2FsZW5kYXIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIyIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnQ29sbGVjdGlvblZpZXdDYWxlbmRhcihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjIuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDIyLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0yLjU2NCA0LjAwNGMtLjU4NiAwLS43MS4wMjQtLjgzMy4wOWEuMzE5LjMxOSAwIDAwLS4xNDEuMTRjLS4wNjYuMTI0LS4wOS4yNDctLjA5LjgzNHY2LjM2OGMwIC41ODYuMDI0LjcxLjA5LjgzM2EuMzE5LjMxOSAwIDAwLjE0LjE0MWMuMTI0LjA2Ni4yNDguMDkuODM0LjA5aDguODcyYy41ODYgMCAuNzEtLjAyNC44MzMtLjA5YS4zMTkuMzE5IDAgMDAuMTQxLS4xNGMuMDY2LS4xMjQuMDktLjI0OC4wOS0uODM0VjUuMDY4YzAtLjU4Ny0uMDI0LS43MS0uMDktLjgzNGEuMzE5LjMxOSAwIDAwLS4xNC0uMTRjLS4xMjQtLjA2Ni0uMjQ4LS4wOS0uODM0LS4wOUgyLjU2NHptMC00LjAwNGg4Ljg3MmMuODkyIDAgMS4yMTUuMDkzIDEuNTQuMjY3LjMyNy4xNzQuNTgzLjQzLjc1Ny43NTYuMTc0LjMyNi4yNjcuNjUuMjY3IDEuNTR2OC44NzNjMCAuODkyLS4wOTMgMS4yMTUtLjI2NyAxLjU0LS4xNzQuMzI3LS40My41ODMtLjc1Ni43NTctLjMyNi4xNzQtLjY1LjI2Ny0xLjU0LjI2N0gyLjU2M2MtLjg5MiAwLTEuMjE1LS4wOTMtMS41NC0uMjY3YTEuODE3IDEuODE3IDAgMDEtLjc1Ny0uNzU2Qy4wOTMgMTIuNjUgMCAxMi4zMjcgMCAxMS40MzdWMi41NjNjMC0uODkyLjA5My0xLjIxNS4yNjctMS41NC4xNzQtLjMyNy40My0uNTgzLjc1Ni0uNzU3QzEuMzUuMDkzIDEuNjczIDAgMi41NjMgMHptNC4wNDQgNy44OGMuMTc5LjExLjMxOC4yNTYuNDE4LjQzNi4xLjE4LjE0OC4zOTQuMTQ4LjY0IDAgLjMwNC0uMDguNTk3LS4yMzguODc2LS4xNi4yOC0uMzkyLjQ5OC0uNjkyLjY1LS4yOTkuMTUtLjY4NS4yMjQtMS4xNi4yMjQtLjQ2IDAtLjgyNy0uMDU1LTEuMS0uMTY2YTEuNjg3IDEuNjg3IDAgMDEtLjY4LS40OTIgMi4yMjcgMi4yMjcgMCAwMS0uNDA0LS44MDJsLjA4My0uMTI3IDEuMzctLjE4Mi4xMTIuMDhjLjA1LjI1OC4xMjYuNDMxLjIyMS41MmEuNTA3LjUwNyAwIDAwLjM2NC4xMzMuNDk1LjQ5NSAwIDAwLjM4Ni0uMTY5Yy4xMDUtLjExNS4xNTgtLjI3LjE1OC0uNDcyIDAtLjIwNS0uMDUxLS4zNTgtLjE1LS40NjNhLjUyNy41MjcgMCAwMC0uNDA3LS4xNTcgMS42NSAxLjY1IDAgMDAtLjQxNy4wNzdsLS4xMjctLjEwNC4wNy0uOTguMTE1LS4wOTFjLjA3Mi4wMS4xMjcuMDE1LjE2NC4wMTUuMTU0IDAgLjI4LS4wNDcuMzgtLjE0NC4xLS4wOTYuMTUtLjIwNS4xNS0uMzM1YS4zODguMzg4IDAgMDAtLjEwNi0uMjljLS4wNy0uMDctLjE2OC0uMTA1LS4zLS4xMDVhLjQ0NC40NDQgMCAwMC0uMzI0LjExOGMtLjA4My4wOC0uMTQzLjIzMi0uMTc2LjQ1N2wtLjExNy4wODQtMS4yOTctLjIzMy0uMDc5LS4xMjNjLjExNC0uNDM1LjMzNC0uNzcyLjY2LTEuMDA2LjMyNi0uMjM0Ljc4LS4zNDkgMS4zNi0uMzQ5LjY2NiAwIDEuMTUzLjEyNiAxLjQ2Mi4zODQuMzEuMjU5LjQ2Ny41ODkuNDY3Ljk4MiAwIC4yMzMtLjA2NC40NDYtLjE5Mi42MzZhMS40MyAxLjQzIDAgMDEtLjM3LjM2NWMuMS4wMzQuMTgyLjA3Mi4yNDguMTEzem0xLjc0Ny0uMTQ1YTUuMTg2IDUuMTg2IDAgMDEtLjgwNi4zMWwtLjEyOS0uMDk3VjYuODI0bC4wNy0uMDk2Yy40NTUtLjE0Ny44MDctLjMyMiAxLjA1NS0uNTI0LjI0Ni0uMjAyLjQzOS0uNDUuNTc5LS43NDdsLjA5LS4wNTdoMS4xMzVsLjEuMXY1LjAyMWwtLjEuMUg4Ljk2MWwtLjEtLjFWNy40MjhhNC4wNTMgNC4wNTMgMCAwMS0uNTA2LjMwN3pcIlxuICB9KSk7XG59XG52YXIgY29sbGVjdGlvbl92aWV3X2NhbGVuZGFyX2RlZmF1bHQgPSBTdmdDb2xsZWN0aW9uVmlld0NhbGVuZGFyO1xuXG4vLyBzcmMvaWNvbnMvY29sbGVjdGlvbi12aWV3LWdhbGxlcnkudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDIzIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnQ29sbGVjdGlvblZpZXdHYWxsZXJ5KHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyMy5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjMuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTEyIDEuNUgyYS41LjUgMCAwMC0uNS41djEwYS41LjUgMCAwMC41LjVoMTBhLjUuNSAwIDAwLjUtLjVWMmEuNS41IDAgMDAtLjUtLjV6TTIgMGgxMGEyIDIgMCAwMTIgMnYxMGEyIDIgMCAwMS0yIDJIMmEyIDIgMCAwMS0yLTJWMmEyIDIgMCAwMTItMnptMSAzaDMuNXYzLjVIM1Yzem00LjUgMEgxMXYzLjVINy41VjN6TTMgNy41aDMuNVYxMUgzVjcuNXptNC41IDBIMTFWMTFINy41VjcuNXpcIlxuICB9KSk7XG59XG52YXIgY29sbGVjdGlvbl92aWV3X2dhbGxlcnlfZGVmYXVsdCA9IFN2Z0NvbGxlY3Rpb25WaWV3R2FsbGVyeTtcblxuLy8gc3JjL2ljb25zL2NvbGxlY3Rpb24tdmlldy1saXN0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyNCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z0NvbGxlY3Rpb25WaWV3TGlzdChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjQuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI0LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0xMiAxLjVIMmEuNS41IDAgMDAtLjUuNXYxMGEuNS41IDAgMDAuNS41aDEwYS41LjUgMCAwMC41LS41VjJhLjUuNSAwIDAwLS41LS41ek0yIDBoMTBhMiAyIDAgMDEyIDJ2MTBhMiAyIDAgMDEtMiAySDJhMiAyIDAgMDEtMi0yVjJhMiAyIDAgMDEyLTJ6bTEgM2g2djEuNUgzVjN6bTAgMi41aDhWN0gzVjUuNXpNMyA4aDR2MS41SDNWOHpcIlxuICB9KSk7XG59XG52YXIgY29sbGVjdGlvbl92aWV3X2xpc3RfZGVmYXVsdCA9IFN2Z0NvbGxlY3Rpb25WaWV3TGlzdDtcblxuLy8gc3JjL2ljb25zL2NvbGxlY3Rpb24tdmlldy10YWJsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0MjUgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdDb2xsZWN0aW9uVmlld1RhYmxlKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QyNS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MjUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTIgMGgxMGEyIDIgMCAwMTIgMnYxMGEyIDIgMCAwMS0yIDJIMmEyIDIgMCAwMS0yLTJWMmEyIDIgMCAwMTItMnptMy43NSA1LjY3djIuNjZoNi43NVY1LjY3SDUuNzV6bTAgNC4xN3YyLjY2aDUuNzVhMSAxIDAgMDAxLTFWOS44NEg1Ljc1ek0xLjUgNS42N3YyLjY2aDIuNzVWNS42N0gxLjV6bTAgNC4xN3YxLjY2YTEgMSAwIDAwMSAxaDEuNzVWOS44NEgxLjV6bTEtOC4zNGExIDEgMCAwMC0xIDF2MS42NmgyLjc1VjEuNUgyLjV6bTMuMjUgMHYyLjY2aDYuNzVWMi41YTEgMSAwIDAwLTEtMUg1Ljc1elwiXG4gIH0pKTtcbn1cbnZhciBjb2xsZWN0aW9uX3ZpZXdfdGFibGVfZGVmYXVsdCA9IFN2Z0NvbGxlY3Rpb25WaWV3VGFibGU7XG5cbi8vIHNyYy9pY29ucy9jb2xsZWN0aW9uLXZpZXctaWNvbi50c3hcbnZhciBpY29uTWFwID0ge1xuICB0YWJsZTogY29sbGVjdGlvbl92aWV3X3RhYmxlX2RlZmF1bHQsXG4gIGJvYXJkOiBjb2xsZWN0aW9uX3ZpZXdfYm9hcmRfZGVmYXVsdCxcbiAgZ2FsbGVyeTogY29sbGVjdGlvbl92aWV3X2dhbGxlcnlfZGVmYXVsdCxcbiAgbGlzdDogY29sbGVjdGlvbl92aWV3X2xpc3RfZGVmYXVsdCxcbiAgY2FsZW5kYXI6IGNvbGxlY3Rpb25fdmlld19jYWxlbmRhcl9kZWZhdWx0XG59O1xudmFyIENvbGxlY3Rpb25WaWV3SWNvbiA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwge1xuICAgIHR5cGVcbiAgfSA9IF9iLCByZXN0ID0gX19vYmpSZXN0KF9iLCBbXG4gICAgXCJ0eXBlXCJcbiAgXSk7XG4gIGNvbnN0IGljb24gPSBpY29uTWFwW3R5cGVdO1xuICBpZiAoIWljb24pIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICByZXR1cm4gaWNvbihyZXN0KTtcbn07XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXJvdy50c3hcbmltcG9ydCAqIGFzIFJlYWN0NDQgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLWNvbHVtbi10aXRsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0NDIgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy9pY29ucy90eXBlLWNoZWNrYm94LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QyNiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVDaGVja2JveChwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjYuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI2LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk0wIDNhMyAzIDAgMDEzLTNoOGEzIDMgMCAwMTMgM3Y4YTMgMyAwIDAxLTMgM0gzYTMgMyAwIDAxLTMtM1Yzem0zLTEuNUExLjUgMS41IDAgMDAxLjUgM3Y4QTEuNSAxLjUgMCAwMDMgMTIuNWg4YTEuNSAxLjUgMCAwMDEuNS0xLjVWM0ExLjUgMS41IDAgMDAxMSAxLjVIM3ptLS4xNjcgNS4zMTZsLjU2Ni0uNTQyLjE3Ny0uMTcuMzQ3LS4zMzIuMzQ2LjMzNC4xNzYuMTcgMS4xMzkgMS4wOTggMy42OTktMy41NjMuMTc3LS4xNy4zNDctLjMzNS4zNDcuMzM0LjE3Ny4xNy41NjMuNTQzLjE3Ny4xNzEuMzcyLjM2LS4zNzIuMzYtLjE3Ny4xNy00Ljc4NiA0LjYxNS0uMTc3LjE3MS0uMzQ3LjMzNC0uMzQ3LS4zMzQtLjE3Ny0uMTctMi4yMy0yLjE1LS4xNzctLjE3Mi0uMzc1LS4zNjEuMzc2LS4zNi4xNzktLjE3elwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX2NoZWNrYm94X2RlZmF1bHQgPSBTdmdUeXBlQ2hlY2tib3g7XG5cbi8vIHNyYy9pY29ucy90eXBlLWRhdGUudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDI3IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZURhdGUocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI3LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyNy5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTAuODg5IDUuNUgzLjExdjEuNTU2aDcuNzc4VjUuNXptMS41NTUtNC40NDRoLS43NzdWMEgxMC4xMXYxLjA1NkgzLjg5VjBIMi4zMzN2MS4wNTZoLS43NzdjLS44NjQgMC0xLjU0OC43LTEuNTQ4IDEuNTU1TDAgMTIuNWMwIC44NTYuNjkyIDEuNSAxLjU1NiAxLjVoMTAuODg4QzEzLjMgMTQgMTQgMTMuMzU2IDE0IDEyLjVWMi42MTFjMC0uODU1LS43LTEuNTU1LTEuNTU2LTEuNTU1em0wIDExLjQ0NEgxLjU1NlYzLjk0NGgxMC44ODhWMTIuNXpNOC41NTYgOC42MTFIMy4xMXYxLjU1Nmg1LjQ0NVY4LjYxelwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX2RhdGVfZGVmYXVsdCA9IFN2Z1R5cGVEYXRlO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1lbWFpbC50c3hcbmltcG9ydCAqIGFzIFJlYWN0MjggZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlRW1haWwocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI4LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QyOC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTQgNi4yMjVjMCAuODIyLS4xMzMgMS41NzQtLjQgMi4yNTYtLjI2Ny42ODMtLjY0NCAxLjIxOC0xLjEzIDEuNjA2LS40ODguMzg4LS45NDYuNi0xLjQ5NC42LS40MjkgMC0uODA4LS4xMDItMS4xMzktLjMwNWExLjc1MyAxLjc1MyAwIDAxLS43MTMtLjhjLS42MTMuNzM2LTEuNTYzIDEuMTA0LTIuNTMxIDEuMTA0LTEuMDI3IDAtMS44MzUtLjMwNC0yLjQyNy0uOTEyLS41OTEtLjYwOC0uODg3LTEuNDQtLjg4Ny0yLjQ5NiAwLTEuMjA0LjM4OS0yLjE3NSAxLjE2Ni0yLjkxMS43NzYtLjczNiAxLjc5MS0xLjEwNSAzLjA0NC0xLjEwNS40OTggMCAyLjAzMi4yMTIgMi4yNTIuMjY4LjUxLjEzLjg2LjU5My44MzUgMS4xMTJsLS4xNTYgMy4yODdjMCAuNzk0LjIyIDEuMTkuNjYgMS4xOS4zNzIgMCAuNjY4LS4yNjcuODg4LS44LjIyLS41MzQuMzMtMS4yMzIuMzMtMi4wOTQgMC0uOTE5LS4xOTQtMS43MzEtLjU4Mi0yLjQzNmEzLjkyNCAzLjkyNCAwIDAwLTEuNjQtMS42MTRjLS43MDQtLjM3MS0xLjUwOS0uNTU3LTIuNDEzLS41NTctMS4xNzIgMC0yLjE5LjIzNy0zLjA1My43MTFhNC43ODUgNC43ODUgMCAwMC0xLjk4OCAyLjA1Yy0uNDYuODk0LS42OTEgMS45MjYtLjY5MSAzLjA5NiAwIDEuNTc2LjQyOCAyLjc4NCAxLjI4MyAzLjYyNy44NTUuODQxIDIuMDk0IDEuMjYyIDMuNzE4IDEuMjYyLjYxNSAwIDEuMjktLjA2NyAyLjAyNy0uMi4yMjUtLjA0Mi41MTgtLjEwOC44NzctLjJhLjg2My44NjMgMCAwMTEuMDI1LjUyNy43Ni43NiAwIDAxLS41MDIuOTkzYy0xLjA1Mi4zMTYtMi4xNy40ODgtMy4zNTcuNTE2LTIuMjA0IDAtMy45MjItLjU3LTUuMTU0LTEuNzEzQy42MTYgMTEuMTQ2IDAgOS41NiAwIDcuNTI3YzAtMS40MS4zMTUtMi42OS45NDQtMy44NEE2Ljc5MiA2Ljc5MiAwIDAxMy42My45OEM0Ljc5NC4zMjcgNi4xMzEgMCA3LjY0NSAwYzEuMjc2IDAgMi41MTQuMjkgMy40MTguNzcuOTA1LjQ4MSAxLjU3NCAxLjIyOCAyLjEyIDIuMTc2LjU0NC45NDcuODE3IDIuMDQuODE3IDMuMjh6bS04LjYxNSAxLjAxYzAgMS4yMDguNDg4IDEuODExIDEuNDY2IDEuODExLjUxMSAwIC45LS4xODEgMS4xNjgtLjU0NS4yNjctLjM2My40MjktLjk1NC40ODYtMS43NzJsLjExLTEuODk2YTQuNjM4IDQuNjM4IDAgMDAtLjk4LS4wOTVjLS43MSAwLTEuMjYzLjIyNC0xLjY1OC42Ny0uMzk1LjQ0Ni0uNTkyIDEuMDU1LS41OTIgMS44Mjh6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfZW1haWxfZGVmYXVsdCA9IFN2Z1R5cGVFbWFpbDtcblxuLy8gc3JjL2ljb25zL3R5cGUtZmlsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0MjkgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlRmlsZShwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MjkuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDI5LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk01Ljk0NiAxNGE0Ljk3NSA0Ljk3NSAwIDAxLTMuNDk3LTEuNDE1QTQuNzMxIDQuNzMxIDAgMDExIDkuMTc0YzAtMS4yODguNTE1LTIuNSAxLjQ0OS0zLjQxTDcuNDU2Ljk4NmMxLjM0NS0xLjMxMyAzLjcyMi0xLjMxOCA1LjA4LjAwN2EzLjQ1MyAzLjQ1MyAwIDAxMCA0Ljk2MUw4LjAzIDEwLjI0MWMtLjg2Ny44NDctMi4yOTMuODQ4LTMuMTctLjAwNmEyLjE1OCAyLjE1OCAwIDAxMC0zLjEwMmwxLjc0NC0xLjcwMSAxLjI3MiAxLjI0LTEuNzQ0IDEuNzAxYS40My40MyAwIDAwMCAuNjIxYy4yMy4yMjMuNDA1LjIyMy42MzYgMGw0LjUwMy00LjI4OGExLjcyMyAxLjcyMyAwIDAwLS4wMDctMi40NzNjLS42OC0uNjYzLTEuODY0LS42NjMtMi41NDMgMEwzLjcxMyA3LjAxMWEzLjAwNiAzLjAwNiAwIDAwLS45MTUgMi4xNjNjMCAuODIuMzI4IDEuNTkxLjkyMiAyLjE3IDEuMTkgMS4xNjIgMy4yNjIgMS4xNjIgNC40NTEgMGwyLjI0OC0yLjE5MiAxLjI3MiAxLjI0LTIuMjQ4IDIuMTkzQTQuOTc4IDQuOTc4IDAgMDE1Ljk0NiAxNHpcIlxuICB9KSk7XG59XG52YXIgdHlwZV9maWxlX2RlZmF1bHQgPSBTdmdUeXBlRmlsZTtcblxuLy8gc3JjL2ljb25zL3R5cGUtZm9ybXVsYS50c3hcbmltcG9ydCAqIGFzIFJlYWN0MzAgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlRm9ybXVsYShwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzAuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMwLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk03Ljc3OSA3LjA2M2wtMy4xNTcgNC4yMjRhLjQ5LjQ5IDAgMDAtLjA3Mi4yMTguMzUuMzUgMCAwMC4zNDYuMzU3aDYuMjQyYy40NzYgMCAuODYyLjM5OC44NjIuODg5di4zNmMwIC40OTEtLjM4Ni44ODktLjg2Mi44ODlIMS44NjJBLjg3Ni44NzYgMCAwMTEgMTMuMTExdi0uNDI1YS44Mi44MiAwIDAxLjE3Ny0uNTRMNC4zOTMgNy44YTEuMzY3IDEuMzY3IDAgMDAtLjAwNi0xLjYyNUwxLjQgMi4xOTRhLjgyMi44MjIgMCAwMS0uMTgtLjU0NFYuODlDMS4yMi4zOTggMS42MDQgMCAyLjA4IDBoOC44MzhjLjQ3NiAwIC44NjEuMzk4Ljg2MS44ODl2LjM2YzAgLjQ5MS0uMzg1Ljg5LS44Ni44OUg1LjEzNWMtLjE5IDAtLjM0NS4xNTktLjM0NS4zNTZhLjQ4OS40ODkgMCAwMC4wNy4yMTZsMi45MiAzLjk3NWMuMDQ5LjA2Mi4wNjMuMTA3LjA2LjE4OGEuMjQ2LjI0NiAwIDAxLS4wNjIuMTg5elwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX2Zvcm11bGFfZGVmYXVsdCA9IFN2Z1R5cGVGb3JtdWxhO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1tdWx0aS1zZWxlY3QudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDMxIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZU11bHRpU2VsZWN0KHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzMS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzEuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTQgM2ExIDEgMCAwMTEtMWg3YTEgMSAwIDExMCAySDVhMSAxIDAgMDEtMS0xem0wIDRhMSAxIDAgMDExLTFoN2ExIDEgMCAxMTAgMkg1YTEgMSAwIDAxLTEtMXptMCA0YTEgMSAwIDAxMS0xaDdhMSAxIDAgMTEwIDJINWExIDEgMCAwMS0xLTF6TTIgNGExIDEgMCAxMTAtMiAxIDEgMCAwMTAgMnptMCA0YTEgMSAwIDExMC0yIDEgMSAwIDAxMCAyem0wIDRhMSAxIDAgMTEwLTIgMSAxIDAgMDEwIDJ6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfbXVsdGlfc2VsZWN0X2RlZmF1bHQgPSBTdmdUeXBlTXVsdGlTZWxlY3Q7XG5cbi8vIHNyYy9pY29ucy90eXBlLW51bWJlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MzIgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlTnVtYmVyKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3QzMi5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0MzIuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTQuNDYyIDBjLS41OTUgMC0xLjA3OC40ODItMS4wNzggMS4wNzh2Mi4zMDZIMS4wNzhhMS4wNzggMS4wNzggMCAxMDAgMi4xNTVoMi4zMDZ2Mi45MjJIMS4wNzhhMS4wNzggMS4wNzggMCAxMDAgMi4xNTVoMi4zMDZ2Mi4zMDZhMS4wNzggMS4wNzggMCAwMDIuMTU1IDB2LTIuMzA2SDguNDZ2Mi4zMDZhMS4wNzggMS4wNzggMCAwMDIuMTU2IDB2LTIuMzA2aDIuMzA2YTEuMDc4IDEuMDc4IDAgMTAwLTIuMTU1aC0yLjMwNlY1LjUzOWgyLjMwNmExLjA3OCAxLjA3OCAwIDEwMC0yLjE1NWgtMi4zMDZWMS4wNzhhMS4wNzggMS4wNzggMCAwMC0yLjE1NiAwdjIuMzA2SDUuNTRWMS4wNzhDNS41NC40ODIgNS4wNTYgMCA0LjQ2MSAwem0xLjA3NyA4LjQ2VjUuNTRIOC40NnYyLjkySDUuNTR6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfbnVtYmVyX2RlZmF1bHQgPSBTdmdUeXBlTnVtYmVyO1xuXG4vLyBzcmMvaWNvbnMvdHlwZS1wZXJzb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDMzIGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZVBlcnNvbihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzMuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDMzLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk05LjYyNSAxMC44NDdDOC45MTIgMTAuMjg5IDguMTIxIDkuOTI2IDcgOS4yNnYtLjU0YTMuMzMgMy4zMyAwIDAwLjUzOC0uODg4Yy40MDgtLjEuNzc0LS40OTguNzc0LS44MzIgMC0uNDgyLS4yMDItLjY3My0uNDQtLjgyOSAwLS4wMTUuMDAzLS4wMy4wMDMtLjA0NiAwLS43MTEtLjQzOC0yLjYyNS0yLjYyNS0yLjYyNS0yLjE4OCAwLTIuNjI1IDEuOTE1LTIuNjI1IDIuNjI1IDAgLjAxNy4wMDMuMDMuMDAzLjA0Ni0uMjM4LjE1Ni0uNDQuMzQ3LS40NC44MjkgMCAuMzM0LjM2Ni43MzEuNzc0LjgzMy4xNDYuMzQzLjMyNi42NDMuNTM4Ljg4NnYuNTQxYy0xLjEyLjY2NS0xLjkxMiAxLjAyOC0yLjYyNSAxLjU4N0MuMDQxIDExLjQ5OCAwIDEyLjQ2OSAwIDE0aDEwLjVjMC0xLjUzMS0uMDQxLTIuNTAyLS44NzUtMy4xNTN6bTMuNS0zLjVjLS43MTMtLjU1OC0xLjUwNC0uOTIxLTIuNjI1LTEuNTg3di0uNTRjLjIxMi0uMjQ0LjM5Mi0uNTQ0LjUzOC0uODg4LjQwOC0uMS43NzQtLjQ5OC43NzQtLjgzMiAwLS40ODItLjIwMi0uNjczLS40NC0uODI5IDAtLjAxNS4wMDMtLjAzLjAwMy0uMDQ2QzExLjM3NSAxLjkxNCAxMC45MzcgMCA4Ljc1IDAgNi41NjIgMCA2LjEyNSAxLjkxNSA2LjEyNSAyLjYyNWMwIC4wMTcuMDAzLjAzLjAwMy4wNDYtLjAxNi4wMTItLjAzLjAyNS0uMDQ3LjAzNiAxLjc1MS4zNTkgMi41MTYgMS44NDEgMi42NDcgMy4wNC4yNDguMjYyLjQ2LjY1LjQ2IDEuMjUzIDAgLjYwMy0uNDE3IDEuMjAzLTEuMDA0IDEuNTE1LS4wNTcuMTA5LS4xMTcuMjE0LS4xODEuMzE1bC40MzcuMjQ1Yy42NC4zNTcgMS4xOTQuNjY2IDEuNzI0IDEuMDgxLjEzOC4xMDguMjU2LjIyNC4zNjUuMzQzSDE0YzAtMS41My0uMDQxLTIuNS0uODc1LTMuMTUzelwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX3BlcnNvbl9kZWZhdWx0ID0gU3ZnVHlwZVBlcnNvbjtcblxuLy8gc3JjL2ljb25zL3R5cGUtcGVyc29uLTIudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDM0IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZVBlcnNvbjIocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM0LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzNC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMTMuMTI1IDEwLjAzNWMtLjU3MS0uNTUtMi4zMjQtMS41MDQtMy41LTIuMTZ2LS44MzRjLjIyNC0uMzIyLjQyLS42NzEuNTY2LTEuMDU1LjM5NC0uMjQyLjc0Ni0uNzAyLjc0Ni0xLjE3MyAwLS40NTgtLjAwNS0uODctLjQ3LTEuMjA4QzEwLjMwNSAxLjU1OCA5LjQzNiAwIDcgMFMzLjY5NSAxLjU1OCAzLjUzMyAzLjYwNWMtLjQ2NS4zMzgtLjQ3Ljc1LS40NyAxLjIwOCAwIC40NzEuMzUyLjkzLjc0NiAxLjE3My4xNDYuMzg0LjM0Mi43MzMuNTY2IDEuMDU1di44MzRjLTEuMTc2LjY1Ni0yLjkyOSAxLjYxLTMuNSAyLjE2Qy4xNjUgMTAuNzIgMCAxMS44MTIgMCAxNGgxNGMwLTIuMTg4LS4xNjQtMy4yODEtLjg3NS0zLjk2NXpcIlxuICB9KSk7XG59XG52YXIgdHlwZV9wZXJzb25fMl9kZWZhdWx0ID0gU3ZnVHlwZVBlcnNvbjI7XG5cbi8vIHNyYy9pY29ucy90eXBlLXBob25lLW51bWJlci50c3hcbmltcG9ydCAqIGFzIFJlYWN0MzUgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlUGhvbmVOdW1iZXIocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM1LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzNS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNMi4yMDcuMDEzYS40ODcuNDg3IDAgMDAtLjI5LjAyQy44Ny40MzguMjEzIDEuOTMuMDU4IDIuOTU1Yy0uNDg0IDMuMzMgMi4xNSA2LjIxNSA0LjU3IDguMTEzIDIuMTQ5IDEuNjg0IDYuMjczIDQuNDUzIDguNzEzIDEuNzgxLjMxLS4zMjkuNjc4LS44MTMuNjU4LTEuMjk3LS4wNTgtLjgxMy0uODEzLTEuMzk0LTEuMzk0LTEuODQtLjQ0NS0uMzI5LTEuMzc1LTEuMjM5LTEuOTU2LTEuMjItLjUyMi4wMi0uODUxLjU2Mi0xLjE4Ljg5MWwtLjU4Mi41ODFjLS4wOTYuMDk3LTEuMzM2LS43MTYtMS40NzEtLjgxM2E5Ljg4MSA5Ljg4MSAwIDAxLTEuNDE0LTEuMTA0QTkuMTMgOS4xMyAwIDAxNC44NiA2LjczMmMtLjA5Ny0uMTM2LS44OS0xLjMxNy0uODEzLTEuNDE0IDAgMCAuNjc3LS43MzYuODcxLTEuMDI2LjQwNy0uNjIuNzE3LTEuMTA0LjI1Mi0xLjg0LS4xNzQtLjI3LS4zODctLjQ4NC0uNjItLjcxNi0uNDA2LS4zODctLjgxMy0uNzk0LTEuMjc4LTEuMTIzLS4yNTEtLjE5NC0uNjc3LS41NDItMS4wNjUtLjZ6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfcGhvbmVfbnVtYmVyX2RlZmF1bHQgPSBTdmdUeXBlUGhvbmVOdW1iZXI7XG5cbi8vIHNyYy9pY29ucy90eXBlLXJlbGF0aW9uLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QzNiBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVSZWxhdGlvbihwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0MzYuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM2LmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk00LjUgMXYyaDUuMDg2TDEgMTEuNTg2IDIuNDE0IDEzIDExIDQuNDE0VjkuNWgyVjF6XCJcbiAgfSkpO1xufVxudmFyIHR5cGVfcmVsYXRpb25fZGVmYXVsdCA9IFN2Z1R5cGVSZWxhdGlvbjtcblxuLy8gc3JjL2ljb25zL3R5cGUtc2VsZWN0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3QzNyBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVTZWxlY3QocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM3LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzNy5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNyAxM0E2IDYgMCAxMDcgMWE2IDYgMCAwMDAgMTJ6TTMuNzUxIDUuMzIzQS4yLjIgMCAwMTMuOTA5IDVoNi4xODJhLjIuMiAwIDAxLjE1OC4zMjNMNy4xNTggOS4yOTdhLjIuMiAwIDAxLS4zMTYgMEwzLjc1MSA1LjMyM3pcIlxuICB9KSk7XG59XG52YXIgdHlwZV9zZWxlY3RfZGVmYXVsdCA9IFN2Z1R5cGVTZWxlY3Q7XG5cbi8vIHNyYy9pY29ucy90eXBlLXRleHQudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDM4IGZyb20gXCJyZWFjdFwiO1xuZnVuY3Rpb24gU3ZnVHlwZVRleHQocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM4LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzOC5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNyA0LjU2OGEuNS41IDAgMDAtLjUtLjVoLTZhLjUuNSAwIDAwLS41LjV2MS4wNDZhLjUuNSAwIDAwLjUuNWg2YS41LjUgMCAwMC41LS41VjQuNTY4ek0uNSAxYS41LjUgMCAwMC0uNS41djEuMDQ1YS41LjUgMCAwMC41LjVoMTJhLjUuNSAwIDAwLjUtLjVWMS41YS41LjUgMCAwMC0uNS0uNUguNXpNMCA4LjY4MmEuNS41IDAgMDAuNS41aDExYS41LjUgMCAwMC41LS41VjcuNjM2YS41LjUgMCAwMC0uNS0uNUguNWEuNS41IDAgMDAtLjUuNXYxLjA0NnptMCAzLjA2OGEuNS41IDAgMDAuNS41aDlhLjUuNSAwIDAwLjUtLjV2LTEuMDQ1YS41LjUgMCAwMC0uNS0uNWgtOWEuNS41IDAgMDAtLjUuNXYxLjA0NXpcIlxuICB9KSk7XG59XG52YXIgdHlwZV90ZXh0X2RlZmF1bHQgPSBTdmdUeXBlVGV4dDtcblxuLy8gc3JjL2ljb25zL3R5cGUtdGltZXN0YW1wLnRzeFxuaW1wb3J0ICogYXMgUmVhY3QzOSBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVUaW1lc3RhbXAocHJvcHMpIHtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDM5LmNyZWF0ZUVsZW1lbnQoXCJzdmdcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCJcbiAgfSwgcHJvcHMpLCAvKiBAX19QVVJFX18gKi8gUmVhY3QzOS5jcmVhdGVFbGVtZW50KFwicGF0aFwiLCB7XG4gICAgZDogXCJNNi45ODYgMTRjLTEuNzkgMC0zLjU4Mi0uNjktNC45NDQtMi4wNjgtMi43MjMtMi43Mi0yLjcyMy03LjE3MiAwLTkuODkyIDIuNzI1LTIuNzIgNy4xODItMi43MiA5LjkwNiAwQTYuOTcyIDYuOTcyIDAgMDExNCA2Ljk5NmMwIDEuODgtLjcyOCAzLjYzMy0yLjA1MiA0Ljk1NUE3LjA1OCA3LjA1OCAwIDAxNi45ODYgMTR6bTMuMjg1LTYuOTl2MS42NDVINS41MjZ2LTUuNDdoMS44NDF2My42M2gyLjkwNHYuMTk0em0xLjg5LS4wMTRjMC0xLjM3OS0uNTQyLTIuNjctMS41MjItMy42NDgtMi4wMDYtMi4wMDUtNS4yODctMi4wMDctNy4yOTctLjAwOWwtLjAwOS4wMDlhNS4xNjggNS4xNjggMCAwMDAgNy4yOTVjMi4wMSAyLjAwNyA1LjI5NyAyLjAwNyA3LjMwNiAwYTUuMTE5IDUuMTE5IDAgMDAxLjUyMS0zLjY0N3pcIlxuICB9KSk7XG59XG52YXIgdHlwZV90aW1lc3RhbXBfZGVmYXVsdCA9IFN2Z1R5cGVUaW1lc3RhbXA7XG5cbi8vIHNyYy9pY29ucy90eXBlLXRpdGxlLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0MCBmcm9tIFwicmVhY3RcIjtcbmZ1bmN0aW9uIFN2Z1R5cGVUaXRsZShwcm9wcykge1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDAuY3JlYXRlRWxlbWVudChcInN2Z1wiLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgdmlld0JveDogXCIwIDAgMTQgMTRcIlxuICB9LCBwcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQwLmNyZWF0ZUVsZW1lbnQoXCJwYXRoXCIsIHtcbiAgICBkOiBcIk03Ljc0IDguNjk3YS44MS44MSAwIDAxLjA3My4zMDguODk0Ljg5NCAwIDAxLS45Ljg4OC44NjcuODY3IDAgMDEtLjgyNS0uNTkybC0uMzMzLS45NjFIMi4wNThsLS4zMzMuOTYxYS44ODIuODgyIDAgMDEtLjgzOC41OTJBLjg4NC44ODQgMCAwMTAgOS4wMDVjMC0uMTEuMDI1LS4yMjIuMDYyLS4zMDhsMi40MDMtNi4yMTFjLjIyMi0uNTguNzc2LS45ODYgMS40NDItLjk4Ni42NTMgMCAxLjIyLjQwNyAxLjQ0Mi45ODZsMi4zOSA2LjIxMXpNMi42IDYuODI0aDIuNjEzTDMuOTA3IDMuMTAyIDIuNiA2LjgyNHptOC44LTMuMTE4YzEuMzU1IDAgMi42LjU0MiAyLjYgMi4yNTVWOS4wOGEuOC44IDAgMDEtLjc4OS44MTQuNzk3Ljc5NyAwIDAxLS43ODgtLjcwM2MtLjM5NS40NjgtMS4wOTcuNzY0LTEuODc0Ljc2NC0uOTQ5IDAtMi4wNy0uNjQtMi4wNy0xLjk3MiAwLTEuMzkyIDEuMTIxLTEuODk3IDIuMDctMS44OTcuNzg5IDAgMS40OTEuMjQ2IDEuODg2LjcyN3YtLjgyNmMwLS42MDQtLjUxOC0uOTk4LTEuMzA2LS45OTgtLjQ2OSAwLS44ODguMTIzLTEuMzIuMzk0YS42NC42NCAwIDAxLS4zMDcuMDg2LjYwMi42MDIgMCAwMS0uNTkyLS42MDRjMC0uMjIxLjEyMy0uNDE5LjI4NC0uNTE3YTMuOTYzIDMuOTYzIDAgMDEyLjIwNi0uNjQxem0tLjIyMiA1LjE4OGMuNTA1IDAgLjk5OC0uMTcyIDEuMjU3LS41MTd2LS43NGMtLjI1OS0uMzQ1LS43NTItLjUxNy0xLjI1Ny0uNTE3LS42MTYgMC0xLjEyMi4zMzItMS4xMjIuOSAwIC41NTQuNTA2Ljg3NCAxLjEyMi44NzR6TS42NTYgMTEuMTI1aDEyLjY4OGEuNjU2LjY1NiAwIDExMCAxLjMxM0guNjU2YS42NTYuNjU2IDAgMTEwLTEuMzEzelwiXG4gIH0pKTtcbn1cbnZhciB0eXBlX3RpdGxlX2RlZmF1bHQgPSBTdmdUeXBlVGl0bGU7XG5cbi8vIHNyYy9pY29ucy90eXBlLXVybC50c3hcbmltcG9ydCAqIGFzIFJlYWN0NDEgZnJvbSBcInJlYWN0XCI7XG5mdW5jdGlvbiBTdmdUeXBlVXJsKHByb3BzKSB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0MS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkVmFsdWVzKHtcbiAgICB2aWV3Qm94OiBcIjAgMCAxNCAxNFwiXG4gIH0sIHByb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDEuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTMuNzMzIDMuODY3aDMuNzM0YzEuMDMgMCAxLjg2Ni44MzcgMS44NjYgMS44NjYgMCAxLjAzLS44MzcgMS44NjctMS44NjYgMS44NjdoLS45MzRhLjkzNC45MzQgMCAwMDAgMS44NjdoLjkzNGEzLjczNCAzLjczNCAwIDAwMC03LjQ2N0gzLjczM0EzLjczIDMuNzMgMCAwMDEuODkgOC45NzdhNC42MzcgNC42MzcgMCAwMS4zMTQtMi4xOCAxLjg1NCAxLjg1NCAwIDAxLS4zMzYtMS4wNjRjMC0xLjAzLjgzNy0xLjg2NiAxLjg2Ni0xLjg2NnptOC4zNzcgMS40MjJhNC42IDQuNiAwIDAxLS4zMTYgMi4xNzZjLjIxMi4zMDMuMzQuNjcuMzQgMS4wNjggMCAxLjAzLS44MzggMS44NjctMS44NjcgMS44NjdINi41MzNhMS44NjkgMS44NjkgMCAwMS0xLjg2Ni0xLjg2N2MwLTEuMDMuODM3LTEuODY2IDEuODY2LTEuODY2aC45MzRhLjkzNC45MzQgMCAwMDAtMS44NjdoLS45MzRhMy43MzMgMy43MzMgMCAwMDAgNy40NjdoMy43MzRhMy43MyAzLjczIDAgMDAxLjg0My02Ljk3OHpcIlxuICB9KSk7XG59XG52YXIgdHlwZV91cmxfZGVmYXVsdCA9IFN2Z1R5cGVVcmw7XG5cbi8vIHNyYy9pY29ucy9wcm9wZXJ0eS1pY29uLnRzeFxudmFyIGljb25NYXAyID0ge1xuICB0aXRsZTogdHlwZV90aXRsZV9kZWZhdWx0LFxuICB0ZXh0OiB0eXBlX3RleHRfZGVmYXVsdCxcbiAgbnVtYmVyOiB0eXBlX251bWJlcl9kZWZhdWx0LFxuICBzZWxlY3Q6IHR5cGVfc2VsZWN0X2RlZmF1bHQsXG4gIG11bHRpX3NlbGVjdDogdHlwZV9tdWx0aV9zZWxlY3RfZGVmYXVsdCxcbiAgZGF0ZTogdHlwZV9kYXRlX2RlZmF1bHQsXG4gIHBlcnNvbjogdHlwZV9wZXJzb25fZGVmYXVsdCxcbiAgZmlsZTogdHlwZV9maWxlX2RlZmF1bHQsXG4gIGNoZWNrYm94OiB0eXBlX2NoZWNrYm94X2RlZmF1bHQsXG4gIHVybDogdHlwZV91cmxfZGVmYXVsdCxcbiAgZW1haWw6IHR5cGVfZW1haWxfZGVmYXVsdCxcbiAgcGhvbmVfbnVtYmVyOiB0eXBlX3Bob25lX251bWJlcl9kZWZhdWx0LFxuICBmb3JtdWxhOiB0eXBlX2Zvcm11bGFfZGVmYXVsdCxcbiAgcmVsYXRpb246IHR5cGVfcmVsYXRpb25fZGVmYXVsdCxcbiAgY3JlYXRlZF90aW1lOiB0eXBlX3RpbWVzdGFtcF9kZWZhdWx0LFxuICBsYXN0X2VkaXRlZF90aW1lOiB0eXBlX3RpbWVzdGFtcF9kZWZhdWx0LFxuICBjcmVhdGVkX2J5OiB0eXBlX3BlcnNvbl8yX2RlZmF1bHQsXG4gIGxhc3RfZWRpdGVkX2J5OiB0eXBlX3BlcnNvbl8yX2RlZmF1bHRcbn07XG52YXIgUHJvcGVydHlJY29uID0gKF9hKSA9PiB7XG4gIHZhciBfYiA9IF9hLCB7XG4gICAgdHlwZVxuICB9ID0gX2IsIHJlc3QgPSBfX29ialJlc3QoX2IsIFtcbiAgICBcInR5cGVcIlxuICBdKTtcbiAgY29uc3QgaWNvbiA9IGljb25NYXAyW3R5cGVdO1xuICBpZiAoIWljb24pXG4gICAgcmV0dXJuIG51bGw7XG4gIHJldHVybiBpY29uKHJlc3QpO1xufTtcblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tY29sdW1uLXRpdGxlLnRzeFxudmFyIENvbGxlY3Rpb25Db2x1bW5UaXRsZSA9ICh7IHNjaGVtYSB9KSA9PiB7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0Mi5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tY29sdW1uLXRpdGxlXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDIuY3JlYXRlRWxlbWVudChQcm9wZXJ0eUljb24sIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tY29sdW1uLXRpdGxlLWljb25cIixcbiAgICB0eXBlOiBzY2hlbWEudHlwZVxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDIuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWNvbHVtbi10aXRsZS1ib2R5XCJcbiAgfSwgc2NoZW1hLm5hbWUpKTtcbn07XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9wcm9wZXJ0eS50c3hcbnZhciBpbXBvcnRfZm9ybWF0MiA9IF9fdG9FU00ocmVxdWlyZV9mb3JtYXQoKSwgMSk7XG52YXIgaW1wb3J0X2Zvcm1hdF9udW1iZXIgPSBfX3RvRVNNKHJlcXVpcmVfZm9ybWF0X251bWJlcigpLCAxKTtcbmltcG9ydCAqIGFzIFJlYWN0NDMgZnJvbSBcInJlYWN0XCI7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9ldmFsLWZvcm11bGEudHNcbnZhciBpbXBvcnRfYWRkID0gX190b0VTTShyZXF1aXJlX2FkZCgpLCAxKTtcbnZhciBpbXBvcnRfZm9ybWF0ID0gX190b0VTTShyZXF1aXJlX2Zvcm1hdCgpLCAxKTtcbnZhciBpbXBvcnRfZ2V0RGF0ZSA9IF9fdG9FU00ocmVxdWlyZV9nZXREYXRlKCksIDEpO1xudmFyIGltcG9ydF9nZXREYXkgPSBfX3RvRVNNKHJlcXVpcmVfZ2V0RGF5KCksIDEpO1xudmFyIGltcG9ydF9nZXRIb3VycyA9IF9fdG9FU00ocmVxdWlyZV9nZXRIb3VycygpLCAxKTtcbnZhciBpbXBvcnRfZ2V0TWludXRlcyA9IF9fdG9FU00ocmVxdWlyZV9nZXRNaW51dGVzKCksIDEpO1xudmFyIGltcG9ydF9nZXRNb250aCA9IF9fdG9FU00ocmVxdWlyZV9nZXRNb250aCgpLCAxKTtcbnZhciBpbXBvcnRfZ2V0WWVhciA9IF9fdG9FU00ocmVxdWlyZV9nZXRZZWFyKCksIDEpO1xudmFyIGltcG9ydF9pbnRlcnZhbFRvRHVyYXRpb24gPSBfX3RvRVNNKHJlcXVpcmVfaW50ZXJ2YWxUb0R1cmF0aW9uKCksIDEpO1xudmFyIGltcG9ydF9zdWIgPSBfX3RvRVNNKHJlcXVpcmVfc3ViKCksIDEpO1xuaW1wb3J0IHsgZ2V0RGF0ZVZhbHVlLCBnZXRUZXh0Q29udGVudCBhcyBnZXRUZXh0Q29udGVudDIgfSBmcm9tIFwibm90aW9uLXV0aWxzXCI7XG5mdW5jdGlvbiBldmFsRm9ybXVsYShmb3JtdWxhLCBjb250ZXh0KSB7XG4gIGNvbnN0IF9hID0gY29udGV4dCwgeyBlbmREYXRlIH0gPSBfYSwgY3R4MiA9IF9fb2JqUmVzdChfYSwgW1wiZW5kRGF0ZVwiXSk7XG4gIHN3aXRjaCAoZm9ybXVsYSA9PSBudWxsID8gdm9pZCAwIDogZm9ybXVsYS50eXBlKSB7XG4gICAgY2FzZSBcInN5bWJvbFwiOlxuICAgICAgcmV0dXJuIGZvcm11bGEubmFtZSA9PT0gXCJ0cnVlXCI7XG4gICAgY2FzZSBcImNvbnN0YW50XCI6IHtcbiAgICAgIGNvbnN0IHZhbHVlID0gZm9ybXVsYS52YWx1ZTtcbiAgICAgIHN3aXRjaCAoZm9ybXVsYS5yZXN1bHRfdHlwZSkge1xuICAgICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJwcm9wZXJ0eVwiOiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGN0eDIucHJvcGVydGllc1tmb3JtdWxhLmlkXTtcbiAgICAgIGNvbnN0IHRleHQgPSBnZXRUZXh0Q29udGVudDIodmFsdWUpO1xuICAgICAgc3dpdGNoIChmb3JtdWxhLnJlc3VsdF90eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCh0ZXh0KTtcbiAgICAgICAgY2FzZSBcImJvb2xlYW5cIjpcbiAgICAgICAgICBpZiAodHlwZW9mIHRleHQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0ZXh0ID09PSBcInRydWVcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICEhdGV4dDtcbiAgICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJkYXRlXCI6IHtcbiAgICAgICAgICBjb25zdCB2ID0gZ2V0RGF0ZVZhbHVlKHZhbHVlKTtcbiAgICAgICAgICBpZiAodikge1xuICAgICAgICAgICAgaWYgKGVuZERhdGUgJiYgdi5lbmRfZGF0ZSkge1xuICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodi5lbmRfZGF0ZSk7XG4gICAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZShcbiAgICAgICAgICAgICAgICBkYXRlLmdldFVUQ0Z1bGxZZWFyKCksXG4gICAgICAgICAgICAgICAgZGF0ZS5nZXRVVENNb250aCgpLFxuICAgICAgICAgICAgICAgIGRhdGUuZ2V0VVRDRGF0ZSgpXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodi5zdGFydF9kYXRlKTtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKFxuICAgICAgICAgICAgICAgIGRhdGUuZ2V0VVRDRnVsbFllYXIoKSxcbiAgICAgICAgICAgICAgICBkYXRlLmdldFVUQ01vbnRoKCksXG4gICAgICAgICAgICAgICAgZGF0ZS5nZXRVVENEYXRlKClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHRleHQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB0ZXh0O1xuICAgICAgfVxuICAgIH1cbiAgICBjYXNlIFwib3BlcmF0b3JcIjpcbiAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgIHJldHVybiBldmFsRnVuY3Rpb25Gb3JtdWxhKGZvcm11bGEsIGN0eDIpO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIGBpbnZhbGlkIG9yIHVuc3VwcG9ydGVkIGZvcm11bGEgXCIke2Zvcm11bGEgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcm11bGEudHlwZX1gXG4gICAgICApO1xuICB9XG59XG5mdW5jdGlvbiBldmFsRnVuY3Rpb25Gb3JtdWxhKGZvcm11bGEsIGN0eDIpIHtcbiAgY29uc3QgYXJncyA9IGZvcm11bGEgPT0gbnVsbCA/IHZvaWQgMCA6IGZvcm11bGEuYXJncztcbiAgc3dpdGNoIChmb3JtdWxhLm5hbWUpIHtcbiAgICBjYXNlIFwiYW5kXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgJiYgZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcImVtcHR5XCI6XG4gICAgICByZXR1cm4gIWV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgIGNhc2UgXCJlcXVhbFwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpID09IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJpZlwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpID8gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4MikgOiBldmFsRm9ybXVsYShhcmdzWzJdLCBjdHgyKTtcbiAgICBjYXNlIFwibGFyZ2VyXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgPiBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwibGFyZ2VyRXFcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSA+PSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwibm90XCI6XG4gICAgICByZXR1cm4gIWV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgIGNhc2UgXCJvclwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpIHx8IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJzbWFsbGVyXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgPCBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwic21hbGxlckVxXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgPD0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcInVuZXF1YWxcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAhPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICBjYXNlIFwiYWJzXCI6XG4gICAgICByZXR1cm4gTWF0aC5hYnMoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJhZGRcIjoge1xuICAgICAgY29uc3QgdjAgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHYxID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBpZiAodHlwZW9mIHYwID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIHJldHVybiB2MCArICt2MTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHYwID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB2MCArIGAke3YxfWA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdjA7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJjYnJ0XCI6XG4gICAgICByZXR1cm4gTWF0aC5jYnJ0KGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiY2VpbFwiOlxuICAgICAgcmV0dXJuIE1hdGguY2VpbChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImRpdmlkZVwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpIC8gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcImV4cFwiOlxuICAgICAgcmV0dXJuIE1hdGguZXhwKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiZmxvb3JcIjpcbiAgICAgIHJldHVybiBNYXRoLmZsb29yKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwibG5cIjpcbiAgICAgIHJldHVybiBNYXRoLmxvZyhldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImxvZzEwXCI6XG4gICAgICByZXR1cm4gTWF0aC5sb2cxMChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImxvZzJcIjpcbiAgICAgIHJldHVybiBNYXRoLmxvZzIoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJtYXhcIjoge1xuICAgICAgY29uc3QgdmFsdWVzID0gYXJncy5tYXAoKGFyZykgPT4gZXZhbEZvcm11bGEoYXJnLCBjdHgyKSk7XG4gICAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShcbiAgICAgICAgKGFjYywgdmFsdWUpID0+IE1hdGgubWF4KGFjYywgdmFsdWUpLFxuICAgICAgICBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFlcbiAgICAgICk7XG4gICAgfVxuICAgIGNhc2UgXCJtaW5cIjoge1xuICAgICAgY29uc3QgdmFsdWVzID0gYXJncy5tYXAoKGFyZykgPT4gZXZhbEZvcm11bGEoYXJnLCBjdHgyKSk7XG4gICAgICByZXR1cm4gdmFsdWVzLnJlZHVjZShcbiAgICAgICAgKGFjYywgdmFsdWUpID0+IE1hdGgubWluKGFjYywgdmFsdWUpLFxuICAgICAgICBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFlcbiAgICAgICk7XG4gICAgfVxuICAgIGNhc2UgXCJtb2RcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAlIGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJtdWx0aXBseVwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpICogZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgY2FzZSBcInBvd1wiOlxuICAgICAgcmV0dXJuIE1hdGgucG93KFxuICAgICAgICBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSxcbiAgICAgICAgZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4MilcbiAgICAgICk7XG4gICAgY2FzZSBcInJvdW5kXCI6XG4gICAgICByZXR1cm4gTWF0aC5yb3VuZChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcInNpZ25cIjpcbiAgICAgIHJldHVybiBNYXRoLnNpZ24oZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJzcXJ0XCI6XG4gICAgICByZXR1cm4gTWF0aC5zcXJ0KGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwic3VidHJhY3RcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSAtIGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgIGNhc2UgXCJ0b051bWJlclwiOlxuICAgICAgcmV0dXJuIHBhcnNlRmxvYXQoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJ1bmFyeU1pbnVzXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikgKiAtMTtcbiAgICBjYXNlIFwidW5hcnlQbHVzXCI6XG4gICAgICByZXR1cm4gcGFyc2VGbG9hdChldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKSk7XG4gICAgY2FzZSBcImNvbmNhdFwiOiB7XG4gICAgICBjb25zdCB2YWx1ZXMgPSBhcmdzLm1hcCgoYXJnKSA9PiBldmFsRm9ybXVsYShhcmcsIGN0eDIpKTtcbiAgICAgIHJldHVybiB2YWx1ZXMuam9pbihcIlwiKTtcbiAgICB9XG4gICAgY2FzZSBcImNvbnRhaW5zXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikuaW5jbHVkZXMoXG4gICAgICAgIGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpXG4gICAgICApO1xuICAgIGNhc2UgXCJmb3JtYXRcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIHN3aXRjaCAodHlwZW9mIHZhbHVlKSB7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gKDAsIGltcG9ydF9mb3JtYXQuZGVmYXVsdCkodmFsdWUsIFwiTU1NIGQsIFlZWVwiKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gICAgICAgICAgfVxuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuIGAke3ZhbHVlfWA7XG4gICAgICB9XG4gICAgfVxuICAgIGNhc2UgXCJqb2luXCI6IHtcbiAgICAgIGNvbnN0IFtkZWxpbWl0ZXJBcmcsIC4uLnJlc3RBcmdzXSA9IGFyZ3M7XG4gICAgICBjb25zdCBkZWxpbWl0ZXIgPSBldmFsRm9ybXVsYShkZWxpbWl0ZXJBcmcsIGN0eDIpO1xuICAgICAgY29uc3QgdmFsdWVzID0gcmVzdEFyZ3MubWFwKChhcmcpID0+IGV2YWxGb3JtdWxhKGFyZywgY3R4MikpO1xuICAgICAgcmV0dXJuIHZhbHVlcy5qb2luKGRlbGltaXRlcik7XG4gICAgfVxuICAgIGNhc2UgXCJsZW5ndGhcIjpcbiAgICAgIHJldHVybiBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKS5sZW5ndGg7XG4gICAgY2FzZSBcInJlcGxhY2VcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBjb25zdCByZXBsYWNlbWVudCA9IGV2YWxGb3JtdWxhKGFyZ3NbMl0sIGN0eDIpO1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChyZWdleCksIHJlcGxhY2VtZW50KTtcbiAgICB9XG4gICAgY2FzZSBcInJlcGxhY2VBbGxcIjoge1xuICAgICAgY29uc3QgdmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHJlZ2V4ID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBjb25zdCByZXBsYWNlbWVudCA9IGV2YWxGb3JtdWxhKGFyZ3NbMl0sIGN0eDIpO1xuICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UobmV3IFJlZ0V4cChyZWdleCwgXCJnXCIpLCByZXBsYWNlbWVudCk7XG4gICAgfVxuICAgIGNhc2UgXCJzbGljZVwiOiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgYmVnaW5JbmRleCA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgY29uc3QgZW5kSW5kZXggPSBhcmdzWzJdID8gZXZhbEZvcm11bGEoYXJnc1syXSwgY3R4MikgOiB2YWx1ZS5sZW5ndGg7XG4gICAgICByZXR1cm4gdmFsdWUuc2xpY2UoYmVnaW5JbmRleCwgZW5kSW5kZXgpO1xuICAgIH1cbiAgICBjYXNlIFwidGVzdFwiOiB7XG4gICAgICBjb25zdCB2YWx1ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgcmVnZXggPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAgIHJldHVybiBuZXcgUmVnRXhwKHJlZ2V4KS50ZXN0KHZhbHVlKTtcbiAgICB9XG4gICAgY2FzZSBcImRhdGVcIjpcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2dldERhdGUuZGVmYXVsdCkoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJkYXRlQWRkXCI6IHtcbiAgICAgIGNvbnN0IGRhdGUgPSBldmFsRm9ybXVsYShhcmdzWzBdLCBjdHgyKTtcbiAgICAgIGNvbnN0IG51bWJlciA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgY29uc3QgdW5pdCA9IGV2YWxGb3JtdWxhKGFyZ3NbMV0sIGN0eDIpO1xuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfYWRkLmRlZmF1bHQpKGRhdGUsIHsgW3VuaXRdOiBudW1iZXIgfSk7XG4gICAgfVxuICAgIGNhc2UgXCJkYXRlQmV0d2VlblwiOiB7XG4gICAgICBjb25zdCBkYXRlMSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgZGF0ZTIgPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAgIGNvbnN0IHVuaXQgPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKTtcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2ludGVydmFsVG9EdXJhdGlvbi5kZWZhdWx0KSh7XG4gICAgICAgIHN0YXJ0OiBkYXRlMixcbiAgICAgICAgZW5kOiBkYXRlMVxuICAgICAgfSlbdW5pdF07XG4gICAgfVxuICAgIGNhc2UgXCJkYXRlU3VidHJhY3RcIjoge1xuICAgICAgY29uc3QgZGF0ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgbnVtYmVyID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICBjb25zdCB1bml0ID0gZXZhbEZvcm11bGEoYXJnc1sxXSwgY3R4Mik7XG4gICAgICByZXR1cm4gKDAsIGltcG9ydF9zdWIuZGVmYXVsdCkoZGF0ZSwgeyBbdW5pdF06IG51bWJlciB9KTtcbiAgICB9XG4gICAgY2FzZSBcImRheVwiOlxuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfZ2V0RGF5LmRlZmF1bHQpKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiZW5kXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgY3R4MiksIHsgZW5kRGF0ZTogdHJ1ZSB9KSk7XG4gICAgY2FzZSBcImZvcm1hdERhdGVcIjoge1xuICAgICAgY29uc3QgZGF0ZSA9IGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpO1xuICAgICAgY29uc3QgZm9ybWF0VmFsdWUgPSBldmFsRm9ybXVsYShhcmdzWzFdLCBjdHgyKS5yZXBsYWNlKFxuICAgICAgICBcImRkZGRcIixcbiAgICAgICAgXCJlZWVlXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gKDAsIGltcG9ydF9mb3JtYXQuZGVmYXVsdCkoZGF0ZSwgZm9ybWF0VmFsdWUpO1xuICAgIH1cbiAgICBjYXNlIFwiZnJvbVRpbWVzdGFtcFwiOlxuICAgICAgcmV0dXJuIG5ldyBEYXRlKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBjYXNlIFwiaG91clwiOlxuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfZ2V0SG91cnMuZGVmYXVsdCkoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJtaW51dGVcIjpcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2dldE1pbnV0ZXMuZGVmYXVsdCkoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJtb250aFwiOlxuICAgICAgcmV0dXJuICgwLCBpbXBvcnRfZ2V0TW9udGguZGVmYXVsdCkoZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikpO1xuICAgIGNhc2UgXCJub3dcIjpcbiAgICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgcmV0dXJuIGV2YWxGb3JtdWxhKGFyZ3NbMF0sIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGN0eDIpLCB7IGVuZERhdGU6IGZhbHNlIH0pKTtcbiAgICBjYXNlIFwidGltZXN0YW1wXCI6XG4gICAgICByZXR1cm4gZXZhbEZvcm11bGEoYXJnc1swXSwgY3R4MikuZ2V0VGltZSgpO1xuICAgIGNhc2UgXCJ5ZWFyXCI6XG4gICAgICByZXR1cm4gKDAsIGltcG9ydF9nZXRZZWFyLmRlZmF1bHQpKGV2YWxGb3JtdWxhKGFyZ3NbMF0sIGN0eDIpKTtcbiAgICBkZWZhdWx0OlxuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgaW52YWxpZCBvciB1bnN1cHBvcnRlZCBmdW5jdGlvbiBmb3JtdWxhIFwiJHtmb3JtdWxhID09IG51bGwgPyB2b2lkIDAgOiBmb3JtdWxhLnR5cGV9YFxuICAgICAgKTtcbiAgfVxufVxuXG4vLyBzcmMvdGhpcmQtcGFydHkvcHJvcGVydHkudHN4XG52YXIgUHJvcGVydHkgPSAocHJvcHMpID0+IHtcbiAgY29uc3QgeyBjb21wb25lbnRzIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGlmIChjb21wb25lbnRzLlByb3BlcnR5KSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQzLmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5Qcm9wZXJ0eSwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQzLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHlJbXBsTWVtbywgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gIH1cbn07XG52YXIgUHJvcGVydHlJbXBsID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY29tcG9uZW50cywgbWFwSW1hZ2VVcmwsIG1hcFBhZ2VVcmwgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qge1xuICAgIHNjaGVtYSxcbiAgICBkYXRhLFxuICAgIGJsb2NrLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgaW5saW5lID0gZmFsc2UsXG4gICAgbGlua1RvVGl0bGVQYWdlID0gdHJ1ZVxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IHJlbmRlclRleHRWYWx1ZSA9IFJlYWN0NDMudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBUZXh0UHJvcGVydHkoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgIHZhbHVlOiBkYXRhLFxuICAgICAgICBibG9ja1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbYmxvY2ssIGRhdGFdXG4gICk7XG4gIGNvbnN0IHJlbmRlckRhdGVWYWx1ZSA9IFJlYWN0NDMudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBEYXRlUHJvcGVydHkoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgIHZhbHVlOiBkYXRhLFxuICAgICAgICBibG9ja1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbYmxvY2ssIGRhdGFdXG4gICk7XG4gIGNvbnN0IHJlbmRlclJlbGF0aW9uVmFsdWUgPSBSZWFjdDQzLnVzZU1lbW8oXG4gICAgKCkgPT4gZnVuY3Rpb24gUmVsYXRpb25Qcm9wZXJ0eSgpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0My5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICAgIGJsb2NrXG4gICAgICB9KTtcbiAgICB9LFxuICAgIFtibG9jaywgZGF0YV1cbiAgKTtcbiAgY29uc3QgcmVuZGVyRm9ybXVsYVZhbHVlID0gUmVhY3Q0My51c2VNZW1vKFxuICAgICgpID0+IGZ1bmN0aW9uIEZvcm11bGFQcm9wZXJ0eSgpIHtcbiAgICAgIGxldCBjb250ZW50MjtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnRlbnQyID0gZXZhbEZvcm11bGEoc2NoZW1hLmZvcm11bGEsIHtcbiAgICAgICAgICBzY2hlbWE6IGNvbGxlY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb24uc2NoZW1hLFxuICAgICAgICAgIHByb3BlcnRpZXM6IGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5wcm9wZXJ0aWVzXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNOYU4oY29udGVudDIpKSB7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbnRlbnQyIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgIGNvbnRlbnQyID0gKDAsIGltcG9ydF9mb3JtYXQyLmRlZmF1bHQpKGNvbnRlbnQyLCBcIk1NTSBkLCBZWVkgaGg6bW0gYWFcIik7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb250ZW50MiA9IG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDI7XG4gICAgfSxcbiAgICBbYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLnByb3BlcnRpZXMsIGNvbGxlY3Rpb24gPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb24uc2NoZW1hLCBzY2hlbWFdXG4gICk7XG4gIGNvbnN0IHJlbmRlclRpdGxlVmFsdWUgPSBSZWFjdDQzLnVzZU1lbW8oXG4gICAgKCkgPT4gZnVuY3Rpb24gRm9ybXVsYVRpdGxlKCkge1xuICAgICAgaWYgKGJsb2NrICYmIGxpbmtUb1RpdGxlUGFnZSkge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLlBhZ2VMaW5rLCB7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjcyhcIm5vdGlvbi1wYWdlLWxpbmtcIiksXG4gICAgICAgICAgaHJlZjogbWFwUGFnZVVybChibG9jay5pZClcbiAgICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChQYWdlVGl0bGUsIHtcbiAgICAgICAgICBibG9ja1xuICAgICAgICB9KSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICAgICAgYmxvY2tcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBbYmxvY2ssIGNvbXBvbmVudHMsIGRhdGEsIGxpbmtUb1RpdGxlUGFnZSwgbWFwUGFnZVVybF1cbiAgKTtcbiAgY29uc3QgcmVuZGVyUGVyc29uVmFsdWUgPSBSZWFjdDQzLnVzZU1lbW8oXG4gICAgKCkgPT4gZnVuY3Rpb24gUGVyc29uUHJvcGVydHkoKSB7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgIHZhbHVlOiBkYXRhLFxuICAgICAgICBibG9ja1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbYmxvY2ssIGRhdGFdXG4gICk7XG4gIGNvbnN0IHJlbmRlckZpbGVWYWx1ZSA9IFJlYWN0NDMudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBGaWxlUHJvcGVydHkoKSB7XG4gICAgICBjb25zdCBmaWxlcyA9IGRhdGEuZmlsdGVyKCh2KSA9PiB2Lmxlbmd0aCA9PT0gMikubWFwKChmKSA9PiBmLmZsYXQoKS5mbGF0KCkpO1xuICAgICAgcmV0dXJuIGZpbGVzLm1hcCgoZmlsZSwgaSkgPT4gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLkxpbmssIHtcbiAgICAgICAga2V5OiBpLFxuICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLXByb3BlcnR5LWZpbGVcIixcbiAgICAgICAgaHJlZjogbWFwSW1hZ2VVcmwoZmlsZVsyXSwgYmxvY2spLFxuICAgICAgICB0YXJnZXQ6IFwiX2JsYW5rXCIsXG4gICAgICAgIHJlbDogXCJub3JlZmVycmVyIG5vb3BlbmVyXCJcbiAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQzLmNyZWF0ZUVsZW1lbnQoR3JhY2VmdWxJbWFnZSwge1xuICAgICAgICBhbHQ6IGZpbGVbMF0sXG4gICAgICAgIHNyYzogbWFwSW1hZ2VVcmwoZmlsZVsyXSwgYmxvY2spLFxuICAgICAgICBsb2FkaW5nOiBcImxhenlcIlxuICAgICAgfSkpKTtcbiAgICB9LFxuICAgIFtibG9jaywgY29tcG9uZW50cywgZGF0YSwgbWFwSW1hZ2VVcmxdXG4gICk7XG4gIGNvbnN0IHJlbmRlckNoZWNrYm94VmFsdWUgPSBSZWFjdDQzLnVzZU1lbW8oXG4gICAgKCkgPT4gZnVuY3Rpb24gQ2hlY2tib3hQcm9wZXJ0eSgpIHtcbiAgICAgIGNvbnN0IGlzQ2hlY2tlZCA9IGRhdGEgJiYgZGF0YVswXVswXSA9PT0gXCJZZXNcIjtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0My5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eS1jaGVja2JveC1jb250YWluZXJcIlxuICAgICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChDaGVja2JveCwge1xuICAgICAgICBpc0NoZWNrZWQsXG4gICAgICAgIGJsb2NrSWQ6IHZvaWQgMFxuICAgICAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQzLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1wcm9wZXJ0eS1jaGVja2JveC10ZXh0XCJcbiAgICAgIH0sIHNjaGVtYS5uYW1lKSk7XG4gICAgfSxcbiAgICBbZGF0YSwgc2NoZW1hXVxuICApO1xuICBjb25zdCByZW5kZXJVcmxWYWx1ZSA9IFJlYWN0NDMudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBVcmxQcm9wZXJ0eSgpIHtcbiAgICAgIGNvbnN0IGQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRhdGEpKTtcbiAgICAgIGlmIChpbmxpbmUpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKGRbMF1bMF0pO1xuICAgICAgICAgIGRbMF1bMF0gPSB1cmwuaG9zdG5hbWUucmVwbGFjZSgvXnd3d1xcLi8sIFwiXCIpO1xuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQzLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgICB2YWx1ZTogZCxcbiAgICAgICAgYmxvY2ssXG4gICAgICAgIGlubGluZSxcbiAgICAgICAgbGlua1Byb3BzOiB7XG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgIHJlbDogXCJub3JlZmVycmVyIG5vb3BlbmVyXCJcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSxcbiAgICBbYmxvY2ssIGRhdGEsIGlubGluZV1cbiAgKTtcbiAgY29uc3QgcmVuZGVyRW1haWxWYWx1ZSA9IFJlYWN0NDMudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBFbWFpbFByb3BlcnR5KCkge1xuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQzLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgICB2YWx1ZTogZGF0YSxcbiAgICAgICAgbGlua1Byb3RvY29sOiBcIm1haWx0b1wiLFxuICAgICAgICBibG9ja1xuICAgICAgfSk7XG4gICAgfSxcbiAgICBbYmxvY2ssIGRhdGFdXG4gICk7XG4gIGNvbnN0IHJlbmRlclBob25lTnVtYmVyVmFsdWUgPSBSZWFjdDQzLnVzZU1lbW8oXG4gICAgKCkgPT4gZnVuY3Rpb24gUGhvbmVOdW1iZXJQcm9wZXJ0eSgpIHtcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0My5jcmVhdGVFbGVtZW50KFRleHQsIHtcbiAgICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICAgIGxpbmtQcm90b2NvbDogXCJ0ZWxcIixcbiAgICAgICAgYmxvY2tcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgW2Jsb2NrLCBkYXRhXVxuICApO1xuICBjb25zdCByZW5kZXJOdW1iZXJWYWx1ZSA9IFJlYWN0NDMudXNlTWVtbyhcbiAgICAoKSA9PiBmdW5jdGlvbiBOdW1iZXJQcm9wZXJ0eSgpIHtcbiAgICAgIGNvbnN0IHZhbHVlID0gcGFyc2VGbG9hdChkYXRhWzBdWzBdIHx8IFwiMFwiKTtcbiAgICAgIGxldCBvdXRwdXQgPSBcIlwiO1xuICAgICAgaWYgKGlzTmFOKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICAgICAgYmxvY2tcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzd2l0Y2ggKHNjaGVtYS5udW1iZXJfZm9ybWF0KSB7XG4gICAgICAgICAgY2FzZSBcIm51bWJlcl93aXRoX2NvbW1hc1wiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKCkodmFsdWUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBlcmNlbnRcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHN1ZmZpeDogXCIlXCIgfSkodmFsdWUgKiAxMDApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcImRvbGxhclwiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIiRcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJldXJvXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx1MjBBQ1wiLCByb3VuZDogMiwgcGFkUmlnaHQ6IDIgfSkoXG4gICAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgY2FzZSBcInBvdW5kXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx4QTNcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJ5ZW5cIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJcXHhBNVwiLCByb3VuZDogMCB9KSh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwicnVwZWVcIjpcbiAgICAgICAgICAgIG91dHB1dCA9ICgwLCBpbXBvcnRfZm9ybWF0X251bWJlci5kZWZhdWx0KSh7IHByZWZpeDogXCJcXHUyMEI5XCIsIHJvdW5kOiAyLCBwYWRSaWdodDogMiB9KShcbiAgICAgICAgICAgICAgdmFsdWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwid29uXCI6XG4gICAgICAgICAgICBvdXRwdXQgPSAoMCwgaW1wb3J0X2Zvcm1hdF9udW1iZXIuZGVmYXVsdCkoeyBwcmVmaXg6IFwiXFx1MjBBOVwiLCByb3VuZDogMCB9KSh2YWx1ZSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICBjYXNlIFwieXVhblwiOlxuICAgICAgICAgICAgb3V0cHV0ID0gKDAsIGltcG9ydF9mb3JtYXRfbnVtYmVyLmRlZmF1bHQpKHsgcHJlZml4OiBcIkNOXFx4QTVcIiwgcm91bmQ6IDIsIHBhZFJpZ2h0OiAyIH0pKFxuICAgICAgICAgICAgICB2YWx1ZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgICAgICAgIHZhbHVlOiBkYXRhLFxuICAgICAgICAgICAgICBibG9ja1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQzLmNyZWF0ZUVsZW1lbnQoVGV4dCwge1xuICAgICAgICAgIHZhbHVlOiBbW291dHB1dF1dLFxuICAgICAgICAgIGJsb2NrXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sXG4gICAgW2Jsb2NrLCBkYXRhLCBzY2hlbWFdXG4gICk7XG4gIGNvbnN0IHJlbmRlckNyZWF0ZWRUaW1lVmFsdWUgPSBSZWFjdDQzLnVzZU1lbW8oXG4gICAgKCkgPT4gZnVuY3Rpb24gQ3JlYXRlZFRpbWVQcm9wZXJ0eSgpIHtcbiAgICAgIHJldHVybiAoMCwgaW1wb3J0X2Zvcm1hdDIuZGVmYXVsdCkobmV3IERhdGUoYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLmNyZWF0ZWRfdGltZSksIFwiTU1NIGQsIFlZWSBoaDptbSBhYVwiKTtcbiAgICB9LFxuICAgIFtibG9jayA9PSBudWxsID8gdm9pZCAwIDogYmxvY2suY3JlYXRlZF90aW1lXVxuICApO1xuICBjb25zdCByZW5kZXJMYXN0RWRpdGVkVGltZVZhbHVlID0gUmVhY3Q0My51c2VNZW1vKFxuICAgICgpID0+IGZ1bmN0aW9uIExhc3RFZGl0ZWRUaW1lUHJvcGVydHkoKSB7XG4gICAgICByZXR1cm4gKDAsIGltcG9ydF9mb3JtYXQyLmRlZmF1bHQpKG5ldyBEYXRlKGJsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5sYXN0X2VkaXRlZF90aW1lKSwgXCJNTU0gZCwgWVlZIGhoOm1tIGFhXCIpO1xuICAgIH0sXG4gICAgW2Jsb2NrID09IG51bGwgPyB2b2lkIDAgOiBibG9jay5sYXN0X2VkaXRlZF90aW1lXVxuICApO1xuICBpZiAoIXNjaGVtYSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGxldCBjb250ZW50ID0gbnVsbDtcbiAgaWYgKGRhdGEgfHwgc2NoZW1hLnR5cGUgPT09IFwiY2hlY2tib3hcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJ0aXRsZVwiIHx8IHNjaGVtYS50eXBlID09PSBcImZvcm11bGFcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJjcmVhdGVkX2J5XCIgfHwgc2NoZW1hLnR5cGUgPT09IFwibGFzdF9lZGl0ZWRfYnlcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJjcmVhdGVkX3RpbWVcIiB8fCBzY2hlbWEudHlwZSA9PT0gXCJsYXN0X2VkaXRlZF90aW1lXCIpIHtcbiAgICBzd2l0Y2ggKHNjaGVtYS50eXBlKSB7XG4gICAgICBjYXNlIFwicmVsYXRpb25cIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlSZWxhdGlvblZhbHVlKHByb3BzLCByZW5kZXJSZWxhdGlvblZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZm9ybXVsYVwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eUZvcm11bGFWYWx1ZShwcm9wcywgcmVuZGVyRm9ybXVsYVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlUaXRsZVZhbHVlKHByb3BzLCByZW5kZXJUaXRsZVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICBjYXNlIFwibXVsdGlfc2VsZWN0XCI6IHtcbiAgICAgICAgY29uc3QgdmFsdWVzID0gKGRhdGFbMF1bMF0gfHwgXCJcIikuc3BsaXQoXCIsXCIpO1xuICAgICAgICBjb250ZW50ID0gdmFsdWVzLm1hcCgodmFsdWUsIGluZGV4KSA9PiB7XG4gICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IChfYSA9IHNjaGVtYS5vcHRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZmluZChcbiAgICAgICAgICAgIChvcHRpb24yKSA9PiB2YWx1ZSA9PT0gb3B0aW9uMi52YWx1ZVxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgY29sb3IgPSBvcHRpb24gPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbi5jb2xvcjtcbiAgICAgICAgICByZXR1cm4gY29tcG9uZW50cy5wcm9wZXJ0eVNlbGVjdFZhbHVlKFxuICAgICAgICAgICAgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgcHJvcHMpLCB7XG4gICAgICAgICAgICAgIGtleTogaW5kZXgsXG4gICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICBvcHRpb24sXG4gICAgICAgICAgICAgIGNvbG9yXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgICAgICAgICBrZXk6IGluZGV4LFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgICAgICAgICAgIGBub3Rpb24tcHJvcGVydHktJHtzY2hlbWEudHlwZX0taXRlbWAsXG4gICAgICAgICAgICAgICAgY29sb3IgJiYgYG5vdGlvbi1pdGVtLSR7Y29sb3J9YFxuICAgICAgICAgICAgICApXG4gICAgICAgICAgICB9LCB2YWx1ZSlcbiAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwicGVyc29uXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5UGVyc29uVmFsdWUocHJvcHMsIHJlbmRlclBlcnNvblZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eUZpbGVWYWx1ZShwcm9wcywgcmVuZGVyRmlsZVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlDaGVja2JveFZhbHVlKHByb3BzLCByZW5kZXJDaGVja2JveFZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5VXJsVmFsdWUocHJvcHMsIHJlbmRlclVybFZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZW1haWxcIjpcbiAgICAgICAgY29udGVudCA9IGNvbXBvbmVudHMucHJvcGVydHlFbWFpbFZhbHVlKHByb3BzLCByZW5kZXJFbWFpbFZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicGhvbmVfbnVtYmVyXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5UGhvbmVOdW1iZXJWYWx1ZShcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICByZW5kZXJQaG9uZU51bWJlclZhbHVlXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eU51bWJlclZhbHVlKHByb3BzLCByZW5kZXJOdW1iZXJWYWx1ZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNyZWF0ZWRfdGltZVwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eUNyZWF0ZWRUaW1lVmFsdWUoXG4gICAgICAgICAgcHJvcHMsXG4gICAgICAgICAgcmVuZGVyQ3JlYXRlZFRpbWVWYWx1ZVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJsYXN0X2VkaXRlZF90aW1lXCI6XG4gICAgICAgIGNvbnRlbnQgPSBjb21wb25lbnRzLnByb3BlcnR5TGFzdEVkaXRlZFRpbWVWYWx1ZShcbiAgICAgICAgICBwcm9wcyxcbiAgICAgICAgICByZW5kZXJMYXN0RWRpdGVkVGltZVZhbHVlXG4gICAgICAgICk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImNyZWF0ZWRfYnlcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwibGFzdF9lZGl0ZWRfYnlcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidGV4dFwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eVRleHRWYWx1ZShwcm9wcywgcmVuZGVyVGV4dFZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgICBjb250ZW50ID0gY29tcG9uZW50cy5wcm9wZXJ0eURhdGVWYWx1ZShwcm9wcywgcmVuZGVyRGF0ZVZhbHVlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChUZXh0LCB7XG4gICAgICAgICAgdmFsdWU6IGRhdGEsXG4gICAgICAgICAgYmxvY2tcbiAgICAgICAgfSk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDMuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogYG5vdGlvbi1wcm9wZXJ0eSBub3Rpb24tcHJvcGVydHktJHtzY2hlbWEudHlwZX1gXG4gIH0sIGNvbnRlbnQpO1xufTtcbnZhciBQcm9wZXJ0eUltcGxNZW1vID0gUmVhY3Q0My5tZW1vKFByb3BlcnR5SW1wbCk7XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXJvdy50c3hcbnZhciBDb2xsZWN0aW9uUm93ID0gKHsgYmxvY2ssIHBhZ2VIZWFkZXIgPSBmYWxzZSwgY2xhc3NOYW1lIH0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICBjb25zdCB7IHJlY29yZE1hcCB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCBjb2xsZWN0aW9uSWQgPSBibG9jay5wYXJlbnRfaWQ7XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSAoX2EgPSByZWNvcmRNYXAuY29sbGVjdGlvbltjb2xsZWN0aW9uSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gIGNvbnN0IHNjaGVtYXMgPSBjb2xsZWN0aW9uID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uLnNjaGVtYTtcbiAgaWYgKCFjb2xsZWN0aW9uIHx8ICFzY2hlbWFzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgbGV0IHByb3BlcnR5SWRzID0gT2JqZWN0LmtleXMoc2NoZW1hcykuZmlsdGVyKChpZCkgPT4gaWQgIT09IFwidGl0bGVcIik7XG4gIGlmICgoX2IgPSBjb2xsZWN0aW9uLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnByb3BlcnR5X3Zpc2liaWxpdHkpIHtcbiAgICBwcm9wZXJ0eUlkcyA9IHByb3BlcnR5SWRzLmZpbHRlcihcbiAgICAgIChpZCkgPT4ge1xuICAgICAgICB2YXIgX2EyO1xuICAgICAgICByZXR1cm4gKChfYTIgPSBjb2xsZWN0aW9uLmZvcm1hdC5wcm9wZXJ0eV92aXNpYmlsaXR5LmZpbmQoXG4gICAgICAgICAgKHsgcHJvcGVydHkgfSkgPT4gcHJvcGVydHkgPT09IGlkXG4gICAgICAgICkpID09IG51bGwgPyB2b2lkIDAgOiBfYTIudmlzaWJpbGl0eSkgIT09IFwiaGlkZVwiO1xuICAgICAgfVxuICAgICk7XG4gIH1cbiAgaWYgKChfYyA9IGNvbGxlY3Rpb24uZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2MuY29sbGVjdGlvbl9wYWdlX3Byb3BlcnRpZXMpIHtcbiAgICBjb25zdCBpZFRvSW5kZXggPSAoX2QgPSBjb2xsZWN0aW9uLmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmNvbGxlY3Rpb25fcGFnZV9wcm9wZXJ0aWVzLnJlZHVjZShcbiAgICAgIChhY2MsIHAsIGkpID0+IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGFjYyksIHtcbiAgICAgICAgW3AucHJvcGVydHldOiBpXG4gICAgICB9KSxcbiAgICAgIHt9XG4gICAgKTtcbiAgICBwcm9wZXJ0eUlkcy5zb3J0KChhLCBiKSA9PiBpZFRvSW5kZXhbYV0gLSBpZFRvSW5kZXhbYl0pO1xuICB9IGVsc2Uge1xuICAgIHByb3BlcnR5SWRzLnNvcnQoKGEsIGIpID0+IHNjaGVtYXNbYV0ubmFtZS5sb2NhbGVDb21wYXJlKHNjaGVtYXNbYl0ubmFtZSkpO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0NC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNzKFwibm90aW9uLWNvbGxlY3Rpb24tcm93XCIsIGNsYXNzTmFtZSlcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLXJvdy1ib2R5XCJcbiAgfSwgcHJvcGVydHlJZHMubWFwKChwcm9wZXJ0eUlkKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBjb25zdCBzY2hlbWEgPSBzY2hlbWFzW3Byb3BlcnR5SWRdO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0NC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1yb3ctcHJvcGVydHlcIixcbiAgICAgIGtleTogcHJvcGVydHlJZFxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ0LmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvbkNvbHVtblRpdGxlLCB7XG4gICAgICBzY2hlbWFcbiAgICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDQuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tcm93LXZhbHVlXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0NC5jcmVhdGVFbGVtZW50KFByb3BlcnR5LCB7XG4gICAgICBzY2hlbWEsXG4gICAgICBkYXRhOiAoX2EyID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMltwcm9wZXJ0eUlkXSxcbiAgICAgIHByb3BlcnR5SWQsXG4gICAgICBibG9jayxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBwYWdlSGVhZGVyXG4gICAgfSkpKTtcbiAgfSkpKTtcbn07XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXcudHN4XG5pbXBvcnQgKiBhcyBSZWFjdDUyIGZyb20gXCJyZWFjdFwiO1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi12aWV3LWJvYXJkLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0OCBmcm9tIFwicmVhY3RcIjtcblxuLy8gc3JjL2ljb25zL2VtcHR5LWljb24udHN4XG5pbXBvcnQgKiBhcyBSZWFjdDQ1IGZyb20gXCJyZWFjdFwiO1xudmFyIEVtcHR5SWNvbiA9IChwcm9wcykgPT4ge1xuICBjb25zdCBfYSA9IHByb3BzLCB7IGNsYXNzTmFtZSB9ID0gX2EsIHJlc3QgPSBfX29ialJlc3QoX2EsIFtcImNsYXNzTmFtZVwiXSk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0NS5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZVxuICB9LCByZXN0KSwge1xuICAgIHZpZXdCb3g6IFwiMCAwIDE0IDE0XCIsXG4gICAgd2lkdGg6IFwiMTRcIlxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDUuY3JlYXRlRWxlbWVudChcInBhdGhcIiwge1xuICAgIGQ6IFwiTTExLjA5MTgsMCBDMTEuNTM4MywwIDExLjkzMDcsMC4yOTU4OTggMTIuMDUzMywwLjcyNTU4NiBMMTMuOTYxNSw3LjQwMzMyIEMxMy45ODcxLDcuNDkzMTYgMTQsNy41ODU5NCAxNCw3LjY3ODcxIEwxNCwxMyBDMTQsMTMuNTUyNyAxMy41NTIyLDE0IDEzLDE0IEwxLDE0IEMwLjQ0Nzc1NCwxNCAwLDEzLjU1MjcgMCwxMyBMMCw3LjY3ODcxIEMwLDcuNTg1OTQgMC4wMTI5Mzk1LDcuNDkzMTYgMC4wMzg0NTIxLDcuNDAzMzIgTDEuOTQ2NjYsMC43MjU1ODYgQzIuMDY5MzQsMC4yOTU4OTggMi40NjE2NywwIDIuOTA4MiwwIEwxMS4wOTE4LDAgWiBNNC4yNzI3MSwxLjUgQzMuODM3MjgsMS41IDMuNDUxNzgsMS43ODIyMyAzLjMxOTgyLDIuMTk3MjcgTDEuOTE0NTUsNi42MTMyOCBDMS43MDk0Nyw3LjI1ODc5IDIuMTkwOCw3LjkxNjk5IDIuODY3NTUsNy45MTY5OSBMNC43MDgzNyw3LjkxNjk5IEM0LjcwODM3LDguOTM2NTIgNS4xNjY2MywxMC4xNjggNywxMC4xNjggQzguODMzMzcsMTAuMTY4IDkuMjkxNjMsOC45MzY1MiA5LjI5MTYzLDcuOTE2OTkgTDExLjE0NzgsNy44OTM1NSBDMTEuODIwMSw3Ljg4NDc3IDEyLjI5MjcsNy4yMjg1MiAxMi4wODc2LDYuNTg4ODcgTDEwLjY4MSwyLjE5NTMxIEMxMC41NDg1LDEuNzgxMjUgMTAuMTYzNSwxLjUgOS43Mjg2NCwxLjUgTDQuMjcyNzEsMS41IFpcIlxuICB9KSk7XG59O1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi1jYXJkLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0NiBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IGdldFRleHRDb250ZW50IGFzIGdldFRleHRDb250ZW50MyB9IGZyb20gXCJub3Rpb24tdXRpbHNcIjtcbnZhciBDb2xsZWN0aW9uQ2FyZCA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwge1xuICAgIGNvbGxlY3Rpb24sXG4gICAgYmxvY2ssXG4gICAgY292ZXIsXG4gICAgY292ZXJTaXplLFxuICAgIGNvdmVyQXNwZWN0LFxuICAgIHByb3BlcnRpZXMsXG4gICAgY2xhc3NOYW1lXG4gIH0gPSBfYiwgcmVzdCA9IF9fb2JqUmVzdChfYiwgW1xuICAgIFwiY29sbGVjdGlvblwiLFxuICAgIFwiYmxvY2tcIixcbiAgICBcImNvdmVyXCIsXG4gICAgXCJjb3ZlclNpemVcIixcbiAgICBcImNvdmVyQXNwZWN0XCIsXG4gICAgXCJwcm9wZXJ0aWVzXCIsXG4gICAgXCJjbGFzc05hbWVcIlxuICBdKTtcbiAgdmFyIF9hMiwgX2IyLCBfYywgX2QsIF9lLCBfZiwgX2csIF9oLCBfaSwgX2osIF9rLCBfbCwgX20sIF9uO1xuICBjb25zdCBjdHgyID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCB7XG4gICAgY29tcG9uZW50cyxcbiAgICByZWNvcmRNYXAsXG4gICAgbWFwUGFnZVVybCxcbiAgICBtYXBJbWFnZVVybCxcbiAgICBpc0xpbmtDb2xsZWN0aW9uVG9VcmxQcm9wZXJ0eVxuICB9ID0gY3R4MjtcbiAgbGV0IGNvdmVyQ29udGVudCA9IG51bGw7XG4gIGNvbnN0IHsgcGFnZV9jb3Zlcl9wb3NpdGlvbiA9IDAuNSB9ID0gYmxvY2suZm9ybWF0IHx8IHt9O1xuICBjb25zdCBjb3ZlclBvc2l0aW9uID0gKDEgLSBwYWdlX2NvdmVyX3Bvc2l0aW9uKSAqIDEwMDtcbiAgaWYgKChjb3ZlciA9PSBudWxsID8gdm9pZCAwIDogY292ZXIudHlwZSkgPT09IFwicGFnZV9jb250ZW50XCIpIHtcbiAgICBjb25zdCBjb250ZW50QmxvY2tJZCA9IChfYTIgPSBibG9jay5jb250ZW50KSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZpbmQoKGJsb2NrSWQpID0+IHtcbiAgICAgIHZhciBfYTM7XG4gICAgICBjb25zdCBibG9jazIgPSAoX2EzID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnZhbHVlO1xuICAgICAgaWYgKChibG9jazIgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrMi50eXBlKSA9PT0gXCJpbWFnZVwiKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChjb250ZW50QmxvY2tJZCkge1xuICAgICAgY29uc3QgY29udGVudEJsb2NrID0gKF9iMiA9IHJlY29yZE1hcC5ibG9ja1tjb250ZW50QmxvY2tJZF0pID09IG51bGwgPyB2b2lkIDAgOiBfYjIudmFsdWU7XG4gICAgICBjb25zdCBzb3VyY2UgPSAoX2cgPSAoX2UgPSAoX2QgPSAoX2MgPSBjb250ZW50QmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnNvdXJjZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kWzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2VbMF0pICE9IG51bGwgPyBfZyA6IChfZiA9IGNvbnRlbnRCbG9jay5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfZi5kaXNwbGF5X3NvdXJjZTtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgY29uc3Qgc3JjID0gbWFwSW1hZ2VVcmwoc291cmNlLCBjb250ZW50QmxvY2spO1xuICAgICAgICBjb25zdCBjYXB0aW9uID0gKF9qID0gKF9pID0gKF9oID0gY29udGVudEJsb2NrLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfaC5jYXB0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2lbMF0pID09IG51bGwgPyB2b2lkIDAgOiBfalswXTtcbiAgICAgICAgY292ZXJDb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChMYXp5SW1hZ2UsIHtcbiAgICAgICAgICBzcmMsXG4gICAgICAgICAgYWx0OiBjYXB0aW9uIHx8IFwibm90aW9uIGltYWdlXCIsXG4gICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgIG9iamVjdEZpdDogY292ZXJBc3BlY3RcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWNvdmVyQ29udGVudCkge1xuICAgICAgY292ZXJDb250ZW50ID0gLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLWNvdmVyLWVtcHR5XCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIGlmICgoY292ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvdmVyLnR5cGUpID09PSBcInBhZ2VfY292ZXJcIikge1xuICAgIGNvbnN0IHsgcGFnZV9jb3ZlciB9ID0gYmxvY2suZm9ybWF0IHx8IHt9O1xuICAgIGlmIChwYWdlX2NvdmVyKSB7XG4gICAgICBjb25zdCBjb3ZlclBvc2l0aW9uMiA9ICgxIC0gcGFnZV9jb3Zlcl9wb3NpdGlvbikgKiAxMDA7XG4gICAgICBjb3ZlckNvbnRlbnQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3Q0Ni5jcmVhdGVFbGVtZW50KExhenlJbWFnZSwge1xuICAgICAgICBzcmM6IG1hcEltYWdlVXJsKHBhZ2VfY292ZXIsIGJsb2NrKSxcbiAgICAgICAgYWx0OiBnZXRUZXh0Q29udGVudDMoKF9rID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9rLnRpdGxlKSxcbiAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICBvYmplY3RGaXQ6IGNvdmVyQXNwZWN0LFxuICAgICAgICAgIG9iamVjdFBvc2l0aW9uOiBgY2VudGVyICR7Y292ZXJQb3NpdGlvbjJ9JWBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKChjb3ZlciA9PSBudWxsID8gdm9pZCAwIDogY292ZXIudHlwZSkgPT09IFwicHJvcGVydHlcIikge1xuICAgIGNvbnN0IHsgcHJvcGVydHkgfSA9IGNvdmVyO1xuICAgIGNvbnN0IHNjaGVtYSA9IGNvbGxlY3Rpb24uc2NoZW1hW3Byb3BlcnR5XTtcbiAgICBjb25zdCBkYXRhID0gKF9sID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9sW3Byb3BlcnR5XTtcbiAgICBpZiAoc2NoZW1hICYmIGRhdGEpIHtcbiAgICAgIGlmIChzY2hlbWEudHlwZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgY29uc3QgZmlsZXMgPSBkYXRhLmZpbHRlcigodikgPT4gdi5sZW5ndGggPT09IDIpLm1hcCgoZikgPT4gZi5mbGF0KCkuZmxhdCgpKTtcbiAgICAgICAgY29uc3QgZmlsZSA9IGZpbGVzWzBdO1xuICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgIGNvdmVyQ29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ2LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIsIHtcbiAgICAgICAgICAgIGNsYXNzTmFtZTogYG5vdGlvbi1wcm9wZXJ0eS0ke3NjaGVtYS50eXBlfWBcbiAgICAgICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0Ni5jcmVhdGVFbGVtZW50KExhenlJbWFnZSwge1xuICAgICAgICAgICAgYWx0OiBmaWxlWzBdLFxuICAgICAgICAgICAgc3JjOiBtYXBJbWFnZVVybChmaWxlWzJdLCBibG9jayksXG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICBvYmplY3RGaXQ6IGNvdmVyQXNwZWN0LFxuICAgICAgICAgICAgICBvYmplY3RQb3NpdGlvbjogYGNlbnRlciAke2NvdmVyUG9zaXRpb259JWBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvdmVyQ29udGVudCA9IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ2LmNyZWF0ZUVsZW1lbnQoUHJvcGVydHksIHtcbiAgICAgICAgICBwcm9wZXJ0eUlkOiBwcm9wZXJ0eSxcbiAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgZGF0YVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IGxpbmtQcm9wZXJ0aWVzID0gW107XG4gIGlmIChpc0xpbmtDb2xsZWN0aW9uVG9VcmxQcm9wZXJ0eSkge1xuICAgIGxpbmtQcm9wZXJ0aWVzID0gKF9tID0gcHJvcGVydGllcyA9PSBudWxsID8gdm9pZCAwIDogcHJvcGVydGllcy5maWx0ZXIoXG4gICAgICAocCkgPT4gcC52aXNpYmxlICYmIHAucHJvcGVydHkgIT09IFwidGl0bGVcIiAmJiBjb2xsZWN0aW9uLnNjaGVtYVtwLnByb3BlcnR5XVxuICAgICkuZmlsdGVyKChwKSA9PiB7XG4gICAgICBpZiAoIWJsb2NrLnByb3BlcnRpZXMpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIGNvbnN0IHNjaGVtYSA9IGNvbGxlY3Rpb24uc2NoZW1hW3AucHJvcGVydHldO1xuICAgICAgcmV0dXJuIHNjaGVtYS50eXBlID09IFwidXJsXCI7XG4gICAgfSkubWFwKChwKSA9PiB7XG4gICAgICByZXR1cm4gYmxvY2sucHJvcGVydGllc1twLnByb3BlcnR5XTtcbiAgICB9KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9tLmZpbHRlcigocCkgPT4gcCAmJiBwLmxlbmd0aCA+IDAgJiYgcFswXSAhPSB2b2lkIDApO1xuICB9XG4gIGxldCB1cmwgPSBudWxsO1xuICBpZiAobGlua1Byb3BlcnRpZXMgJiYgbGlua1Byb3BlcnRpZXMubGVuZ3RoID4gMCAmJiBsaW5rUHJvcGVydGllc1swXS5sZW5ndGggPiAwICYmIGxpbmtQcm9wZXJ0aWVzWzBdWzBdLmxlbmd0aCA+IDApIHtcbiAgICB1cmwgPSBsaW5rUHJvcGVydGllc1swXVswXVswXTtcbiAgfVxuICBjb25zdCBpbm5lckNhcmQgPSAvKiBAX19QVVJFX18gKi8gUmVhY3Q0Ni5jcmVhdGVFbGVtZW50KFJlYWN0NDYuRnJhZ21lbnQsIG51bGwsIChjb3ZlckNvbnRlbnQgfHwgKGNvdmVyID09IG51bGwgPyB2b2lkIDAgOiBjb3Zlci50eXBlKSAhPT0gXCJub25lXCIpICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ2LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLWNvdmVyXCJcbiAgfSwgY292ZXJDb250ZW50KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWNhcmQtYm9keVwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ2LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkLXByb3BlcnR5XCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChQcm9wZXJ0eSwge1xuICAgIHNjaGVtYTogY29sbGVjdGlvbi5zY2hlbWEudGl0bGUsXG4gICAgZGF0YTogKF9uID0gYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfbi50aXRsZSxcbiAgICBibG9jayxcbiAgICBjb2xsZWN0aW9uXG4gIH0pKSwgcHJvcGVydGllcyA9PSBudWxsID8gdm9pZCAwIDogcHJvcGVydGllcy5maWx0ZXIoXG4gICAgKHApID0+IHAudmlzaWJsZSAmJiBwLnByb3BlcnR5ICE9PSBcInRpdGxlXCIgJiYgY29sbGVjdGlvbi5zY2hlbWFbcC5wcm9wZXJ0eV1cbiAgKS5tYXAoKHApID0+IHtcbiAgICBpZiAoIWJsb2NrLnByb3BlcnRpZXMpXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjb25zdCBzY2hlbWEgPSBjb2xsZWN0aW9uLnNjaGVtYVtwLnByb3BlcnR5XTtcbiAgICBjb25zdCBkYXRhID0gYmxvY2sucHJvcGVydGllc1twLnByb3BlcnR5XTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tY2FyZC1wcm9wZXJ0eVwiLFxuICAgICAga2V5OiBwLnByb3BlcnR5XG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDYuY3JlYXRlRWxlbWVudChQcm9wZXJ0eSwge1xuICAgICAgc2NoZW1hLFxuICAgICAgZGF0YSxcbiAgICAgIGJsb2NrLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGlubGluZTogdHJ1ZVxuICAgIH0pKTtcbiAgfSkpKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ2LmNyZWF0ZUVsZW1lbnQoTm90aW9uQ29udGV4dFByb3ZpZGVyLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjdHgyKSwge1xuICAgIGNvbXBvbmVudHM6IF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIGN0eDIuY29tcG9uZW50cyksIHtcbiAgICAgIExpbms6IChwcm9wcykgPT4ge1xuICAgICAgICB2YXIgX2EzLCBfYjMsIF9jMjtcbiAgICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ2LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIsIHtcbiAgICAgICAgICBhY3Rpb246IHByb3BzLmhyZWYsXG4gICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiXG4gICAgICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ2LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgdHlwZTogXCJzdWJtaXRcIixcbiAgICAgICAgICB2YWx1ZTogKF9jMiA9IChfYjMgPSAoX2EzID0gcHJvcHMgPT0gbnVsbCA/IHZvaWQgMCA6IHByb3BzLmNoaWxkcmVuKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnByb3BzKSA9PSBudWxsID8gdm9pZCAwIDogX2IzLmNoaWxkcmVuKSAhPSBudWxsID8gX2MyIDogcHJvcHMuaHJlZixcbiAgICAgICAgICBjbGFzc05hbWU6IFwibmVzdGVkLWZvcm0tbGluayBub3Rpb24tbGlua1wiXG4gICAgICAgIH0pKTtcbiAgICAgIH0sXG4gICAgICBQYWdlTGluazogZHVtbXlMaW5rXG4gICAgfSlcbiAgfSksIGlzTGlua0NvbGxlY3Rpb25Ub1VybFByb3BlcnR5ICYmIHVybCA/IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ2LmNyZWF0ZUVsZW1lbnQoY29tcG9uZW50cy5MaW5rLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgIFwibm90aW9uLWNvbGxlY3Rpb24tY2FyZFwiLFxuICAgICAgYG5vdGlvbi1jb2xsZWN0aW9uLWNhcmQtc2l6ZS0ke2NvdmVyU2l6ZX1gLFxuICAgICAgY2xhc3NOYW1lXG4gICAgKSxcbiAgICBocmVmOiB1cmxcbiAgfSwgcmVzdCksIGlubmVyQ2FyZCkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0Ni5jcmVhdGVFbGVtZW50KGNvbXBvbmVudHMuUGFnZUxpbmssIF9fc3ByZWFkVmFsdWVzKHtcbiAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgXCJub3Rpb24tY29sbGVjdGlvbi1jYXJkXCIsXG4gICAgICBgbm90aW9uLWNvbGxlY3Rpb24tY2FyZC1zaXplLSR7Y292ZXJTaXplfWAsXG4gICAgICBjbGFzc05hbWVcbiAgICApLFxuICAgIGhyZWY6IG1hcFBhZ2VVcmwoYmxvY2suaWQpXG4gIH0sIHJlc3QpLCBpbm5lckNhcmQpKTtcbn07XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLWdyb3VwLnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0NyBmcm9tIFwicmVhY3RcIjtcbnZhciBDb2xsZWN0aW9uR3JvdXAgPSAoX2EpID0+IHtcbiAgdmFyIF9iID0gX2EsIHtcbiAgICBjb2xsZWN0aW9uVmlld0NvbXBvbmVudDogQ29sbGVjdGlvblZpZXdDb21wb25lbnQsXG4gICAgY29sbGVjdGlvbixcbiAgICBjb2xsZWN0aW9uR3JvdXAsXG4gICAgc2NoZW1hLFxuICAgIHZhbHVlLFxuICAgIGhpZGRlbixcbiAgICBzdW1tYXJ5UHJvcHMsXG4gICAgZGV0YWlsc1Byb3BzXG4gIH0gPSBfYiwgcmVzdCA9IF9fb2JqUmVzdChfYiwgW1xuICAgIFwiY29sbGVjdGlvblZpZXdDb21wb25lbnRcIixcbiAgICBcImNvbGxlY3Rpb25cIixcbiAgICBcImNvbGxlY3Rpb25Hcm91cFwiLFxuICAgIFwic2NoZW1hXCIsXG4gICAgXCJ2YWx1ZVwiLFxuICAgIFwiaGlkZGVuXCIsXG4gICAgXCJzdW1tYXJ5UHJvcHNcIixcbiAgICBcImRldGFpbHNQcm9wc1wiXG4gIF0pO1xuICBpZiAoaGlkZGVuKVxuICAgIHJldHVybiBudWxsO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChcImRldGFpbHNcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIG9wZW46IHRydWUsXG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWdyb3VwXCJcbiAgfSwgZGV0YWlsc1Byb3BzKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChcInN1bW1hcnlcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi1ncm91cC10aXRsZVwiXG4gIH0sIHN1bW1hcnlQcm9wcyksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ3LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChQcm9wZXJ0eSwge1xuICAgIHNjaGVtYSxcbiAgICBkYXRhOiBbW3ZhbHVlXV0sXG4gICAgY29sbGVjdGlvblxuICB9KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtdGgtY291bnRcIlxuICB9LCBjb2xsZWN0aW9uR3JvdXAgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25Hcm91cC50b3RhbCkpKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDcuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0NvbXBvbmVudCwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNvbGxlY3Rpb24sXG4gICAgY29sbGVjdGlvbkdyb3VwXG4gIH0sIHJlc3QpKSk7XG59O1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi11dGlscy50c1xudmFyIGltcG9ydF9mb3JtYXQzID0gX190b0VTTShyZXF1aXJlX2Zvcm1hdCgpLCAxKTtcbmZ1bmN0aW9uIGdldENvbGxlY3Rpb25Hcm91cHMoY29sbGVjdGlvbiwgY29sbGVjdGlvblZpZXcsIGNvbGxlY3Rpb25EYXRhLCAuLi5yZXN0KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgZWxlbXMgPSAoKF9hID0gY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbGxlY3Rpb25fZ3JvdXBzKSB8fCBbXTtcbiAgcmV0dXJuIGVsZW1zID09IG51bGwgPyB2b2lkIDAgOiBlbGVtcy5tYXAoKHsgcHJvcGVydHksIGhpZGRlbiwgdmFsdWU6IHsgdmFsdWUsIHR5cGUgfSB9KSA9PiB7XG4gICAgdmFyIF9hMiwgX2I7XG4gICAgY29uc3QgaXNVbmNhdGVnb3JpemVkVmFsdWUgPSB0eXBlb2YgdmFsdWUgPT09IFwidW5kZWZpbmVkXCI7XG4gICAgY29uc3QgaXNEYXRlVmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUucmFuZ2U7XG4gICAgY29uc3QgcXVlcnlMYWJlbCA9IGlzVW5jYXRlZ29yaXplZFZhbHVlID8gXCJ1bmNhdGVnb3JpemVkXCIgOiBpc0RhdGVWYWx1ZSA/ICgoX2EyID0gdmFsdWUucmFuZ2UpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuc3RhcnRfZGF0ZSkgfHwgKChfYiA9IHZhbHVlLnJhbmdlKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZW5kX2RhdGUpIDogKHZhbHVlID09IG51bGwgPyB2b2lkIDAgOiB2YWx1ZS52YWx1ZSkgfHwgdmFsdWU7XG4gICAgY29uc3QgY29sbGVjdGlvbkdyb3VwID0gY29sbGVjdGlvbkRhdGFbYHJlc3VsdHM6JHt0eXBlfToke3F1ZXJ5TGFiZWx9YF07XG4gICAgbGV0IHF1ZXJ5VmFsdWUgPSAhaXNVbmNhdGVnb3JpemVkVmFsdWUgJiYgKGlzRGF0ZVZhbHVlIHx8ICh2YWx1ZSA9PSBudWxsID8gdm9pZCAwIDogdmFsdWUudmFsdWUpIHx8IHZhbHVlKTtcbiAgICBsZXQgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFbcHJvcGVydHldO1xuICAgIGlmICh0eXBlID09PSBcImNoZWNrYm94XCIgJiYgdmFsdWUpIHtcbiAgICAgIHF1ZXJ5VmFsdWUgPSBcIlllc1wiO1xuICAgIH1cbiAgICBpZiAoaXNEYXRlVmFsdWUpIHtcbiAgICAgIHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgIG5hbWU6IFwidGV4dFwiXG4gICAgICB9O1xuICAgICAgcXVlcnlWYWx1ZSA9ICgwLCBpbXBvcnRfZm9ybWF0My5kZWZhdWx0KShuZXcgRGF0ZShxdWVyeUxhYmVsKSwgXCJNTU0gZCwgWVlZIGhoOm1tIGFhXCIpO1xuICAgIH1cbiAgICByZXR1cm4gX19zcHJlYWRWYWx1ZXMoe1xuICAgICAgY29sbGVjdGlvbkdyb3VwLFxuICAgICAgc2NoZW1hLFxuICAgICAgdmFsdWU6IHF1ZXJ5VmFsdWUgfHwgXCJObyBkZXNjcmlwdGlvblwiLFxuICAgICAgaGlkZGVuLFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgICAgY29sbGVjdGlvbkRhdGEsXG4gICAgICBibG9ja0lkczogY29sbGVjdGlvbkdyb3VwID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uR3JvdXAuYmxvY2tJZHNcbiAgICB9LCByZXN0KTtcbiAgfSk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXctYm9hcmQudHN4XG52YXIgQ29sbGVjdGlvblZpZXdCb2FyZCA9ICh7XG4gIGNvbGxlY3Rpb24sXG4gIGNvbGxlY3Rpb25WaWV3LFxuICBjb2xsZWN0aW9uRGF0YSxcbiAgcGFkZGluZ1xufSkgPT4ge1xuICB2YXIgX2E7XG4gIGNvbnN0IGlzR3JvdXBlZENvbGxlY3Rpb24gPSAoX2EgPSBjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuY29sbGVjdGlvbl9ncm91cF9ieTtcbiAgaWYgKGlzR3JvdXBlZENvbGxlY3Rpb24pIHtcbiAgICBjb25zdCBjb2xsZWN0aW9uR3JvdXBzID0gZ2V0Q29sbGVjdGlvbkdyb3VwcyhcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBjb2xsZWN0aW9uVmlldyxcbiAgICAgIGNvbGxlY3Rpb25EYXRhLFxuICAgICAgcGFkZGluZ1xuICAgICk7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25Hcm91cHMubWFwKChncm91cCwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ4LmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvbkdyb3VwLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgIGtleTogaW5kZXhcbiAgICB9LCBncm91cCksIHtcbiAgICAgIHN1bW1hcnlQcm9wczoge1xuICAgICAgICBzdHlsZToge1xuICAgICAgICAgIHBhZGRpbmdMZWZ0OiBwYWRkaW5nXG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBjb2xsZWN0aW9uVmlld0NvbXBvbmVudDogKHByb3BzKSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KEJvYXJkLCBfX3NwcmVhZFZhbHVlcyh7XG4gICAgICAgIHBhZGRpbmdcbiAgICAgIH0sIHByb3BzKSlcbiAgICB9KSkpO1xuICB9XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KEJvYXJkLCB7XG4gICAgcGFkZGluZyxcbiAgICBjb2xsZWN0aW9uVmlldyxcbiAgICBjb2xsZWN0aW9uLFxuICAgIGNvbGxlY3Rpb25EYXRhXG4gIH0pO1xufTtcbmZ1bmN0aW9uIEJvYXJkKHsgY29sbGVjdGlvblZpZXcsIGNvbGxlY3Rpb25EYXRhLCBjb2xsZWN0aW9uLCBwYWRkaW5nIH0pIHtcbiAgdmFyIF9hLCBfYjtcbiAgY29uc3QgeyByZWNvcmRNYXAgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgY29uc3Qge1xuICAgIGJvYXJkX2NvdmVyID0geyB0eXBlOiBcIm5vbmVcIiB9LFxuICAgIGJvYXJkX2NvdmVyX3NpemUgPSBcIm1lZGl1bVwiLFxuICAgIGJvYXJkX2NvdmVyX2FzcGVjdCA9IFwiY292ZXJcIlxuICB9ID0gKGNvbGxlY3Rpb25WaWV3ID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uVmlldy5mb3JtYXQpIHx8IHt9O1xuICBjb25zdCBib2FyZEdyb3VwcyA9ICgoX2EgPSBjb2xsZWN0aW9uVmlldyA9PSBudWxsID8gdm9pZCAwIDogY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2EuYm9hcmRfY29sdW1ucykgfHwgKChfYiA9IGNvbGxlY3Rpb25WaWV3ID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYi5ib2FyZF9ncm91cHMyKSB8fCBbXTtcbiAgY29uc3QgYm9hcmRTdHlsZSA9IFJlYWN0NDgudXNlTWVtbyhcbiAgICAoKSA9PiAoe1xuICAgICAgcGFkZGluZ0xlZnQ6IHBhZGRpbmdcbiAgICB9KSxcbiAgICBbcGFkZGluZ11cbiAgKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ4LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmRcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgXCJub3Rpb24tYm9hcmQtdmlld1wiLFxuICAgICAgYG5vdGlvbi1ib2FyZC12aWV3LXNpemUtJHtib2FyZF9jb3Zlcl9zaXplfWBcbiAgICApLFxuICAgIHN0eWxlOiBib2FyZFN0eWxlXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ4LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtaGVhZGVyXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1ib2FyZC1oZWFkZXItaW5uZXJcIlxuICB9LCBib2FyZEdyb3Vwcy5tYXAoKHAsIGluZGV4KSA9PiB7XG4gICAgdmFyIF9hMiwgX2IyLCBfYztcbiAgICBpZiAoISgoX2EyID0gY29sbGVjdGlvbkRhdGEuYm9hcmRfY29sdW1ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5yZXN1bHRzKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGdyb3VwID0gY29sbGVjdGlvbkRhdGEuYm9hcmRfY29sdW1ucy5yZXN1bHRzW2luZGV4XTtcbiAgICBjb25zdCBzY2hlbWEgPSBjb2xsZWN0aW9uLnNjaGVtYVtwLnByb3BlcnR5XTtcbiAgICBpZiAoIWdyb3VwIHx8ICFzY2hlbWEgfHwgcC5oaWRkZW4pIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLWJvYXJkLXRoXCIsXG4gICAgICBrZXk6IGluZGV4XG4gICAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLWJvYXJkLXRoLWJvZHlcIlxuICAgIH0sICgoX2IyID0gZ3JvdXAudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYjIudmFsdWUpID8gLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChQcm9wZXJ0eSwge1xuICAgICAgc2NoZW1hLFxuICAgICAgZGF0YTogW1soX2MgPSBncm91cC52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnZhbHVlXV0sXG4gICAgICBjb2xsZWN0aW9uXG4gICAgfSkgOiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KFwic3BhblwiLCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KEVtcHR5SWNvbiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1ib2FyZC10aC1lbXB0eVwiXG4gICAgfSksIFwiIE5vIFNlbGVjdFwiKSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChcInNwYW5cIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1ib2FyZC10aC1jb3VudFwiXG4gICAgfSwgZ3JvdXAudG90YWwpKSk7XG4gIH0pKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ4LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtaGVhZGVyLXBsYWNlaG9sZGVyXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ4LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtYm9keVwiXG4gIH0sIGJvYXJkR3JvdXBzLm1hcCgocCwgaW5kZXgpID0+IHtcbiAgICB2YXIgX2EyLCBfYjIsIF9jLCBfZCwgX2U7XG4gICAgY29uc3QgYm9hcmRSZXN1bHRzID0gKF9hMiA9IGNvbGxlY3Rpb25EYXRhLmJvYXJkX2NvbHVtbnMpID09IG51bGwgPyB2b2lkIDAgOiBfYTIucmVzdWx0cztcbiAgICBpZiAoIWJvYXJkUmVzdWx0cylcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGlmICghKChfYjIgPSBwID09IG51bGwgPyB2b2lkIDAgOiBwLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLnR5cGUpKVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY29uc3Qgc2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWFbcC5wcm9wZXJ0eV07XG4gICAgY29uc3QgZ3JvdXAgPSBjb2xsZWN0aW9uRGF0YVtgcmVzdWx0czokeyhfYyA9IHAgPT0gbnVsbCA/IHZvaWQgMCA6IHAudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYy50eXBlfTokeygoX2QgPSBwID09IG51bGwgPyB2b2lkIDAgOiBwLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2QudmFsdWUpIHx8IFwidW5jYXRlZ29yaXplZFwifWBdO1xuICAgIGlmICghZ3JvdXAgfHwgIXNjaGVtYSB8fCBwLmhpZGRlbikge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tYm9hcmQtZ3JvdXBcIixcbiAgICAgIGtleTogaW5kZXhcbiAgICB9LCAoX2UgPSBncm91cC5ibG9ja0lkcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLm1hcCgoYmxvY2tJZCkgPT4ge1xuICAgICAgdmFyIF9hMywgX2IzO1xuICAgICAgY29uc3QgYmxvY2sgPSAoX2EzID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EzLnZhbHVlO1xuICAgICAgaWYgKCFibG9jaylcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDguY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uQ2FyZCwge1xuICAgICAgICBjbGFzc05hbWU6IFwibm90aW9uLWJvYXJkLWdyb3VwLWNhcmRcIixcbiAgICAgICAgY29sbGVjdGlvbixcbiAgICAgICAgYmxvY2ssXG4gICAgICAgIGNvdmVyOiBib2FyZF9jb3ZlcixcbiAgICAgICAgY292ZXJTaXplOiBib2FyZF9jb3Zlcl9zaXplLFxuICAgICAgICBjb3ZlckFzcGVjdDogYm9hcmRfY292ZXJfYXNwZWN0LFxuICAgICAgICBwcm9wZXJ0aWVzOiAoX2IzID0gY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2IzLmJvYXJkX3Byb3BlcnRpZXMsXG4gICAgICAgIGtleTogYmxvY2tJZFxuICAgICAgfSk7XG4gICAgfSkpO1xuICB9KSkpKTtcbn1cblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tdmlldy1nYWxsZXJ5LnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q0OSBmcm9tIFwicmVhY3RcIjtcbnZhciBkZWZhdWx0QmxvY2tJZHMgPSBbXTtcbnZhciBDb2xsZWN0aW9uVmlld0dhbGxlcnkgPSAoe1xuICBjb2xsZWN0aW9uLFxuICBjb2xsZWN0aW9uVmlldyxcbiAgY29sbGVjdGlvbkRhdGFcbn0pID0+IHtcbiAgdmFyIF9hLCBfYiwgX2MsIF9kLCBfZTtcbiAgY29uc3QgaXNHcm91cGVkQ29sbGVjdGlvbiA9IChfYSA9IGNvbGxlY3Rpb25WaWV3ID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jb2xsZWN0aW9uX2dyb3VwX2J5O1xuICBpZiAoaXNHcm91cGVkQ29sbGVjdGlvbikge1xuICAgIGNvbnN0IGNvbGxlY3Rpb25Hcm91cHMgPSBnZXRDb2xsZWN0aW9uR3JvdXBzKFxuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgICAgY29sbGVjdGlvbkRhdGFcbiAgICApO1xuICAgIHJldHVybiBjb2xsZWN0aW9uR3JvdXBzLm1hcCgoZ3JvdXAsIGluZGV4KSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q0OS5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25Hcm91cCwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBrZXk6IGluZGV4XG4gICAgfSwgZ3JvdXApLCB7XG4gICAgICBjb2xsZWN0aW9uVmlld0NvbXBvbmVudDogR2FsbGVyeVxuICAgIH0pKSk7XG4gIH1cbiAgY29uc3QgYmxvY2tJZHMgPSAoKF9lID0gKF9kID0gKF9iID0gY29sbGVjdGlvbkRhdGFbXCJjb2xsZWN0aW9uX2dyb3VwX3Jlc3VsdHNcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfYi5ibG9ja0lkcykgIT0gbnVsbCA/IF9kIDogKF9jID0gY29sbGVjdGlvbkRhdGFbXCJyZXN1bHRzOnJlbGF0aW9uOnVuY2F0ZWdvcml6ZWRcIl0pID09IG51bGwgPyB2b2lkIDAgOiBfYy5ibG9ja0lkcykgIT0gbnVsbCA/IF9lIDogY29sbGVjdGlvbkRhdGEuYmxvY2tJZHMpIHx8IGRlZmF1bHRCbG9ja0lkcztcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ5LmNyZWF0ZUVsZW1lbnQoR2FsbGVyeSwge1xuICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgIGNvbGxlY3Rpb24sXG4gICAgYmxvY2tJZHNcbiAgfSk7XG59O1xuZnVuY3Rpb24gR2FsbGVyeSh7IGJsb2NrSWRzLCBjb2xsZWN0aW9uVmlldywgY29sbGVjdGlvbiB9KSB7XG4gIGNvbnN0IHsgcmVjb3JkTWFwIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIGNvbnN0IHtcbiAgICBnYWxsZXJ5X2NvdmVyID0geyB0eXBlOiBcIm5vbmVcIiB9LFxuICAgIGdhbGxlcnlfY292ZXJfc2l6ZSA9IFwibWVkaXVtXCIsXG4gICAgZ2FsbGVyeV9jb3Zlcl9hc3BlY3QgPSBcImNvdmVyXCJcbiAgfSA9IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCB8fCB7fTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tZ2FsbGVyeVwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDQ5LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tZ2FsbGVyeS12aWV3XCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NDkuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgIFwibm90aW9uLWdhbGxlcnktZ3JpZFwiLFxuICAgICAgYG5vdGlvbi1nYWxsZXJ5LWdyaWQtc2l6ZS0ke2dhbGxlcnlfY292ZXJfc2l6ZX1gXG4gICAgKVxuICB9LCBibG9ja0lkcyA9PSBudWxsID8gdm9pZCAwIDogYmxvY2tJZHMubWFwKChibG9ja0lkKSA9PiB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBjb25zdCBibG9jayA9IChfYSA9IHJlY29yZE1hcC5ibG9ja1tibG9ja0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnZhbHVlO1xuICAgIGlmICghYmxvY2spXG4gICAgICByZXR1cm4gbnVsbDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NDkuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uQ2FyZCwge1xuICAgICAgY29sbGVjdGlvbixcbiAgICAgIGJsb2NrLFxuICAgICAgY292ZXI6IGdhbGxlcnlfY292ZXIsXG4gICAgICBjb3ZlclNpemU6IGdhbGxlcnlfY292ZXJfc2l6ZSxcbiAgICAgIGNvdmVyQXNwZWN0OiBnYWxsZXJ5X2NvdmVyX2FzcGVjdCxcbiAgICAgIHByb3BlcnRpZXM6IChfYiA9IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmdhbGxlcnlfcHJvcGVydGllcyxcbiAgICAgIGtleTogYmxvY2tJZFxuICAgIH0pO1xuICB9KSkpKTtcbn1cblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tdmlldy1saXN0LnRzeFxuaW1wb3J0ICogYXMgUmVhY3Q1MCBmcm9tIFwicmVhY3RcIjtcbnZhciBkZWZhdWx0QmxvY2tJZHMyID0gW107XG52YXIgQ29sbGVjdGlvblZpZXdMaXN0ID0gKHtcbiAgY29sbGVjdGlvbixcbiAgY29sbGVjdGlvblZpZXcsXG4gIGNvbGxlY3Rpb25EYXRhXG59KSA9PiB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCBpc0dyb3VwZWRDb2xsZWN0aW9uID0gKF9hID0gY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbGxlY3Rpb25fZ3JvdXBfYnk7XG4gIGlmIChpc0dyb3VwZWRDb2xsZWN0aW9uKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbkdyb3VwcyA9IGdldENvbGxlY3Rpb25Hcm91cHMoXG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgY29sbGVjdGlvblZpZXcsXG4gICAgICBjb2xsZWN0aW9uRGF0YVxuICAgICk7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25Hcm91cHMubWFwKChncm91cCwga2V5KSA9PiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MC5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25Hcm91cCwgX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7XG4gICAgICBrZXlcbiAgICB9LCBncm91cCksIHtcbiAgICAgIGNvbGxlY3Rpb25WaWV3Q29tcG9uZW50OiBMaXN0XG4gICAgfSkpKTtcbiAgfVxuICBjb25zdCBibG9ja0lkcyA9ICgoX2MgPSAoX2IgPSBjb2xsZWN0aW9uRGF0YVtcImNvbGxlY3Rpb25fZ3JvdXBfcmVzdWx0c1wiXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmJsb2NrSWRzKSAhPSBudWxsID8gX2MgOiBjb2xsZWN0aW9uRGF0YS5ibG9ja0lkcykgfHwgZGVmYXVsdEJsb2NrSWRzMjtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUwLmNyZWF0ZUVsZW1lbnQoTGlzdCwge1xuICAgIGJsb2NrSWRzLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgY29sbGVjdGlvblZpZXdcbiAgfSk7XG59O1xuZnVuY3Rpb24gTGlzdCh7IGJsb2NrSWRzLCBjb2xsZWN0aW9uLCBjb2xsZWN0aW9uVmlldyB9KSB7XG4gIGNvbnN0IHsgY29tcG9uZW50cywgcmVjb3JkTWFwLCBtYXBQYWdlVXJsIH0gPSB1c2VOb3Rpb25Db250ZXh0KCk7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWxpc3QtY29sbGVjdGlvblwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tbGlzdC12aWV3XCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTAuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saXN0LWJvZHlcIlxuICB9LCBibG9ja0lkcyA9PSBudWxsID8gdm9pZCAwIDogYmxvY2tJZHMubWFwKChibG9ja0lkKSA9PiB7XG4gICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgIGNvbnN0IGJsb2NrID0gKF9hID0gcmVjb3JkTWFwLmJsb2NrW2Jsb2NrSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gICAgaWYgKCFibG9jaylcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNvbnN0IHRpdGxlU2NoZW1hID0gY29sbGVjdGlvbi5zY2hlbWEudGl0bGU7XG4gICAgY29uc3QgdGl0bGVEYXRhID0gKF9iID0gYmxvY2sgPT0gbnVsbCA/IHZvaWQgMCA6IGJsb2NrLnByb3BlcnRpZXMpID09IG51bGwgPyB2b2lkIDAgOiBfYi50aXRsZTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTAuY3JlYXRlRWxlbWVudChjb21wb25lbnRzLlBhZ2VMaW5rLCB7XG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLWxpc3QtaXRlbSBub3Rpb24tcGFnZS1saW5rXCIsXG4gICAgICBocmVmOiBtYXBQYWdlVXJsKGJsb2NrLmlkKSxcbiAgICAgIGtleTogYmxvY2tJZFxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saXN0LWl0ZW0tdGl0bGVcIlxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUwLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHksIHtcbiAgICAgIHNjaGVtYTogdGl0bGVTY2hlbWEsXG4gICAgICBkYXRhOiB0aXRsZURhdGEsXG4gICAgICBibG9jayxcbiAgICAgIGNvbGxlY3Rpb25cbiAgICB9KSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUwLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saXN0LWl0ZW0tYm9keVwiXG4gICAgfSwgKF9kID0gKF9jID0gY29sbGVjdGlvblZpZXcuZm9ybWF0KSA9PSBudWxsID8gdm9pZCAwIDogX2MubGlzdF9wcm9wZXJ0aWVzKSA9PSBudWxsID8gdm9pZCAwIDogX2QuZmlsdGVyKChwKSA9PiBwLnZpc2libGUpLm1hcCgocCkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIGNvbnN0IHNjaGVtYSA9IGNvbGxlY3Rpb24uc2NoZW1hW3AucHJvcGVydHldO1xuICAgICAgY29uc3QgZGF0YSA9IGJsb2NrICYmICgoX2EyID0gYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMltwLnByb3BlcnR5XSk7XG4gICAgICBpZiAoIXNjaGVtYSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MC5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1saXN0LWl0ZW0tcHJvcGVydHlcIixcbiAgICAgICAga2V5OiBwLnByb3BlcnR5XG4gICAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MC5jcmVhdGVFbGVtZW50KFByb3BlcnR5LCB7XG4gICAgICAgIHNjaGVtYSxcbiAgICAgICAgZGF0YSxcbiAgICAgICAgYmxvY2ssXG4gICAgICAgIGNvbGxlY3Rpb25cbiAgICAgIH0pKTtcbiAgICB9KSkpO1xuICB9KSkpKTtcbn1cblxuLy8gc3JjL3RoaXJkLXBhcnR5L2NvbGxlY3Rpb24tdmlldy10YWJsZS50c3hcbmltcG9ydCAqIGFzIFJlYWN0NTEgZnJvbSBcInJlYWN0XCI7XG52YXIgZGVmYXVsdEJsb2NrSWRzMyA9IFtdO1xudmFyIENvbGxlY3Rpb25WaWV3VGFibGUgPSAoe1xuICBjb2xsZWN0aW9uLFxuICBjb2xsZWN0aW9uVmlldyxcbiAgY29sbGVjdGlvbkRhdGEsXG4gIHBhZGRpbmcsXG4gIHdpZHRoXG59KSA9PiB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCBpc0dyb3VwZWRDb2xsZWN0aW9uID0gKF9hID0gY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LmZvcm1hdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbGxlY3Rpb25fZ3JvdXBfYnk7XG4gIGlmIChpc0dyb3VwZWRDb2xsZWN0aW9uKSB7XG4gICAgY29uc3QgY29sbGVjdGlvbkdyb3VwcyA9IGdldENvbGxlY3Rpb25Hcm91cHMoXG4gICAgICBjb2xsZWN0aW9uLFxuICAgICAgY29sbGVjdGlvblZpZXcsXG4gICAgICBjb2xsZWN0aW9uRGF0YSxcbiAgICAgIHBhZGRpbmcsXG4gICAgICB3aWR0aFxuICAgICk7XG4gICAgcmV0dXJuIGNvbGxlY3Rpb25Hcm91cHMubWFwKChncm91cCwgaW5kZXgpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvbkdyb3VwLCBfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHtcbiAgICAgIGtleTogaW5kZXhcbiAgICB9LCBncm91cCksIHtcbiAgICAgIGNvbGxlY3Rpb25WaWV3Q29tcG9uZW50OiAocHJvcHMpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoVGFibGUsIF9fc3ByZWFkUHJvcHMoX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSwge1xuICAgICAgICBwYWRkaW5nLFxuICAgICAgICB3aWR0aFxuICAgICAgfSkpLFxuICAgICAgc3VtbWFyeVByb3BzOiB7XG4gICAgICAgIHN0eWxlOiB7XG4gICAgICAgICAgcGFkZGluZ0xlZnQ6IHBhZGRpbmcsXG4gICAgICAgICAgcGFkZGluZ1JpZ2h0OiBwYWRkaW5nXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KSkpO1xuICB9XG4gIGNvbnN0IGJsb2NrSWRzID0gKChfYyA9IChfYiA9IGNvbGxlY3Rpb25EYXRhW1wiY29sbGVjdGlvbl9ncm91cF9yZXN1bHRzXCJdKSA9PSBudWxsID8gdm9pZCAwIDogX2IuYmxvY2tJZHMpICE9IG51bGwgPyBfYyA6IGNvbGxlY3Rpb25EYXRhLmJsb2NrSWRzKSB8fCBkZWZhdWx0QmxvY2tJZHMzO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTEuY3JlYXRlRWxlbWVudChUYWJsZSwge1xuICAgIGJsb2NrSWRzLFxuICAgIGNvbGxlY3Rpb24sXG4gICAgY29sbGVjdGlvblZpZXcsXG4gICAgcGFkZGluZyxcbiAgICB3aWR0aFxuICB9KTtcbn07XG5mdW5jdGlvbiBUYWJsZSh7IGJsb2NrSWRzID0gW10sIGNvbGxlY3Rpb24sIGNvbGxlY3Rpb25WaWV3LCB3aWR0aCwgcGFkZGluZyB9KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgeyByZWNvcmRNYXAsIGxpbmtUYWJsZVRpdGxlUHJvcGVydGllcyB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCB0YWJsZVN0eWxlID0gUmVhY3Q1MS51c2VNZW1vKFxuICAgICgpID0+ICh7XG4gICAgICB3aWR0aCxcbiAgICAgIG1heFdpZHRoOiB3aWR0aFxuICAgIH0pLFxuICAgIFt3aWR0aF1cbiAgKTtcbiAgY29uc3QgdGFibGVWaWV3U3R5bGUgPSBSZWFjdDUxLnVzZU1lbW8oXG4gICAgKCkgPT4gKHtcbiAgICAgIHBhZGRpbmdMZWZ0OiBwYWRkaW5nLFxuICAgICAgcGFkZGluZ1JpZ2h0OiBwYWRkaW5nXG4gICAgfSksXG4gICAgW3BhZGRpbmddXG4gICk7XG4gIGxldCBwcm9wZXJ0aWVzID0gW107XG4gIGlmICgoX2EgPSBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYS50YWJsZV9wcm9wZXJ0aWVzKSB7XG4gICAgcHJvcGVydGllcyA9IGNvbGxlY3Rpb25WaWV3LmZvcm1hdC50YWJsZV9wcm9wZXJ0aWVzLmZpbHRlcihcbiAgICAgIChwKSA9PiBwLnZpc2libGUgJiYgY29sbGVjdGlvbi5zY2hlbWFbcC5wcm9wZXJ0eV1cbiAgICApO1xuICB9IGVsc2Uge1xuICAgIHByb3BlcnRpZXMgPSBbeyBwcm9wZXJ0eTogXCJ0aXRsZVwiIH1dLmNvbmNhdChcbiAgICAgIE9iamVjdC5rZXlzKGNvbGxlY3Rpb24uc2NoZW1hKS5maWx0ZXIoKHApID0+IHAgIT09IFwidGl0bGVcIikubWFwKChwcm9wZXJ0eSkgPT4gKHsgcHJvcGVydHkgfSkpXG4gICAgKTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZVwiLFxuICAgIHN0eWxlOiB0YWJsZVN0eWxlXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtdmlld1wiLFxuICAgIHN0eWxlOiB0YWJsZVZpZXdTdHlsZVxuICB9LCAhIXByb3BlcnRpZXMubGVuZ3RoICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoUmVhY3Q1MS5GcmFnbWVudCwgbnVsbCwgLyogQF9fUFVSRV9fICovIFJlYWN0NTEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS1oZWFkZXJcIlxuICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLXRhYmxlLWhlYWRlci1pbm5lclwiXG4gIH0sIHByb3BlcnRpZXMubWFwKChwKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBjb25zdCBzY2hlbWEgPSAoX2EyID0gY29sbGVjdGlvbi5zY2hlbWEpID09IG51bGwgPyB2b2lkIDAgOiBfYTJbcC5wcm9wZXJ0eV07XG4gICAgY29uc3QgaXNUaXRsZSA9IHAucHJvcGVydHkgPT09IFwidGl0bGVcIjtcbiAgICBjb25zdCBzdHlsZSA9IHt9O1xuICAgIGlmIChwLndpZHRoKSB7XG4gICAgICBzdHlsZS53aWR0aCA9IHAud2lkdGg7XG4gICAgfSBlbHNlIGlmIChpc1RpdGxlKSB7XG4gICAgICBzdHlsZS53aWR0aCA9IDI4MDtcbiAgICB9IGVsc2Uge1xuICAgICAgc3R5bGUud2lkdGggPSAyMDA7XG4gICAgfVxuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MS5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtdGhcIixcbiAgICAgIGtleTogcC5wcm9wZXJ0eVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS12aWV3LWhlYWRlci1jZWxsXCIsXG4gICAgICBzdHlsZVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgICAgY2xhc3NOYW1lOiBcIm5vdGlvbi10YWJsZS12aWV3LWhlYWRlci1jZWxsLWlubmVyXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1MS5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25Db2x1bW5UaXRsZSwge1xuICAgICAgc2NoZW1hXG4gICAgfSkpKSk7XG4gIH0pKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtaGVhZGVyLXBsYWNlaG9sZGVyXCJcbiAgfSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtYm9keVwiXG4gIH0sIGJsb2NrSWRzID09IG51bGwgPyB2b2lkIDAgOiBibG9ja0lkcy5tYXAoKGJsb2NrSWQpID0+IC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tdGFibGUtcm93XCIsXG4gICAga2V5OiBibG9ja0lkXG4gIH0sIHByb3BlcnRpZXMubWFwKChwKSA9PiB7XG4gICAgdmFyIF9hMiwgX2IsIF9jO1xuICAgIGNvbnN0IHNjaGVtYSA9IChfYTIgPSBjb2xsZWN0aW9uLnNjaGVtYSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMltwLnByb3BlcnR5XTtcbiAgICBjb25zdCBibG9jayA9IChfYiA9IHJlY29yZE1hcC5ibG9ja1tibG9ja0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnZhbHVlO1xuICAgIGNvbnN0IGRhdGEgPSAoX2MgPSBibG9jayA9PSBudWxsID8gdm9pZCAwIDogYmxvY2sucHJvcGVydGllcykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jW3AucHJvcGVydHldO1xuICAgIGNvbnN0IGlzVGl0bGUgPSBwLnByb3BlcnR5ID09PSBcInRpdGxlXCI7XG4gICAgY29uc3Qgc3R5bGUgPSB7fTtcbiAgICBpZiAocC53aWR0aCkge1xuICAgICAgc3R5bGUud2lkdGggPSBwLndpZHRoO1xuICAgIH0gZWxzZSBpZiAoaXNUaXRsZSkge1xuICAgICAgc3R5bGUud2lkdGggPSAyODA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0eWxlLndpZHRoID0gMjAwO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTEuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBrZXk6IHAucHJvcGVydHksXG4gICAgICBjbGFzc05hbWU6IGNzKFxuICAgICAgICBcIm5vdGlvbi10YWJsZS1jZWxsXCIsXG4gICAgICAgIGBub3Rpb24tdGFibGUtY2VsbC0ke3NjaGVtYS50eXBlfWBcbiAgICAgICksXG4gICAgICBzdHlsZVxuICAgIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUxLmNyZWF0ZUVsZW1lbnQoUHJvcGVydHksIHtcbiAgICAgIHNjaGVtYSxcbiAgICAgIGRhdGEsXG4gICAgICBibG9jayxcbiAgICAgIGNvbGxlY3Rpb24sXG4gICAgICBsaW5rVG9UaXRsZVBhZ2U6IGxpbmtUYWJsZVRpdGxlUHJvcGVydGllc1xuICAgIH0pKTtcbiAgfSkpKSkpKSk7XG59XG5cbi8vIHNyYy90aGlyZC1wYXJ0eS9jb2xsZWN0aW9uLXZpZXcudHN4XG52YXIgQ29sbGVjdGlvblZpZXdJbXBsID0gKHByb3BzKSA9PiB7XG4gIGNvbnN0IHsgY29sbGVjdGlvblZpZXcgfSA9IHByb3BzO1xuICBzd2l0Y2ggKGNvbGxlY3Rpb25WaWV3LnR5cGUpIHtcbiAgICBjYXNlIFwidGFibGVcIjpcbiAgICAgIHJldHVybiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1Mi5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25WaWV3VGFibGUsIF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcykpO1xuICAgIGNhc2UgXCJnYWxsZXJ5XCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0dhbGxlcnksIF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcykpO1xuICAgIGNhc2UgXCJsaXN0XCI6XG4gICAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTIuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0xpc3QsIF9fc3ByZWFkVmFsdWVzKHt9LCBwcm9wcykpO1xuICAgIGNhc2UgXCJib2FyZFwiOlxuICAgICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUyLmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvblZpZXdCb2FyZCwgX19zcHJlYWRWYWx1ZXMoe30sIHByb3BzKSk7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUud2FybihcInVuc3VwcG9ydGVkIGNvbGxlY3Rpb24gdmlld1wiLCBjb2xsZWN0aW9uVmlldyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgfVxufTtcbnZhciBDb2xsZWN0aW9uVmlldyA9IFJlYWN0NTIubWVtbyhDb2xsZWN0aW9uVmlld0ltcGwpO1xuXG4vLyBzcmMvdGhpcmQtcGFydHkvY29sbGVjdGlvbi50c3hcbnZhciBpc1NlcnZlcjIgPSB0eXBlb2Ygd2luZG93ID09PSBcInVuZGVmaW5lZFwiO1xudmFyIENvbGxlY3Rpb24gPSAoeyBibG9jaywgY2xhc3NOYW1lLCBjdHg6IGN0eDIgfSkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gUmVhY3Q1My51c2VNZW1vKFxuICAgICgpID0+IF9fc3ByZWFkVmFsdWVzKHt9LCBjdHgyKSxcbiAgICBbY3R4Ml1cbiAgKTtcbiAgaWYgKGJsb2NrLnR5cGUgPT09IFwicGFnZVwiKSB7XG4gICAgaWYgKGJsb2NrLnBhcmVudF90YWJsZSAhPT0gXCJjb2xsZWN0aW9uXCIpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTMuY3JlYXRlRWxlbWVudChOb3Rpb25Db250ZXh0UHJvdmlkZXIsIF9fc3ByZWFkVmFsdWVzKHt9LCBjb250ZXh0KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTMuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tcGFnZS1wcm9wZXJ0aWVzXCJcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1My5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25Sb3csIHtcbiAgICAgIGJsb2NrLFxuICAgICAgcGFnZUhlYWRlcjogdHJ1ZSxcbiAgICAgIGNsYXNzTmFtZVxuICAgIH0pKSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoTm90aW9uQ29udGV4dFByb3ZpZGVyLCBfX3NwcmVhZFZhbHVlcyh7fSwgY29udGV4dCksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvblZpZXdCbG9jaywge1xuICAgICAgYmxvY2ssXG4gICAgICBjbGFzc05hbWVcbiAgICB9KSk7XG4gIH1cbn07XG52YXIgQ29sbGVjdGlvblZpZXdCbG9jayA9ICh7IGJsb2NrLCBjbGFzc05hbWUgfSkgPT4ge1xuICB2YXIgX2EsIF9iLCBfYywgX2Q7XG4gIGNvbnN0IHsgcmVjb3JkTWFwLCBzaG93Q29sbGVjdGlvblZpZXdEcm9wZG93biB9ID0gdXNlTm90aW9uQ29udGV4dCgpO1xuICBjb25zdCB7IHZpZXdfaWRzOiB2aWV3SWRzIH0gPSBibG9jaztcbiAgY29uc3QgY29sbGVjdGlvbklkID0gZ2V0QmxvY2tDb2xsZWN0aW9uSWQoYmxvY2ssIHJlY29yZE1hcCk7XG4gIGNvbnN0IFtpc01vdW50ZWQsIHNldElzTW91bnRlZF0gPSBSZWFjdDUzLnVzZVN0YXRlKGZhbHNlKTtcbiAgUmVhY3Q1My51c2VFZmZlY3QoKCkgPT4ge1xuICAgIHNldElzTW91bnRlZCh0cnVlKTtcbiAgfSwgW10pO1xuICBjb25zdCBkZWZhdWx0Q29sbGVjdGlvblZpZXdJZCA9IHZpZXdJZHNbMF07XG4gIGNvbnN0IFtjb2xsZWN0aW9uU3RhdGUsIHNldENvbGxlY3Rpb25TdGF0ZV0gPSB1c2VMb2NhbFN0b3JhZ2UoYmxvY2suaWQsIHtcbiAgICBjb2xsZWN0aW9uVmlld0lkOiBkZWZhdWx0Q29sbGVjdGlvblZpZXdJZFxuICB9KTtcbiAgY29uc3QgY29sbGVjdGlvblZpZXdJZCA9IGlzTW91bnRlZCAmJiB2aWV3SWRzLmZpbmQoKGlkKSA9PiBpZCA9PT0gY29sbGVjdGlvblN0YXRlLmNvbGxlY3Rpb25WaWV3SWQpIHx8IGRlZmF1bHRDb2xsZWN0aW9uVmlld0lkO1xuICBjb25zdCBvbkNoYW5nZVZpZXcgPSBSZWFjdDUzLnVzZUNhbGxiYWNrKFxuICAgIChjb2xsZWN0aW9uVmlld0lkMikgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJjaGFuZ2UgY29sbGVjdGlvbiB2aWV3XCIsIGNvbGxlY3Rpb25WaWV3SWQyKTtcbiAgICAgIHNldENvbGxlY3Rpb25TdGF0ZShfX3NwcmVhZFByb3BzKF9fc3ByZWFkVmFsdWVzKHt9LCBjb2xsZWN0aW9uU3RhdGUpLCB7XG4gICAgICAgIGNvbGxlY3Rpb25WaWV3SWQ6IGNvbGxlY3Rpb25WaWV3SWQyXG4gICAgICB9KSk7XG4gICAgfSxcbiAgICBbY29sbGVjdGlvblN0YXRlLCBzZXRDb2xsZWN0aW9uU3RhdGVdXG4gICk7XG4gIGxldCB7IHdpZHRoOiB3aW5kb3dXaWR0aCB9ID0gdXNlV2luZG93U2l6ZSgpO1xuICBpZiAoaXNTZXJ2ZXIyKSB7XG4gICAgd2luZG93V2lkdGggPSAxMDI0O1xuICB9XG4gIGNvbnN0IGNvbGxlY3Rpb24gPSAoX2EgPSByZWNvcmRNYXAuY29sbGVjdGlvbltjb2xsZWN0aW9uSWRdKSA9PSBudWxsID8gdm9pZCAwIDogX2EudmFsdWU7XG4gIGNvbnN0IGNvbGxlY3Rpb25WaWV3ID0gKF9iID0gcmVjb3JkTWFwLmNvbGxlY3Rpb25fdmlld1tjb2xsZWN0aW9uVmlld0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnZhbHVlO1xuICBjb25zdCBjb2xsZWN0aW9uRGF0YSA9IChfYyA9IHJlY29yZE1hcC5jb2xsZWN0aW9uX3F1ZXJ5W2NvbGxlY3Rpb25JZF0pID09IG51bGwgPyB2b2lkIDAgOiBfY1tjb2xsZWN0aW9uVmlld0lkXTtcbiAgY29uc3QgcGFyZW50UGFnZSA9IGdldEJsb2NrUGFyZW50UGFnZTIoYmxvY2ssIHJlY29yZE1hcCk7XG4gIGNvbnN0IHsgd2lkdGgsIHBhZGRpbmcgfSA9IFJlYWN0NTMudXNlTWVtbygoKSA9PiB7XG4gICAgdmFyIF9hMjtcbiAgICBjb25zdCBzdHlsZSA9IHt9O1xuICAgIGlmICgoY29sbGVjdGlvblZpZXcgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbGxlY3Rpb25WaWV3LnR5cGUpICE9PSBcInRhYmxlXCIgJiYgKGNvbGxlY3Rpb25WaWV3ID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uVmlldy50eXBlKSAhPT0gXCJib2FyZFwiKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzdHlsZSxcbiAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgIHBhZGRpbmc6IDBcbiAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHdpZHRoMiA9IHdpbmRvd1dpZHRoO1xuICAgIGNvbnN0IG1heE5vdGlvbkJvZHlXaWR0aCA9IDcwODtcbiAgICBsZXQgbm90aW9uQm9keVdpZHRoID0gbWF4Tm90aW9uQm9keVdpZHRoO1xuICAgIGlmICgoX2EyID0gcGFyZW50UGFnZSA9PSBudWxsID8gdm9pZCAwIDogcGFyZW50UGFnZS5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIucGFnZV9mdWxsX3dpZHRoKSB7XG4gICAgICBub3Rpb25Cb2R5V2lkdGggPSB3aWR0aDIgLSAyICogTWF0aC5taW4oOTYsIHdpZHRoMiAqIDAuMDgpIHwgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgbm90aW9uQm9keVdpZHRoID0gd2lkdGgyIDwgbWF4Tm90aW9uQm9keVdpZHRoID8gd2lkdGgyIC0gd2lkdGgyICogMC4wMiB8IDAgOiBtYXhOb3Rpb25Cb2R5V2lkdGg7XG4gICAgfVxuICAgIGNvbnN0IHBhZGRpbmcyID0gaXNTZXJ2ZXIyICYmICFpc01vdW50ZWQgPyA5NiA6ICh3aWR0aDIgLSBub3Rpb25Cb2R5V2lkdGgpIC8gMiB8IDA7XG4gICAgc3R5bGUucGFkZGluZ0xlZnQgPSBwYWRkaW5nMjtcbiAgICBzdHlsZS5wYWRkaW5nUmlnaHQgPSBwYWRkaW5nMjtcbiAgICByZXR1cm4ge1xuICAgICAgc3R5bGUsXG4gICAgICB3aWR0aDogd2lkdGgyLFxuICAgICAgcGFkZGluZzogcGFkZGluZzJcbiAgICB9O1xuICB9LCBbd2luZG93V2lkdGgsIHBhcmVudFBhZ2UsIGNvbGxlY3Rpb25WaWV3ID09IG51bGwgPyB2b2lkIDAgOiBjb2xsZWN0aW9uVmlldy50eXBlLCBpc01vdW50ZWRdKTtcbiAgaWYgKCEoY29sbGVjdGlvbiAmJiBjb2xsZWN0aW9uVmlldyAmJiBjb2xsZWN0aW9uRGF0YSkpIHtcbiAgICBjb25zb2xlLndhcm4oXCJza2lwcGluZyBtaXNzaW5nIGNvbGxlY3Rpb24gdmlldyBmb3IgYmxvY2tcIiwgYmxvY2suaWQsIHtcbiAgICAgIGNvbGxlY3Rpb25JZCxcbiAgICAgIGNvbGxlY3Rpb25WaWV3SWQsXG4gICAgICBjb2xsZWN0aW9uVmlldyxcbiAgICAgIGNvbGxlY3Rpb25EYXRhLFxuICAgICAgcmVjb3JkTWFwXG4gICAgfSk7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgY29uc3QgdGl0bGUgPSBnZXRUZXh0Q29udGVudDQoY29sbGVjdGlvbi5uYW1lKS50cmltKCk7XG4gIGNvbnN0IHNob3dUaXRsZSA9ICgoX2QgPSBjb2xsZWN0aW9uVmlldy5mb3JtYXQpID09IG51bGwgPyB2b2lkIDAgOiBfZC5oaWRlX2xpbmtlZF9jb2xsZWN0aW9uX25hbWUpICE9PSB0cnVlICYmIHRpdGxlO1xuICBpZiAoY29sbGVjdGlvbi5pY29uKSB7XG4gICAgYmxvY2suZm9ybWF0ID0gX19zcHJlYWRQcm9wcyhfX3NwcmVhZFZhbHVlcyh7fSwgYmxvY2suZm9ybWF0KSwge1xuICAgICAgcGFnZV9pY29uOiBjb2xsZWN0aW9uLmljb25cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTMuY3JlYXRlRWxlbWVudChSZWFjdDUzLkZyYWdtZW50LCBudWxsLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1My5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIG51bGwsIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgbnVsbCwgdmlld0lkcy5sZW5ndGggPiAxICYmIHNob3dDb2xsZWN0aW9uVmlld0Ryb3Bkb3duICYmIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvblZpZXdUYWJzLCB7XG4gICAgY29sbGVjdGlvblZpZXdJZCxcbiAgICB2aWV3SWRzLFxuICAgIG9uQ2hhbmdlVmlld1xuICB9KSksIHNob3dUaXRsZSAmJiAvKiBAX19QVVJFX18gKi8gUmVhY3Q1My5jcmVhdGVFbGVtZW50KFwiZGl2XCIsIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24taGVhZGVyXCJcbiAgfSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTMuY3JlYXRlRWxlbWVudChcImRpdlwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLWhlYWRlci10aXRsZVwiXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoUGFnZUljb24sIHtcbiAgICBibG9jayxcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLXBhZ2UtdGl0bGUtaWNvblwiLFxuICAgIGhpZGVEZWZhdWx0SWNvbjogdHJ1ZVxuICB9KSwgdGl0bGUpKSksIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24tY29sbGVjdGlvblwiLCBjbGFzc05hbWUpXG4gIH0sIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoQ29sbGVjdGlvblZpZXcsIHtcbiAgICBjb2xsZWN0aW9uLFxuICAgIGNvbGxlY3Rpb25WaWV3LFxuICAgIGNvbGxlY3Rpb25EYXRhLFxuICAgIHBhZGRpbmcsXG4gICAgd2lkdGhcbiAgfSkpKTtcbn07XG52YXIgQ29sbGVjdGlvblZpZXdUYWJzID0gKHsgY29sbGVjdGlvblZpZXdJZCwgdmlld0lkcywgb25DaGFuZ2VWaWV3IH0pID0+IHtcbiAgY29uc3QgeyByZWNvcmRNYXAgfSA9IHVzZU5vdGlvbkNvbnRleHQoKTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwge1xuICAgIGNsYXNzTmFtZTogXCJub3Rpb24tY29sbGVjdGlvbi12aWV3LXRhYnMtcm93XCJcbiAgfSwgdmlld0lkcy5tYXAoKHZpZXdJZCkgPT4ge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovIFJlYWN0NTMuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiLCB7XG4gICAgICBvbkNsaWNrOiAoKSA9PiBvbkNoYW5nZVZpZXcodmlld0lkKSxcbiAgICAgIGtleTogdmlld0lkLFxuICAgICAgY2xhc3NOYW1lOiBjcyhcbiAgICAgICAgXCJub3Rpb24tY29sbGVjdGlvbi12aWV3LXRhYnMtY29udGVudC1pdGVtXCIsXG4gICAgICAgIGNvbGxlY3Rpb25WaWV3SWQgPT09IHZpZXdJZCAmJiBcIm5vdGlvbi1jb2xsZWN0aW9uLXZpZXctdGFicy1jb250ZW50LWl0ZW0tYWN0aXZlXCJcbiAgICAgIClcbiAgICB9LCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1My5jcmVhdGVFbGVtZW50KENvbGxlY3Rpb25WaWV3Q29sdW1uRGVzYywge1xuICAgICAgY29sbGVjdGlvblZpZXc6IChfYSA9IHJlY29yZE1hcC5jb2xsZWN0aW9uX3ZpZXdbdmlld0lkXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnZhbHVlXG4gICAgfSkpO1xuICB9KSk7XG59O1xudmFyIENvbGxlY3Rpb25WaWV3Q29sdW1uRGVzYyA9IChfYSkgPT4ge1xuICB2YXIgX2IgPSBfYSwgeyBjb2xsZWN0aW9uVmlldywgY2xhc3NOYW1lLCBjaGlsZHJlbiB9ID0gX2IsIHJlc3QgPSBfX29ialJlc3QoX2IsIFtcImNvbGxlY3Rpb25WaWV3XCIsIFwiY2xhc3NOYW1lXCIsIFwiY2hpbGRyZW5cIl0pO1xuICBjb25zdCB7IHR5cGUgfSA9IGNvbGxlY3Rpb25WaWV3O1xuICBjb25zdCBuYW1lID0gY29sbGVjdGlvblZpZXcubmFtZSB8fCBgJHt0eXBlWzBdLnRvVXBwZXJDYXNlKCl9JHt0eXBlLnNsaWNlKDEpfSB2aWV3YDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqLyBSZWFjdDUzLmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19zcHJlYWRWYWx1ZXMoe1xuICAgIGNsYXNzTmFtZTogY3MoXCJub3Rpb24tY29sbGVjdGlvbi12aWV3LXR5cGVcIiwgY2xhc3NOYW1lKVxuICB9LCByZXN0KSwgLyogQF9fUFVSRV9fICovIFJlYWN0NTMuY3JlYXRlRWxlbWVudChDb2xsZWN0aW9uVmlld0ljb24sIHtcbiAgICBjbGFzc05hbWU6IFwibm90aW9uLWNvbGxlY3Rpb24tdmlldy10eXBlLWljb25cIixcbiAgICB0eXBlXG4gIH0pLCAvKiBAX19QVVJFX18gKi8gUmVhY3Q1My5jcmVhdGVFbGVtZW50KFwic3BhblwiLCB7XG4gICAgY2xhc3NOYW1lOiBcIm5vdGlvbi1jb2xsZWN0aW9uLXZpZXctdHlwZS10aXRsZVwiXG4gIH0sIG5hbWUpLCBjaGlsZHJlbik7XG59O1xuZXhwb3J0IHtcbiAgQ29sbGVjdGlvbixcbiAgUHJvcGVydHlJbXBsTWVtbyBhcyBQcm9wZXJ0eVxufTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/react-notion-x/build/third-party/collection.js\n");

/***/ })

};
;